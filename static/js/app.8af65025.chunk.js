(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{381:function(e,t,n){e.exports=n(619)},458:function(e,t,n){e.exports=n.p+"static/media/click.790b3c0f.wav"},529:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///8wKzuFnqGuw75XZGkUFSn///9rnbxSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAX0lEQVQoz73OwQ3AMAgDQFbwCl4hK3gF9l+lkKp5tHE/leoXnARyxH/BzAuAo0LBgsYZCyDVR/SgKeQld0j1TYVMA92LUJW3UMV6lQxEj8hyOJgj1s8NRPaaufYnfMwBfSomp3LRKswAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},530:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///94LE3MoFr4xpy7Z0kUFSlhIz7///+lDuqmAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAaklEQVQoz63P0Q2AMAgEUFZghVuBFW4FVnD/ETysMWqlXx5f91JCavZXXFmCI0BfgEcEJdfeG7SgHmREAxkAJIA3sJEcwgYsfQh4ygSWeoxCsIFDNDrcgaW+VpYtlPDeZyjJXII92xd02QH8mypfkY24lgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},531:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///9hIz7/uTX//3n/0EgUFSm7Z0n////E9MarAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAcklEQVQoz42P0Q3AIAhEWYEVWIEVusKt4P4jFEFNU8SWxJ9HjucR/R22OQIWVeEjUBH9AlcJXIh+FHsQwpgCuBBNpKEEJmQAI5RACC0y+yXgPlhk9ksghD0y+iXQhQDZG/0SWJ+O6xtAnqDHJoE1c/MCNy+bOxtTHkTmAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},532:function(e,t,n){e.exports=n.p+"static/media/manamodified.23d4812d.png"},533:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///8zO08UFSmuw75ug5D///914ehsAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAZ0lEQVQoz62OwQ3AMAgDWcEreAVWYP+ZSghtJErST3kg3SnGEflzAJ4FVI0nEUzuxWC/uheTsTJVABb8hKoAPWHOd3EVUDqbc0aqQPyZnHflLaKSxHpQRVQyi6UXFmJs6cWY3L34nAu44ClxNouvIQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},534:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///8yELAUsvpOe/C3//EQWKgUFSn////g/AlvAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAUElEQVQoz73LQQ3AMAxD0VAwhVAwhVAIhfCHsFa7tIuaHCbVt/8ki9wcOoDiL4C6SwZtYD6MqMBs/3wBHEA6CtDR9DiDd/B+ls4gQMTaGao9iyIYcd5XyvYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},535:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///8VZEQUFSm58IZjvyP////Gb/X2AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAUUlEQVQoz73O0QkAIAgE0FZwhVvBFdx/prQIVKT6iO7vHojX2rsQDkDM2IJ2CZLBunjJYJ3gJMPo+lavUAOA+VZTw+UOkbTDw+phRwC41PAhHUroIs3wrrJaAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},536:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX/////KzyaBAT/pgBhIz7/6Xb///+xkIV3AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAWElEQVQoz63OQQlAMQwD0FiIhVqIhVqofyu/u/wNCtllueVBQ4GX4QWCV5AHLggHQJaFQDYcMoHJohyIKhXTQXX26oCUap0Y4ALt0Qn9lxR/n4CMztEnuHwVpR5JAdiDWwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},537:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///8EjfkQWKj9/OEUFSlh1/P///+rQjhbAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAATklEQVQoz2NgoDMQVFLCLyBobIxfAMg3dsEnQECBEoOScSiykZgCLoKhoch2YggIKoUKojoKXcBFUAnFDRgCSqEuqF7HEHBBCylMAdoDAOkIEDUc86j8AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},538:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX///9AISCYUEbtwykaJSz/9xmdnJy+x7b7++jf3tJFU3f///9lvHjDAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAa0lEQVQoz43QXQ3AMAhGUSxgAQu18FmohVrAQi1gAZXbWLK/jqb3jfNACERLsUScAkuJBCnUE2oKkBpJCgSOrvkHmqq2NgFC7/acR9jFnKbg3TADeCxFCnC1HW4ZgIsfoaSw/DF8P4b38WkblXBFVesAamMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},539:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEX///81QEgUFSn9/OGJTjmdXz5sPEqz2ttug5D////dtc1GAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAVUlEQVQoz73LUQ2AMBRD0WehFp6FWagFLGChFiYbxrYQMvoJ968nacRvIXtwgDKDBW4tWsiy90o60LjIw7h4wPWh4CCyiqTq3Cu0k+7DG5yCx17h4w4xtzFpdejLAwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},540:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///95ADYUFSnDDR3/Kzz5ko////8mMenvAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAATUlEQVQoz9XPwQkAMAgDQFfIClnBFbKC+69S8VEKYn99NL8cImr2VQBmgBHgEik5RlBEmnQFRQInYM3n0hGMqJW7d6jT/Ogd6j27wuMs9FwZga+o95AAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},541:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAE6SURBVFhHYxgFo2AUjIIRDxihNE5QyWD2H8oEg9min6Es7CD1NS+UBQHtDKfw2sEEpQcM4HQdzOdevM/BfBs5eTANA6Kv3kJZEPBaTBjKgoAjjx6C6W2fJcE0rpAY/CHQps0G5v9KDwbTMHCqug9Mo4cMOqi6+gtMD9oQINsBIJ+DMChk0EMHGYByDb6cM3jTgIioJjgNrP/xBcwnFNfIgF35HpSFCn5teoZh3+BNA29eX2cE4UAOHgYQBqVmWIrGB5DVcDRrgzE+QLUQAAU7CPf6PYGKYAI2P6n/MAwVIuwAWEhAueASDlbKUQPgTITogFDRDEt4hIL8R+1VMA1LkEQ7AAZw1Y6fLD+C6QF3ADKAOQZmKTIg2wG4AHLCggG6OgAZwByD7gBsBRFNHYAOsDlgwEvCkQ4YGAB/E36wHKhR7QAAAABJRU5ErkJggg=="},542:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///9AN0sdGimkPOpgM7vSg+P///+zG2b1AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAY0lEQVQoz73Q0QkAIQwD0K6QFbJCVsgK7r/KWQ9Eeurn9a8PSkIjfhwAvAIkmxdAa12WowMYR4ClATwAMVbPchXY/IL7KbegDB0iYQfBpI6eKRWyGDKTS/UCcnlohWDZv3CdB9mJJoU/PIJRAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},543:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///+aBAQUFSn/pgD/Kzz///9+b5d3AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAVElEQVQoz73OwQ3AIAxDUa/ACl6hK2T/mZoIECWRxaESX+LgdyHApdqKAp6RmQAX6xECphAC4r8QegJ8+aOtOxJ0Ybpjg+MdUz67Qsi2K6ClXeFPL24iIiN4fISOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},544:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///8UFSlhIz6YUEbGiGKNqJ/k6Nr////hfI/wAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAcklEQVQoz43R0RHAIAgDUFfIClkhK7iCK7D/CAWvPT2qtvnjfQBiKb8DEHsA6bWGZED1Gqp7oGpE2IL387BNQxIUNDNrPAB9Kc67Z/CxknVcA32nGvBIhnvxb1A0XQO69OdhDXFizfUb4o/ibRgnzHDOBSvxMSXp6jiwAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},545:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABHElEQVRYR+2WzRGCQAyFgQbAm9qFR4ZSrAGKoQQK8cZw9EgF/tyACnTYmRz2YcyyjoQDXBxIIO99SYQwUD5C5frBJsCZwC3PX9/aFVWVFT4Mg9OznZLGJ6sJeMSxcb7v+1nz+kwSky+REAmoCSDkx7K0nN+LwjrH3iMpiQRLQE0AV5ickH3OKcbbtjWXdmn6cSYmBNQF4NBJznE1ML9rmnkEVivAt+dE4JplhsS566y2T2aAI7B6AeSUZoKmfjECfxfA7T/tOTq/RJG5dKpr8/vzDKgJoMLcfkvOKe5NYHEBVJB7DSMJyseeS84pzr4N1QUgCVwz6fOI6zne5/xFpCYASVCvJQL4n8/liwRWI0By7Bt3JuBbQLpvE/AGFlceMMXqLnoAAAAASUVORK5CYIIA"},546:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///+58IYUFSk1QEhjvyP///8Ouw5/AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAYklEQVQoz6XP2wnAMAxDUa+gFbTCXcH7z1S3hLakeXxUhGAfCCgRLYou6tcVqIEWoBvnEHuwn3JDsOQVxAYqkIbXZ3sgVUmmQIJUz5hADSavizGcvdJ1Xj0+gGzxD1wLHsMBx4cZgVLbW7UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},547:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX///8aJSxTFBSzdUtyExOaVACdnJzf3tJFU3d8boEUFSn////cm99fAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAYElEQVQoz63QQQ3AMAiFYSxgYRZqAQtYqAUszEItVOXeSNcsZPTS/Te+E0D0V3wgXgAXj1PgIopkSgTM1VB95AvMTsg2tLYAFfNEcxiLZXCLp/PaCBDv9bEI1DsjWsBeF2U/RKsn+RQvAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},548:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX/////pgAUFSk1QEirWlP///9PTK/7AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAbUlEQVQoz33OgQ3AIAgEQFb4FX6FX4H9ZyrYNkFRiUG8hPhmb8GWwvpAxQY5YdqaAHUhHw3+XoYGo8gl6QSSEWDeexCkBMVwBJcz2hEcX/kB4rs0V8mxQAQXoBq+gzPODQQSusDIrCIdqK9t4AFICR0XUBjz/wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},549:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///+rWlNhIz7/9xn/pgD///+yX7YvAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAATElEQVQoz63NsREAIAgDQFZghazACuw/k9gJ4bDQdPkzKPItGsEMZnYFH0G9PnBeKDBALPJRAkQ3lQmA/C3BvnouOiiLDnJnQOkMb1lFoBIROsgdbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},555:function(e,t,n){var r={"./af":166,"./af.js":166,"./ar":167,"./ar-dz":168,"./ar-dz.js":168,"./ar-kw":169,"./ar-kw.js":169,"./ar-ly":170,"./ar-ly.js":170,"./ar-ma":171,"./ar-ma.js":171,"./ar-sa":172,"./ar-sa.js":172,"./ar-tn":173,"./ar-tn.js":173,"./ar.js":167,"./az":174,"./az.js":174,"./be":175,"./be.js":175,"./bg":176,"./bg.js":176,"./bm":177,"./bm.js":177,"./bn":178,"./bn-bd":179,"./bn-bd.js":179,"./bn.js":178,"./bo":180,"./bo.js":180,"./br":181,"./br.js":181,"./bs":182,"./bs.js":182,"./ca":183,"./ca.js":183,"./cs":184,"./cs.js":184,"./cv":185,"./cv.js":185,"./cy":186,"./cy.js":186,"./da":187,"./da.js":187,"./de":188,"./de-at":189,"./de-at.js":189,"./de-ch":190,"./de-ch.js":190,"./de.js":188,"./dv":191,"./dv.js":191,"./el":192,"./el.js":192,"./en-au":193,"./en-au.js":193,"./en-ca":194,"./en-ca.js":194,"./en-gb":195,"./en-gb.js":195,"./en-ie":196,"./en-ie.js":196,"./en-il":197,"./en-il.js":197,"./en-in":198,"./en-in.js":198,"./en-nz":199,"./en-nz.js":199,"./en-sg":200,"./en-sg.js":200,"./eo":201,"./eo.js":201,"./es":202,"./es-do":203,"./es-do.js":203,"./es-mx":204,"./es-mx.js":204,"./es-us":205,"./es-us.js":205,"./es.js":202,"./et":206,"./et.js":206,"./eu":207,"./eu.js":207,"./fa":208,"./fa.js":208,"./fi":209,"./fi.js":209,"./fil":210,"./fil.js":210,"./fo":211,"./fo.js":211,"./fr":212,"./fr-ca":213,"./fr-ca.js":213,"./fr-ch":214,"./fr-ch.js":214,"./fr.js":212,"./fy":215,"./fy.js":215,"./ga":216,"./ga.js":216,"./gd":217,"./gd.js":217,"./gl":218,"./gl.js":218,"./gom-deva":219,"./gom-deva.js":219,"./gom-latn":220,"./gom-latn.js":220,"./gu":221,"./gu.js":221,"./he":222,"./he.js":222,"./hi":223,"./hi.js":223,"./hr":224,"./hr.js":224,"./hu":225,"./hu.js":225,"./hy-am":226,"./hy-am.js":226,"./id":227,"./id.js":227,"./is":228,"./is.js":228,"./it":229,"./it-ch":230,"./it-ch.js":230,"./it.js":229,"./ja":231,"./ja.js":231,"./jv":232,"./jv.js":232,"./ka":233,"./ka.js":233,"./kk":234,"./kk.js":234,"./km":235,"./km.js":235,"./kn":236,"./kn.js":236,"./ko":237,"./ko.js":237,"./ku":238,"./ku.js":238,"./ky":239,"./ky.js":239,"./lb":240,"./lb.js":240,"./lo":241,"./lo.js":241,"./lt":242,"./lt.js":242,"./lv":243,"./lv.js":243,"./me":244,"./me.js":244,"./mi":245,"./mi.js":245,"./mk":246,"./mk.js":246,"./ml":247,"./ml.js":247,"./mn":248,"./mn.js":248,"./mr":249,"./mr.js":249,"./ms":250,"./ms-my":251,"./ms-my.js":251,"./ms.js":250,"./mt":252,"./mt.js":252,"./my":253,"./my.js":253,"./nb":254,"./nb.js":254,"./ne":255,"./ne.js":255,"./nl":256,"./nl-be":257,"./nl-be.js":257,"./nl.js":256,"./nn":258,"./nn.js":258,"./oc-lnc":259,"./oc-lnc.js":259,"./pa-in":260,"./pa-in.js":260,"./pl":261,"./pl.js":261,"./pt":262,"./pt-br":263,"./pt-br.js":263,"./pt.js":262,"./ro":264,"./ro.js":264,"./ru":265,"./ru.js":265,"./sd":266,"./sd.js":266,"./se":267,"./se.js":267,"./si":268,"./si.js":268,"./sk":269,"./sk.js":269,"./sl":270,"./sl.js":270,"./sq":271,"./sq.js":271,"./sr":272,"./sr-cyrl":273,"./sr-cyrl.js":273,"./sr.js":272,"./ss":274,"./ss.js":274,"./sv":275,"./sv.js":275,"./sw":276,"./sw.js":276,"./ta":277,"./ta.js":277,"./te":278,"./te.js":278,"./tet":279,"./tet.js":279,"./tg":280,"./tg.js":280,"./th":281,"./th.js":281,"./tk":282,"./tk.js":282,"./tl-ph":283,"./tl-ph.js":283,"./tlh":284,"./tlh.js":284,"./tr":285,"./tr.js":285,"./tzl":286,"./tzl.js":286,"./tzm":287,"./tzm-latn":288,"./tzm-latn.js":288,"./tzm.js":287,"./ug-cn":289,"./ug-cn.js":289,"./uk":290,"./uk.js":290,"./ur":291,"./ur.js":291,"./uz":292,"./uz-latn":293,"./uz-latn.js":293,"./uz.js":292,"./vi":294,"./vi.js":294,"./x-pseudo":295,"./x-pseudo.js":295,"./yo":296,"./yo.js":296,"./zh-cn":297,"./zh-cn.js":297,"./zh-hk":298,"./zh-hk.js":298,"./zh-mo":299,"./zh-mo.js":299,"./zh-tw":300,"./zh-tw.js":300};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=555},559:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///9sPEpAN0v///adXz7HmVyTk5MUFSn///8qylyOAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAQ0lEQVQoz2NgGEpAUEkQDJQEcQkoGbuEAoGLsRIuAUGYgCD5Akppgi5AIJimhE8AqAOPQDlMSzkuAcFyKBDEJUB7AAA6+ycNP8waowAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},560:function(e,t,n){e.exports=n.p+"static/media/basementBat.03b5b98f.png"},561:function(e,t,n){e.exports=n.p+"static/media/mouse.139223ad.png"},562:function(e,t,n){e.exports=n.p+"static/media/skeleton.fd7f5027.png"},563:function(e,t,n){e.exports=n.p+"static/media/angrySheep.868ded22.png"},564:function(e,t,n){e.exports=n.p+"static/media/littleDevil.5b0c08f5.png"},565:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///8UFSkfZEXs7+kb5XcUsX////9swsgrAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAMUlEQVQoz2NgGHZAUElJSVAQn4CSsbFLqBJeARcXpVBBfAJAU1H5mAIMgmh8TIFBDwDxkgeTCNHXRgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},566:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///8UFSlOQVo5LU2+x7aAfYP///8F0SFqAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAALklEQVQoz2NgGHZAUEnJWFAQn4CSi0uoEn6B0FBj/AIMgmh8TAEGQTQ+psCgBwC9xgdPk33szAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},567:function(e,t,n){e.exports=n.p+"static/media/earthSpeck.069668e6.png"},568:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///8UFSltPUvs7+n/inv/KzysMjL///+EyttnAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAALklEQVQoz2NgGHZAUElJSVAQn4CSsbFLKH4BF5c0/AIMgmh8TAEGQTQ+psCgBwDHhgiBSowpdgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},569:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///8UFSlgM7vs7+nxhfWkPOr///8l8MOxAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAMklEQVQoz2NgGHZAUElJSVAQn4CSsbFLqBJeAReX0FBBfAIMgi6ofEwBBiU0PqbAoAcAqfkIXzX2+n4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},570:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAq0lEQVRYR2NkGGDAOMD2M4w6YDQERkNgNARGQ4DkEBAR1fwPKr4N/b9hLcXPb+RCEX/z+jpeO4aeA1xT5MEhsLz7FIpP530zAvNPn/kJpj9s5gbTu+c8pG4IDBoHuDb+QQmB3fUsYL6A71cwvT9FFExTPQ3AQmDAHADzNnpuINXnMHNIzgWDxgHoDoHxCcU5euFBdggMGgdQ2qilOARGHTAaAqMhMBoClIYAAElDUiGRTJfvAAAAAElFTkSuQmCC"},571:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///8UFSkyELDs7+lsx/5Oe/D///9l7kv3AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAALklEQVQoz2NgGHZAUElJSVAQn4CSsbFLKH4BFxcl/AJAU1H5mAIMgmh8TIFBDwDLpwdxcKuRhQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},572:function(e,t,n){e.exports=n.p+"static/media/slime.d7b715fc.png"},573:function(e,t,n){e.exports=n.p+"static/media/ancientHeadmaster.b7fa7587.png"},574:function(e,t,n){e.exports=n.p+"static/media/redSlime.68b597d0.png"},575:function(e,t,n){e.exports=n.p+"static/media/zombie.a720d22e.png"},576:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///9AN0sdGilug5BXZGk7QE3///8/NTpPAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAZ0lEQVQoz63Q0Q3AIAgEUFe4FW4FVmAF9l+lJ2n9oOJPS2LiPYVEx/izwDOAZjjAjB6BDu7oq6kCQuWKLdAUZUsqwDXRcmwDNA1MIX0HyIa5QofcAalAXefzkAKqsLnnAVj/+wVf6wKvTizlX11jPgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},577:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///+YUEZhIz4UFSnqt4DGiGL///9lxA6tAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAWklEQVQoz43QUQ3AQAgD0LNQC7WAhVrAv5X1byxkHHy+UCCcsyrwBiFeYNFCJUdgCjGDwBGcYMygBXhooQaRUoLvbR2816R/OIF0pnyggUNg1g80sHyP7zDUA1F8H52JYm82AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},578:function(e,t,n){e.exports=n.p+"static/media/enchantedSheep.9e3d62ed.png"},579:function(e,t,n){e.exports=n.p+"static/media/blackSheep.0a5a0c4f.png"},580:function(e,t,n){e.exports=n.p+"static/media/mimic.b13d0981.png"},581:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABbklEQVRYR2NkGGDAOMD2M5DsAAdz7/8gR5ucPIbi9gWiEmD+m9fXSTKTJMUgCwbMASUMgmCfm0c5gX0qrccPpp9e+gimTy7bB6ZJDQmiQ2DQOCCoIxAl7mEhABOEhUQPw3uiPEeUIpDhsBAYcAeMvDQAy3ZfOf+Co9n+wEms+R8mqKgtD2bev/qQqHKBYBoYNA7YPxMSAqUG+EPg9cTrYHWi+ZrUDYEBc4Cpgwe4BNR5/A3so3lruVDSAJxzbQeKz335RMH8+XcP4Y1mgmlgwB2QqGwHDgGH2GtgH11ugKQFQuCtsi51QmDQOKB26h+wj6Q1QlE8v2JBK9bAOLBYi7ohMOgdYGuhBvbx4RO3wDTdQ4BuDkCPcJiP0cWLp0LKAUJtRILlACwXwNLAgDkAVg7AghrmELqFwIA5AL0oRo8K9BCApf7Nn15TJw0MuANgcY3uEFx1AbE+h+knmAsGjQMI1X7kyhMdAuRaQEgfAAUWKDCEIdYFAAAAAElFTkSuQmCC"},582:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEX///9AN0tIRWJkdHrAvbGTk5MUFSlQVViaBARhIz7kIxz/WUP5ko////8bpoOqAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAeklEQVQoz43QXQ3GMAiF4Vo4FmYBC7WAhVqYBSxgAQtYqKjRLd9PtpbsveNJoElLeRe2CAmAakRIoDLANYGNz5WWQAhTW0Pc47oTf9+9A0TGUSYRzEHNTUZmuoLe3WPMoVsCEHP3MUtbgH5AF3Dt/DYmUACN/n7sAWkHnkJ6lx4zUsAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},583:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEX///9AN0sQWKgUsvr9/OFh1/M1QEgUFSlIRWKxIBv/pgD/0Ej////X3D1IAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAgElEQVQoz4XQbQ3DQAgG4LOABSy8FrCABSxgAQtnoRZqbly7pc062PvnwpNc+BhjhThD48o3EERUb/IAFhBBuYHzSwO2urp7AwZRd+uARdFA8NwitslRgDF47vvMx35D5OBrMgBRgwqQVoABqkfNXgD/g5Q3fC70gLX+ccNRQpsX9xpOO1NXcLEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},584:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEX///8dZEBs2CAtoS8UFSk1QEgVZETqt4BsPEr7++j///8v6huhAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAgUlEQVQoz33PUREDIQwE0FhYC2shFmIBC7FwFmLh3HbpR4+W0Aw/vJkNi5kGsO/ZgfgHAJyr7KCbzrN4hxkg/AwBUObjCEAEyXGGeXMnpmS24G/BVZlswUKj5ndps7WgahHXXfl5eYPZripcMo5gSX0gl0wHQ6EzpDqtKxtY0j/wAhXLOYOtg6I4AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},585:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEX///9AN0t0ABEUFSmrWlPGiGI1QEj/0Ej/pgAUsEYVZERs2CC58Ib///+1qBE6AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAY0lEQVQoz43NQRHAMAhEUSzEAhawgIVYwAIWYgELsYCFiGrSW9Pppv/4ZliIflaYBQJr1Ye8oVZVhnDaKDa/ihUAvqDJNxi7exMDEDzrCHKMiDhBYsjcTnaII/QFHQDZHQFAXSG/UMHVSD70AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},586:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEX///9AN0t0ABEUFSmrWlPGiGI1QEj/0Ej/pgBhIz7kIxz/WUP5ko////80yYgGAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAZklEQVQoz43QUQ3AMAhF0VmoBSxgAQu1gAUs1AIWsICFihr929LsdffzJEDCdf2sETEEki4v2aF3EYJw2tG0rrIyAFswAKib2WD/Bg9aIcg5I+IEiSGzRhhAnEB9gQMoqZ4/3QB1A026VjPkfBZxAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},587:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABZElEQVRYR2NkGGDAOMD2M5DsAAdz7/8gR5ucPIbi9gWiEmD+m9fXSTKTJMUgCwbMASUMgmCfm0c5gX0qrccPpp9e+gimTy7bB6ZJDQmiQ2DQOCCoIxAl7mEhABOEhUQPw3uiPEeUIpDhsBAYcAeMvDQAy3ZfOf+Co9n+wEms+R8mqKgtD2bev/qQqHKBYBoYNA7YPxMSAqUG+EPg9cTrYHWi+ZrUDYEBc4Cpgwe4BOT+zgz2EcwhKAkBxLm2A8XnOkpKYP6Bk1vxRjPBNDDgDoAlwisaYZA4PTwfw/PYBBxEuakTAoPGAb+iJoN9FGoujeLh1ukrsIaIzo1V1A2BQe8ANSNbsI9vnTsMpukeAnRzAHqEw3yMkRC2dVC3JISlgQFzAKwcgAU1zCF0C4EBcwB6UYweFeghAEv9V+7do04aGHAHwOIa3SG4KgRifQ7TT7A2HDQOIKoKJEMR0SFAhtlEaQEAbG4iMLG1M3gAAAAASUVORK5CYIIA"},588:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAFVBMVEX///9hIz4dGinGiGKYUEb4xpz///9tG9KaAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAa0lEQVQoz63QwQ3AMAgDQFbwCqzgFViB/VcpplU/hbxqRZG4ByDM/gng9TsOQHiFWMGDobwyQKbqA4CZJJO+Q0lZbICay56MDSiQPF0HeIMRuo5+7FN9QEMD3XUD1JVx7+Y2gawCXdo2OOUCGag0MwUtb40AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},589:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX///8dGikjMJ2uw74URjAggFYUsEYckkJs2CDs7+kQWKj///+EABYyAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAgklEQVQoz43QQRUDIQwEUCyMBSzEQizEwlioBSxgoSo7sPSym/R1TpN/ILy09n/Qey9ABUo3s57CLgL3AFJYlbFCbyk0+GssYQkSjkFyEBVAg8KowKEH92avgAv2ZqTgGrfwfC2BYBx0ZIA5LaS6UFgOwNtsKmbnhje4zBV85yf8ygcuh1thU1BKBgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},590:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///9hIz4dGinGiGKYUEb///+eqHk9AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAZklEQVQoz63RwQ0AIQhEUVv4LdCCLdB/TeuwmywJyklO5gVH1DEuFaZqgCnBjsBUuTdgPp0UXGCsQCwHV0C7InkPaBHibCHmIoLfcwuoefWCfxEFdCpE5An+F2ggz7mHuF/+mApNPVLRJ9myN+ghAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},591:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///8KWK5F0PEEjfn9/OG14O0UFSn////S9Ol9AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAUElEQVQoz83LMRGAQAxE0Vj4FmIhFrCABfxLYK8ilxxQ0LDdfzNr9q/BC+DBI+DbLBXUu2epMFpwyQI8Au24A0OH3B2GEKk7SObuYJTu8GUnXRoTy4+2u4QAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},592:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGVSURBVFhHYxjxgBFKUwxkpTT/g2hrO30wHx2sWLECq11MUHrAAIarIiIiwD6BgaOHLkJZ+AHM59nZ2WAaHUydOhVMo4fE4AkBmM8J+QBXiLCJlUBZEPBWgxtM8x5qBNMw8PjZ9UEaArBUDAPoPnoYGwOmeU6vB9OEwBfTQDAtv3gJmL57IRkjvYHAgIcA3AGguEGPHxAAxSUIC6gygjHIZzDfYQOE5NHB4CsHYACWJmBpAZYGQKGADD7cRkk6cABTB5OX7DUA04M3F6AD9FzxvPgClAUB6CGBDmA+h+UaWHkwdEJA2WAu2Au/XvWA+Z/t6sE0rhROqHwQvvEVTKOXB4M/BNBLQEJ5HFdIwPSh54bBFwIwn8MALASoBdDrhgEPAZwOAPkcn+9BcY0tvnGJowNQOQPCgy8NwEpAXPke3XfElgswdTBxWMk4eENg2cpZYD468J36FMoiD2zOlgbTUeFpYHrwhgA6gLULFkxWA9MwYGNjA2VhB0eOHIGyIADm88FbEuIChEIGF4DVpjAwyNoDDAwAqjGezpTvlrkAAAAASUVORK5CYII="},593:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///9hIz4dGimYUEbGiGL///9qY/aJAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAYUlEQVQoz82QwQ3AIAwDs4JX8ApZwfvP1IRWESXw66N+IOUEF2Sz3wRgJM4TgEuIucgKQAGDeLzbAh+3WeIGKHfO4gZCqlncQf78FovBd8Bem2wPUqwcq4EVPB1xbZH2US5vviE18wktGgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},594:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGDSURBVFhHYxjxgBFKw4FAxIr/UCYY8B5qBNOPn13HUIsPwMyB6f9sVw+mP6yIQDGHCUoPGIC7Bt3Fz4svgOnbgTfBtGHVNTCN7iMYQBc/36YFplXXq4NpGOA5vR5Mw0Ji8ISAtYMvOASWzGsF82E+ZokKAtOzBI+A6fzwbDCNC0xcORVMp723AdN/lq0D07AQiUmqBtNHD2weZCEgK6UJDgE5NRUwv7i5EEyHnbIG0wKqEKW4QgLd5x9uQzLTKrOjYLq3th9MP7p1B0zDctXgCQEYgIUEDMBSNSwtwAAsJGAA5nMYgMU9LHfAAHp5MvhCAB3AQgQ93xMCMJ8TKkEHfwjAAHpIwPI1DKCXlMTWHUMvBA4dWQnmo5fxsDrDziYcTA+fEECPe/S6AQbQy/4hkwvIdgDIx8iYXDB40wB63H8xDQTTsFoRF4DVgrCWD6G0MPjTwLxsMTAmFRCrb/CmARiApQVYi8dQWgRM4wLnn74B07AW0/CtDXGBIVcbjnTAwAAAHXOo7cBCkPIAAAAASUVORK5CYII="},595:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///87QE3f3tKuw75ug5AdGiltPUv///+S/abuAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAZUlEQVQoz7WP0Q2AQAxCuwIrdAVWYIWu4P4jyCX6ofbOH+WLvoQGIj4RgKu5AyRV9igl0QJSKktiD2zhUImw7UDUVpm0bKIFJhq3zvsJwr0kN4sFcEYrgNHaoTl4/zEGHsNm4G/t7zcwWWTRQhoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},596:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///8QWKgdGikEjfkUsvo7QE3f3tKuw77///9Hf6fnAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAdUlEQVQoz43PWRHAIAwEUCzEwlqIBSxgAQux3w3ttByB6Q7D8T5IktKfCMZzAWgWCFdWhFCq3xh6LRGgmLpws4IIEvhdi+CpMgNJWvD2vgBFtX8HoMwJfC6f8Aitry2wqMNXeAW7wbZAqYx1VWa45x+nneCUC4IXMBUswqp1AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},597:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADKSURBVFhHYxgFIx4wQmmqgwod3/8getpSHTA/K/oKmO64shnFTiYoPWCA6iGA7vNtelPBtNelbDD9Sb99mIYAzOd+MaJg/qYlr8E0LCTYXDaA6Tevrw/zEIABWEj49R4H0+g+h4GhHwIwnxvrsYH5mbuvgWkYwOVzGBi6IYDL54R8jA6GXgig53dCqZwQGDohQG2fw8DgDwFa+RwGBm8I0NrnMDD4QoBaJRyxYPCEAL19DgODJwRERDXBIQADtPY5DAx4CIx0wMAAAG0cXChWg+PPAAAAAElFTkSuQmCC"},598:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEX///9ug5D9/OHk6NpLWmOuw747QE01QEgUFSmNqJ////9eP8z0AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAASUlEQVQoz2NgoDsQFCQgIKhEQEBQyRi/AEEFLugK0AVcjEPRFKAJpBmHljPgE3AR7EBVgC4A5DMw4BNwmYmuAF2gHNUGLAKUAgBHBhGJfqglBgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},599:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///94LE0UFSnGiGKrWlP///9c2lH5AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAOklEQVQoz2NgoDcQVMInoCTIIGgsiE8AyEPhYwooCRqj2oEpgMbHEBB0EWTAK0BYAboVmAJ4A2KQAACkdgdxDRr/9AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},600:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///9sPEqrWlPGiGIUFSn///8eGYHMAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAATElEQVQoz63OsQ0AIAhEUVb4K7ACK7j/TBorPQwWSncPCJh9LaAGPJwKRg5vBcxMAdcBQ3KC+ZQ8oRve1pwA6Scg9n6C64DJhQM8VwdUlBHvFahZogAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},601:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEX///8EjfkQWKjL9f/9/OFh1/M1QEirWlMUFSn////qNOrUAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAR0lEQVQoz2NgoDMQVFLCLyBo7IJfAMg3xitAUIFSKJoCdAGCCtJCXUJRFGAKlIemMeATSCvv6GDAJwDkMzDgF0C1AYsAxQAAVxQYC2ENkZAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},602:function(e,t,n){e.exports=n.p+"static/media/darknessWand.80236e6c.png"},603:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADKSURBVFhHYxgFIx4wQmmqgwod3/8gOs3vC5g/axMPmO64shnFTiYoPWCA6iGA7nPFtwfB9H1hezCt1LZ/mIYAzOd+MaJg/qYlr8E0LCTMZr8A029eXx/mIQADsJDw6z0OptF9DgNDPwRgPjfWYwPzM3dfA9MwgMvnMDB0QwCXzwn5GB0MvRBAz++EUjkhMHRCgNo+h4HBHwK08jkMDN4QoLXPYWDwhQC1SjhiweAJAXr7HAYGTwiIiGqCQwAGaO1zGBjwEBjpgIEBACWoXSipcJDwAAAAAElFTkSuQmCC"},604:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///94LE3kIxz/0EjGiGIUFSmrWlP///8joEw2AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAARElEQVQoz2NgoC4QVBLELyCoZKyEV0DQRVApFL+AoEsoAz4BwbRQNAVoAkA+AwM+AXQbMATooYCgIwkpYEALBiwChAAA10oSd7dMhrcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},605:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX///8EjfkQWKjL9f9h1/P9/OFsPEqrWlMUFSnGiGI1QEj///8YtWUlAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAXElEQVQoz6XPQQ3AQAhEUSxgAQtYwMJawMJawMJaQGXTI7PJ9FBuvPwDiIxREw7qysFicbBwDu/uxiA91rgLIXfVDADy1HwDIU8Lhe9gYwDQGPQVlFD4H0jBjvAAe4kqX5EiKlsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},606:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX///9sPEqrWlMUFSnGiGJh1/MQWKjL9f/9/OEEjfk1QEj////hOVNWAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAU0lEQVQoz2NgoC8QFCQgIKhkjF9A0MU4NA2fgKCLYGh5x0zcAkB+Wnl5R+hMXAJAviBDWkdHBy6BVWA3pXXA7UUXWAV1dBqqAiQBYzRvYgoMCgAA2HQea/gNacgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},607:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA80lEQVRYR2NkGGDAOMD2M4w6gGYhUKHj+x8UvfpaneBYvnitHEx3XNmMYufwcwC6zyN2fAf7fIUHJ5iOXKVF2xAYMAfALPaLEQX7dNOS12AalgZy9weD+W9eX6dNCAwaB8AKNlhI+PUex+pzmDqq5QJYCNDdATCLjfXYwHZn7r6GUrqjxzl60U9xCAyYA3BZTMjHVAuBAXMAenYjlMoJVfckp4EBcwC1LSa5HBgwB9DKYqJDYMAcQGuLCYbAgDmAWgUMofyPMwQGzAH0thgjBAbcASKimuB2PAyQWqsRG+c4a8MBdwC5PqBUH8m1IaUWousHACeUtiHth9mZAAAAAElFTkSuQmCC"},608:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA8UlEQVRYR2NkGGDAOMD2M4w6gGYhUKHj+x8UvYxLD4Jj+X+0PZjuuLIZxc7h5wB0n7epQZJ51S0I3a7/ibYhMGAOgFnsFyMK9ummJa/BNCwNzHaRBvPfvL5OmxAYNA6AFWywkPDrPY7V5zB1VMsFsBCguwNgFhvrsYHtztx9DaV0R49z9KKf4hAYMAfgspiQj6kWAgPmAPTsRiiVE6ruSU4DA+YAaltMcjkwYA6glcVEh8CAOYDWFhMMgQFzALUKGEL5H2cIDJgD6G0xRggMuANERDXB7XgYILVWIzbOcdaGA+4Acn1AqT6Sa0NKLUTXDwArdLYhH7o63AAAAABJRU5ErkJgggAA"},609:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEX///9h1/MEjfn9/OHL9f8QWKg1QEhsPErgIBj/inv/0Ej5cAsUFSn///91BQiRAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAaklEQVQoz4XOWxHAMAhE0bWAhbUQC1iIhVjAAhZqoRZqoaLa/pFHCX/3MMwAxBECKUjZAHUD1A3UtzWDqjJe9ECV/q0RKEVY8QcNJkXDfgZzxp7B/PDYCzjdkIGd191aAl9jvMh6Adb3BA9s+DOJjowL+QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},610:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEX///9sPErGiGIQWKj9/OHL9f8EjfkUFSlh1/OrWlP///+ZgQA6AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAbElEQVQoz63QQRHAMAgEQCxgAQtnAQuxEAtYwELcNm2GPNqQTmd6v9sXB9GHML8AC7AFFtVSN2ACVfUcrMFLl5qBsfAlGfRuRMhhdIJnYE3GcGjBCmbv4Cs4b6IA0AK4WSwcL3zC7PHLO/yQA0tcL9EQsvdwAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},611:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEX///8QWKgEjfnL9f/9/OFh1/NsPErk6NoUFSnGiGI1QEirWlP///92yvn8AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAR0lEQVQoz2NgoDIQVFLCLyBo7CKIVwDID8UvkIbGxxBIK+/oYMAnkDYTVR5DIG3mKga8AtRQQNANhBTsRleALoAWDFgECAAAr6AiRZhVN6oAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},612:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///9sPEo1QEirWlPGiGL9/OEUFSmuw77////kA0u+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAWElEQVQoz63OQRXAMAgDUCzEAhawgAUsYGH2l+Moe7ls3Phtk5r9OgAkuEcGJFRmtACALy4BTGRkK6jgPjomMBHPig3OP7UCr3G8gbuZAuRxYcHR8AKf5wZkcR054En5nAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},613:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEX///9ug5AEjfn9/OHL9f8QWKg7QE1h1/M1QEhLWmMUFSmNqJ////9ih8l7AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAYklEQVQoz5XNQRHAMAgEQCxgAQuxgAUsxAIWsBALsVBzpb8QWjK93+3cAMCfIFEN2FoN3rmEpyMUcB7wPthAvAt8QgfRMMhgxLpeSGCkZFBBx9gTDJyeAsY1w4EMFj+8wDE3EoomHwuNbJsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDDxG9wvAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAwgEZkkwAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},614:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADKSURBVFhHYxgFIx4wQmmqgwod3/8g+rhMPZhv+aQRTHdc2YxiJxOUHjBA9RBA9/nBBHUwbb/gJpg+uMNkmIYAzOd+MaJg/qYlr8E0LCSuno0F029eXx/mIQADsJDw6z0OptF9DgNDPwRgPjfWYwPzM3dfA9MwgMvnMDB0QwCXzwn5GB0MvRBAz++EUjkhMHRCgNo+h4HBHwK08jkMDN4QoLXPYWDwhQC1SjhiweAJAXr7HAYGTwiIiGqCQwAGaO1zGBjwEBjpgIEBABqAXSht1cx6AAAAAElFTkSuQmCC"},615:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///9sPErk6Nrqt4AUFSn////tDsucAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAXUlEQVQoz73O0Q2AMAgEUFZgBVa4Fdh/Jg9rtJSif14ICS+EIPJXVD9AzTKtwNkME1WAZdrAkJsKXAJ1TysTDFEeB3QPIbwY1oF4AJzVwSnO1gMlvn/mCuIReYM2B937HvMirh0nAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},616:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///94LE0UFSn7++j//3n/0EjIewD////HWgnzAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAWElEQVQoz83OywnAAAgDUFfIClnBFbJCVnD/EWoLhULRSy/1IPjwF/GfAHAljMAUYCVncLqUWqBcKXuGgLOHaobzpF1coGsVHite0P3u92cgiZYFbtzhSxz8DCGbL0zUyAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},617:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///81QEhsPEr4xpz7++jGiGIUFSl4LE3////xzTw9AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAY0lEQVQoz7XQUQ3AQAgDUCzUQi1gAQu1gIWzPy5ZliUX+Nr46/spYPbZgJwBHsEBABYI7IAV6BKcA8gV8lsOgMTC4g6Mmbs3nvUPQKa0AR3UbdXrSmshl3OJA1iiXvDKJ/w9F2jcKuf60VilAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},619:function(e,t,n){"use strict";n.r(t);var r,o=n(627),i=n(11),a=n.n(i),u=n(13),c=n.n(u),s=n(18),l=n.n(s),f=n(348),A=n(0),d=n.n(A),h=n(44),g=n(15),y=n(78),p=n(36),m=n(6),v=n(42),b=n(119),k=n(3),j=n(9),w=n(375),x=n(4),C=n.n(x),R=n(5),O=n.n(R),E=n(148),B={menuClick:n(458)},M=new(function(){function e(){C()(this,e),this.sampleMap={}}return O()(e,[{key:"load",value:function(){var e=a()((function*(){var e=this;yield E.Audio.setIsEnabledAsync(!0),yield Promise.all(Object.keys(B).map(function(){var t=a()((function*(t){var n=B[t],r=new E.Audio.Sound;yield r.loadAsync(n),e.sampleMap[t]=r}));return function(e){return t.apply(this,arguments)}}()))}));return function(){return e.apply(this,arguments)}}()},{key:"play",value:function(e){this.sampleMap[e].replayAsync(),this.sampleMap[e].replayAsync()}}]),e}()),S=n(23),D=n.n(S),P=n(107),I=n.n(P);!function(e){e.Addition="Addition",e.Multiplier="Multiplier",e.Power="Power"}(r||(r={}));var T={};function _(e,t,n,r){var o={id:t,transformation:r,type:n,tags:e};new Set(e.flat(2)).forEach((function(e){var n,r=null!=(n=null==T?void 0:T[e])?n:[];r.some((function(e){return e.id===t}))||(r.push(o),T[e]=r)}))}var Y,Q=I()((function(e,t){var n=e.map((function(e){var t;return null!=(t=null==T?void 0:T[e])?t:[]})).flat().filter((function(t){return t.tags.some((function(t){return t.every((function(t){return e.includes(t)}))}))}));return D()(new Set(n)).filter((function(e){return e.type===t}))}));function V(e,t,n,o){var i=null!=o?o:{},a=Q(e,r.Power).map((function(e){return e.transformation(t,i)})).reduce((function(e,t){return Math.pow(e,t)}),n),u=Q(e,r.Addition).map((function(e){return e.transformation(t,i)})).reduce((function(e,t){return e+t}),a);return Q(e,r.Multiplier).map((function(e){return e.transformation(t,i)})).reduce((function(e,t){return e*t}),u)}!function(e){e.Production="Production",e.Consumption="Consumption",e.Cost="Cost",e.ManualGathering="ManualGathering",e.Loot="Loot",e.LootChance="LootChance",e.Cap="Cap",e.PerBuildingCap="PerBuildingCap",e.Researcher="Researcher",e.Apprentice="Apprentice",e.InventorySlot="InventorySlot",e.Creature="Creature",e.Threshold="Threshold",e.CostScale="CostScale",e.Research="Research",e.GameSpeed="GameSpeed",e.ExplorationBossRequirement="ExplorationBossRequirement",e.ExplorationDelay="ExplorationDelay",e.FromExploration="FromExploration",e.FromCreatures="FromCreatures",e.StunResistance="StunResistance",e.AutocastDelay="AutocastDelay",e.RandomEventWeight="RandomEventWeight",e.ExpRequirementScale="ExpRequirementScale",e.TimePiecePerResearch="TimePiecePerResearch",e.AttackDamageReceived="AttackDamageReceived",e.PostStunProtectionDuration="PostStunProtectionDuration",e.CanCastSpell="CanCastSpell",e.Action="Action",e.Spell="Spell",e.ActionEffect="ActionEffect",e.SpellCooldown="SpellCooldown",e.ActionMagnitude="ActionMagnitude",e.ActionVariance="ActionVariance",e.TemporaryEffectMagnitude="TemporaryEffectMagnitude",e.TemporaryEffectDuration="TemporaryEffectDuration",e.ItemEffect="ItemEffect",e.ItemQuality="ItemQuality"}(Y||(Y={}));var F=function(){function e(){C()(this,e),this.store={},this.maxId=1}return O()(e,[{key:"register",value:function(e){var t=(this.maxId++).toString();(function(e){return"getId"in e})(e)&&(t=e.getId()),this.store[t]=e}},{key:"getById",value:function(e){return this.store[e]}},{key:"getAll",value:function(){return Object.values(this.store)}}]),e}(),N=function(){function e(t,n){C()(this,e),this.id=t,this.listener=n}return O()(e,[{key:"getId",value:function(){return this.id}},{key:"getListener",value:function(){return this.listener}}]),e}(),U=new F,G={};function H(e,t){G[e]=t}var W;function L(){return(L=a()((function*(e,t,n,r){var o=e;o.lastProcessedTime=n,U.getAll().forEach((function(e){var n=e.getListener()(t);n&&(o=n(o))})),r(o)}))).apply(this,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.None="None",e.Exploring="Exploring",e.ExploringBoss="ExploringBoss",e.Reviving="Reviving",e.Combat="Combat"}(W||(W={}));var z={currentHP:100,explorationStatus:W.None,explorationStartTime:0,currentDungeonFloorId:"",currentEnemy:{id:"",currentHP:1},currentSummon:void 0,successfulExplorationsPerFloor:{},playerActionProgress:0,summonActionProgress:0,enemyActionProgress:0,lastPlayerActionResult:void 0,lastEnemyActionResult:void 0,actionResultQueue:[],variables:{}},X={Hand:void 0,Body:void 0,Accessory:void 0},q={secondsPlayed:0,flags:{},maxPrimarySchoolLevels:{},unlockedElements:{Fire:!0,Earth:!0,Water:!0,Air:!0},unlockedSchools:{Conjuration:!0,Enchantment:!0,Illusion:!0,Alchemy:!1,Evocation:!1,Protection:!1,Breeding:!1,Summoning:!1,Divination:!1},researchersHiredLastRun:0,timeCapsulesLastRun:0,totalTimesResetted:0,targetFps:30},K={secondsPlayed:0,newFlagsOnRetirement:{}},$={resources:{},buildings:{},flags:{},elementExperience:{Fire:0,Earth:0,Water:0,Air:0},schoolExperience:{Conjuration:0,Enchantment:0,Illusion:0},schoolExponents:{},research:{totalResearchers:0,researcherAllocation:{schools:{}}},autocast:{apprenticeAllocation:{},spellAutocastProgress:{},apprenticesPaused:!1,loadouts:{},lastLoadoutUsed:0},creatures:{totalCreatures:0,creatureAllocation:{},lastRewardTime:{}},eventQueue:[],eventOccurrences:{},global:q,thisRun:K,temporaryEffects:{},recentSpellsCast:[],nextRandomEvent:600,primaryElement:void 0,primarySchool:void 0,inventory:[],equipment:X,exploration:z,explorationMessageLog:[],creatureMessageLog:[],lastSpellCastTimes:{},uiCommands:[],lastProcessedTime:Date.now(),lastItemUsedTimes:{},quickbar:[],skipAheadTime:0,summoningBlockedUntilTime:0,strengtheningsBought:{MaxHP:0,Attack:0,AttackDelay:0,Defense:0,HPRegen:0,Dodge:0,Accuracy:0,CritChance:0}},ee=d.a.createContext(Z(Z({},$),{},{apply:function(e){},overwrite:function(e){}}));function te(e){var t;return(null==e||null==(t=e.global)?void 0:t.secondsPlayed)||0}function ne(e){var t;return(null==e||null==(t=e.thisRun)?void 0:t.secondsPlayed)||0}var re=new(function(){function e(){C()(this,e)}return O()(e,[{key:"getId",value:function(){return"empty"}},{key:"getTitle",value:function(e){return"[Deleted]"}},{key:"getDescription",value:function(e,t){return"This is a deleted game event"}},{key:"getAllowedOptions",value:function(e,t){return[]}},{key:"isTerminal",value:function(){return!0}}]),e}()),oe={};function ie(e){return(null==oe?void 0:oe[e])||re}var ae={};function ue(e){ae[e.getId()]=e}function ce(e,t){var n;return null==(n=e.eventOccurrences)?void 0:n[t]}function se(e,t,n){var r=t.nextMessage;return r&&(n.eventOccurrences[e].currentMessageId=r.getId(),r.isTerminal()&&(n.eventOccurrences[e].timestamp=Date.now(),n.eventOccurrences[e].timestampSecondsPlayed=ne(n))),t.transform&&(n=t.transform(n,n.eventOccurrences[e].params)),n}function le(e,t){return se.bind(this,e,t)}function fe(e,t){return t.eventQueue.push(e),t}function Ae(e){return fe.bind(this,e)}function de(e,t){var n=t.eventQueue.lastIndexOf(e);return n>=0&&t.eventQueue.splice(n,1),t}function he(e,t,n){var r=e.onTrigger();r&&(n=r(n,t));var o=e.getId()+Date.now();return n.eventQueue.unshift(o),n.eventOccurrences[o]={eventOccurrenceId:o,eventId:e.getId(),currentMessageId:e.getMainEventMessage().getId(),timestamp:Date.now(),timestampSecondsPlayed:ne(n),params:t},n}function ge(e,t){return he.bind(this,e,t||{})}function ye(e){return JSON.parse(JSON.stringify(e))}var pe={};function me(e,t){pe[e]=t}function ve(e,t){return Object.values(pe).map((function(n){return n(e,t)})).filter((function(e){return null!=e}))}var be=n(65),ke=n(133),je=n(81),we=n.n(je),xe=n(146),Ce=n.n(xe),Re=n(101),Oe=Object(Re.promisify)(Ce.a.gzip),Ee=Object(Re.promisify)(Ce.a.gunzip);function Be(){return(Be=a()((function*(){var e=yield be.default.getItem("PlayerContextState");return null!==e?Pe(JSON.parse(e)):$}))).apply(this,arguments)}function Me(){return(Me=a()((function*(e){var t=Number.parseFloat((yield be.default.getItem("LastSaveSecondsPlayed"))||"0");te(e)>t&&(yield Se(e))}))).apply(this,arguments)}function Se(e){return De.apply(this,arguments)}function De(){return(De=a()((function*(e){var t=JSON.stringify(e);yield be.default.setItem("LastSaveSecondsPlayed",te(e).toString()),yield be.default.setItem("PlayerContextState",t)}))).apply(this,arguments)}function Pe(e){return we()($,e)}function Ie(){return(Ie=a()((function*(e){var t=ke.Buffer.from(ke.Buffer.from(e,"base64").toString(),"base64"),n=yield Ee(t),r=JSON.parse(n.toString());return null!==r?Pe(r):null}))).apply(this,arguments)}function Te(){return(Te=a()((function*(e){var t=yield Oe(JSON.stringify(e));return ke.Buffer.from(t.toString("base64")).toString("base64")}))).apply(this,arguments)}function _e(e){return(null==e?void 0:e.uiCommands)||[]}function Ye(e,t){return e.uiCommands||(e.uiCommands=[]),e.uiCommands.push(t),e}var Qe=new(function(){function e(){C()(this,e),this.demoMode=!1}return O()(e,[{key:"setDemoMode",value:function(e){this.demoMode=e}},{key:"isDemo",value:function(){return this.demoMode}}]),e}()),Ve=n(109),Fe=n(39),Ne=n.n(Fe),Ue=n(31),Ge={};function He(e){Ge[e.getId()]=e}function We(e){return null==Ge?void 0:Ge[e]}function Le(e){return Object.values(Ge).filter((function(t){return t.isCraftable(e)}))}var Je=n(1),Ze=["icon","style"];function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xe={stone:n(529),wood:n(530),coins:n(531),mana:n(532),iron:n(533),water:n(534),boost:n(535),temperature:n(536),attack:n(537),attackDelay:n(538),defense:n(539),hp:n(540),hpRegen:n(541),monstium:n(542),debuff:n(543),generic:n(544),accuracy:n(545),dodge:n(546),timepiece:n(547),critChance:n(548),electricity:n(549)};var qe=d.a.memo((function(e){var t,n=e.icon,r=e.style,o=Ne()(e,Ze),i=Xe[n];if(!i){var a=(t=n,null==Ge?void 0:Ge[t]);a&&(i=a.getPicture())}if(!i)return null;var u=[{width:32,height:32},r,e.small?{width:16,height:16}:{}];return Object(Je.jsx)(Ue.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({source:i,style:u},o))})),Ke=n(370),$e=n.n(Ke)()(/\:([a-zA-Z_-]+)\:/,(function(e,t){return e[1]}));function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=Object(Ve.MarkdownIt)({typographer:!0}).use($e,{containerClassName:"icon-embed"}),rt={paragraph:function(e,t,n,r){return Object(Je.jsx)(k.default,{style:[e.index>0&&it.markdownParagraph],children:t},Object(Ve.getUniqueID)())},"regexp-0":function(e,t,n,r){var o=e.sourceMeta.match[1];return Object(Je.jsx)(qe,{style:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",top:2},icon:o},Object(Ve.getUniqueID)())}};var ot=d.a.memo((function(e){var t=(null==e?void 0:e.style)||{};return Object(Je.jsx)(Ve.default,tt(tt({},e),{},{markdownit:nt,rules:rt,style:{body:[{justifyContent:"flex-end",minHeight:21},t],bullet_list_icon:{lineHeight:16,marginTop:4},bullet_list:{width:"100%"},list_item:{alignItems:"center",justifyContent:"center"},heading2:{lineHeight:24}}}))})),it=m.default.create({markdownParagraph:{marginTop:4},markdownTextgroup:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",padding:0,margin:0},text:{lineHeight:16}});function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ut=d.a.memo((function(e){return Object(Je.jsx)(j.Text,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({h1Style:ct.h1,h2Style:ct.h2,h3Style:ct.h3,h4Style:ct.h4},e))})),ct=m.default.create({h1:{fontSize:20},h2:{fontSize:18},h3:{fontSize:16},h4:{fontSize:14}});function st(){var e="## Magic Research\n\n"+(Qe.isDemo()?"**Demo Version**":"**Full Version**")+"\n\n\nA game by **@Maticolotto**\n\n\n**Credits**\n\nAssets from:\n  * Pipoya RPG Monster Pack, by Pipoya (https://pipoya.itch.io/free-rpg-monster-pack)\n  * Aekashics Librarium, by Aekashics (http://www.akashics.moe)\n  * 1000+ Fantasy RPG Icons, by finalbossblues (https://finalbossblues.itch.io/icons)";return Object(Je.jsxs)(k.default,{style:At.container,children:[Object(Je.jsx)(ut,{h1:!0,children:"About"}),Object(Je.jsx)(k.default,{style:At.explanation,children:Object(Je.jsx)(ot,{style:At.explanationText,children:e})})]})}var lt,ft,At=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},explanation:{marginTop:16,flex:1,alignItems:"stretch",width:"100%"},explanationText:{width:"100%"}}),dt=n(46),ht=new Set,gt=new Set;function yt(e){ht.add(e)}function pt(e){ht.forEach((function(t){e=t(e)})),e.global.totalTimesResetted+=1;var t=ye($);return t.lastProcessedTime=Date.now(),t.global=e.global,gt.forEach((function(e){t=e(t)})),t}function mt(e,t){var n;return(null==(n=e.schoolExperience)?void 0:n[t])||0}!function(e){e.Fire="Fire",e.Earth="Earth",e.Air="Air",e.Water="Water",e.Nature="Nature",e.Lightning="Lightning",e.Darkness="Darkness"}(lt||(lt={})),function(e){e.Conjuration="Conjuration",e.Enchantment="Enchantment",e.Illusion="Illusion",e.Alchemy="Alchemy",e.Evocation="Evocation",e.Protection="Protection",e.Breeding="Breeding",e.Summoning="Summoning",e.Divination="Divination"}(ft||(ft={}));var vt=I()((function(e,t){return e<=1?0:Math.floor(1e3*Math.pow(t,e-2))})),bt=I()((function(e,t){return e<=1?0:bt(e-1,t)+vt(e,t)}));function kt(e,t){var n,r;if(null==(null==e||null==(n=e.schoolExponents)?void 0:n[t])){var o=e.primarySchool===t,i=V([Y.ExpRequirementScale,t],e,o?1.4:1.5,{school:t});e.schoolExponents[t]=i}return null!=(r=e.schoolExponents[t])?r:1.5}function jt(e,t,n){var r=kt(e,n);return bt(t,r)}function wt(e,t,n){return function(e,t){for(var n=1;bt(n+1,t)<=e;)n+=1;return n}(t,kt(e,n))}function xt(e,t){var n;return wt(e,(null==(n=e.schoolExperience)?void 0:n[t])||0,t)}function Ct(e,t,n){var r=mt(n,e);return r+=t,r=Math.max(r,0),n.schoolExperience[e]=r,n}function Rt(e,t){return Ct.bind(this,e,t)}function Ot(e){var t=0;for(var n in e.schoolExperience)t+=mt(e,n);return t}function Et(e,t){return t.primaryElement=e,t}function Bt(e,t){return t.primarySchool=e,t.schoolExponents={},t}function Mt(e){return Object.keys(((null==e?void 0:e.global)||q).unlockedElements)}function St(e,t){return t.global||(t.global=q),t.global.unlockedSchools[e]=!0,t}function Dt(e){return St.bind(this,e)}function Pt(e){return Object.keys(((null==e?void 0:e.global)||q).unlockedSchools).filter((function(t){return((null==e?void 0:e.global)||q).unlockedSchools[t]}))}var It=function(e){_([[e,Y.Research]],e+"PrimarySchoolMultiplier",r.Multiplier,(function(t){return t.primarySchool===e?2:1}))};for(var Tt in ft)It(Tt);function _t(e,t){var n,r;return(null==e||null==(n=e.global)||null==(r=n.maxPrimarySchoolLevels)?void 0:r[t])||0}function Yt(e){var t=Math.max(function(e){var t,n=(null==e||null==(t=e.global)?void 0:t.maxPrimarySchoolLevels)||{},r=0;for(var o in n)r=Math.max(r,n[o]||0);return r}(e),1),n=function(e){var t,n=(null==e||null==(t=e.global)?void 0:t.maxPrimarySchoolLevels)||{},r=0;for(var o in n)r+=n[o]||0;return r}(e);return(1+(Math.pow(1.13,t-1)-1)/2.5)*(Math.sqrt(16+n)/4)}function Qt(e){var t=Yt(e);return 1+(Math.pow(t,.4)-1)/3.2}function Vt(e,t){return!Object.keys(t).some((function(n){return!((t[n]||0)<=0)&&(xt(e,n)<(t[n]||0)||!Pt(e).includes(n))}))}_([[Y.Research]],"MSLResearch",r.Multiplier,Yt),_([[Y.Production]],"MSLProduction",r.Multiplier,Qt),_([[Y.Loot]],"MSLLoot",r.Multiplier,Qt),Object.keys(lt).forEach((function(e){_([[Y.Cost,e,"Area:Campus",Y.Spell]],e+"SpellCostReducer",r.Multiplier,(function(t){return t.primaryElement==e?.5:1}))})),yt((function(e){var t=null==e?void 0:e.primarySchool;if(e.global||(e.global=q),t){var n=xt(e,t);e.global.maxPrimarySchoolLevels[t]=Math.max(_t(e,t),n)}return e}));var Ft={};function Nt(e){Ft[e.getSpellName()]=e}function Ut(e){return null==Ft?void 0:Ft[e]}function Gt(e){var t={};for(var n in Ft){var r=Ft[n];if(r.isVisible(e)){var o=r.getSchoolLevelRequirements();for(var i in o)void 0===(null==t?void 0:t[i])&&(t[i]=[]),t[i].push(r)}}return t}function Ht(e,t,n){var r,o;if(!n)return(null==(o=Gt(e))?void 0:o[t])||[];var i=ye(e);return i.schoolExperience[t]=jt(i,xt(e,t)+n,t),(null==(r=Gt(i))?void 0:r[t])||[]}function Wt(e,t){null!=t&&t.recentSpellsCast||(t.recentSpellsCast=[]);var n=e.getSpellName();return t.recentSpellsCast=t.recentSpellsCast.filter((function(e){return e!=n})),t.recentSpellsCast.unshift(e.getSpellName()),t.recentSpellsCast=t.recentSpellsCast.slice(0,3),t}function Lt(e,t){null!=t&&t.lastSpellCastTimes||(t.lastSpellCastTimes={});var n=e.getSpellName();return t.lastSpellCastTimes[n]=ne(t),t}function Jt(e){return Lt.bind(this,e)}function Zt(e,t){if(e.autocast.apprenticesPaused)return e;var n=zt(e);for(var r in n){var o=n[r]||0;if(o>0){var i=t/V([Y.AutocastDelay],e,60)*o+Xt(e,r);if(e.autocast.spellAutocastProgress[r]=i,i>1){var a=Ut(r);a&&a.isEnabled(e)&&(e.autocast.spellAutocastProgress[r]=0,e=a.doAction({isAutomatic:!0},e))}}}return e}function zt(e){var t;return(null==e||null==(t=e.autocast)?void 0:t.apprenticeAllocation)||{}}function Xt(e,t){var n,r;return null!=(n=null==(r=e.autocast.spellAutocastProgress)?void 0:r[t])?n:0}function qt(e){var t=e.getSchoolLevelRequirements(),n={Conjuration:0,Enchantment:0,Illusion:0,Alchemy:0,Evocation:0,Protection:0,Breeding:0,Summoning:0,Divination:0};for(var r in t)n[r]=(t[r]||-1)+1;return n}function Kt(e,t){return Vt(e,qt(t))}function $t(e){return V([Y.Apprentice],e,0)}function en(e){var t=zt(e),n=0;for(var r in t){var o=Ut(r);o&&o.isVisible(e)&&(n+=t[r])}return $t(e)-n}function tn(e,t,n){var r;if(!Kt(n,e))return n;var o=e.getSpellName(),i=(null==(r=zt(n))?void 0:r[o])||0,a=t>0?Math.min(en(n),t):Math.max(-i,t);return n.autocast.apprenticeAllocation[o]=i+a,n}function nn(e,t){return tn.bind(this,e,t)}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{showDecimals:!1};return(e=Number(e))==1/0?"\u221e":e>=1e9?rn(e/1e9,{showDecimals:!0})+"B":e>=1e6?rn(e/1e6,{showDecimals:!0})+"M":e>=1e4?rn(e/1e3,{showDecimals:!0})+"K":t.showDecimals&&Math.abs(e)<10&&!Number.isInteger(e)?e.toFixed(2):t.showDecimals&&Math.abs(e)<100&&!Number.isInteger(e)?e.toFixed(1):e.toFixed()}function on(e){return Object(Je.jsxs)(k.default,{style:an.category,children:[Object(Je.jsx)(ut,{style:[an.categoryTitle,e.titleStyle],h4:!0,children:e.title}),Object(Je.jsx)(j.Divider,{style:an.categoryDivider}),e.children]})}var an=m.default.create({category:{marginTop:16},categoryTitle:{marginBottom:4,fontWeight:"bold"},categoryDivider:{height:2*m.default.hairlineWidth}});function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{disableMinus:!1,disablePlus:!1,onPressMinus:function(){},onPressPlus:function(){}};return Object(Je.jsxs)(k.default,{style:cn.row,children:[Object(Je.jsx)(j.Button,{containerStyle:cn.plusMinusAllocatorButton,style:cn.plusMinusAllocatorButtonInner,iconContainerStyle:cn.plusMinusAllocatorButtonInner,buttonStyle:cn.plusMinusAllocatorButtonInner,title:"-",onPress:e.onPressMinus,disabled:e.disableMinus}),Object(Je.jsx)(j.Button,{containerStyle:cn.plusMinusAllocatorButton,style:cn.plusMinusAllocatorButtonInner,iconContainerStyle:cn.plusMinusAllocatorButtonInner,buttonStyle:cn.plusMinusAllocatorButtonInner,title:"+",onPress:e.onPressPlus,disabled:e.disablePlus})]})}var cn=m.default.create({plusMinusAllocatorButton:{height:32,width:32,borderRadius:16,marginHorizontal:4},plusMinusAllocatorButtonInner:{paddingHorizontal:0,paddingVertical:0,height:32},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}});function sn(){var e,t,n=Object(A.useContext)(ee),r=Object(A.useRef)(n);r.current=n;var o=Object(A.useState)(null!=(e=null==n||null==(t=n.autocast)?void 0:t.lastLoadoutUsed)?e:0),i=l()(o,2),a=i[0],u=i[1],c=Gt(n),s=zt(n),f=en(n),d=f>0,h=Object(A.useMemo)((function(){return Object.keys(c).map((function(e){return Object(Je.jsx)(on,{title:e,children:c[e].map((function(e){var t=e.getSpellName(),o=(null==s?void 0:s[t])||0,i=Kt(n,e),a=Object(Je.jsxs)(k.default,{style:ln.row,children:[Object(Je.jsx)(ut,{children:o}),Object(Je.jsx)(k.default,{style:ln.plusMinusAllocatorContainer,children:Object(Je.jsx)(un,{disableMinus:0===o,disablePlus:!d,onPressMinus:function(){return r.current.apply(nn(e,-1))},onPressPlus:function(){return r.current.apply(nn(e,1))}})})]});if(!i){var u=qt(e),c=[];for(var l in u)xt(n,l)<u[l]&&c.push(l+" Lv"+u[l]);a=Object(Je.jsxs)(ut,{style:ln.allocatorText,children:["Requires: ",c.join(", ")]})}return Object(Je.jsxs)(k.default,{style:[ln.row,ln.spellRowContainer],children:[Object(Je.jsxs)(ut,{children:[t,":"]}),a]},t)}))},e)}))}),[JSON.stringify(n.autocast.apprenticeAllocation),JSON.stringify(Object.keys(c)),JSON.stringify(Pt(n).map((function(e){return xt(n,e)})))]),g=V([Y.AutocastDelay],n,60),y=Object(A.useCallback)((function(){r.current.apply((function(e){return e.autocast.apprenticesPaused=!e.autocast.apprenticesPaused,e}))}),[]),p=Object(A.useMemo)((function(){for(var e=[],t=0;t<4;t++)e.push(Object(Je.jsx)(dt.Picker.Item,{label:"Slot "+(t+1),value:t},t));return Object(Je.jsx)(dt.Picker,{onValueChange:u,selectedValue:a,children:e})}),[4,u,a]);return Object(Je.jsxs)(k.default,{children:[h,Object(Je.jsxs)(k.default,{style:[ln.row,ln.totalApprenticesContainer],children:[Object(Je.jsx)(ut,{children:"Apprentices Available: "}),Object(Je.jsxs)(ut,{children:[rn(f),"/",rn($t(n))]})]}),Object(Je.jsx)(k.default,{style:ln.marginBottom,children:n.autocast.apprenticesPaused?Object(Je.jsx)(j.Button,{title:"Unpause Apprentices",onPress:y}):Object(Je.jsx)(j.Button,{title:"Pause Apprentices",onPress:y})}),Object(Je.jsxs)(k.default,{style:[ln.loadoutsRow,ln.marginBottom],children:[Object(Je.jsx)(ut,{children:"Loadouts:"}),Object(Je.jsxs)(k.default,{style:ln.loadoutRest,children:[Object(Je.jsx)(k.default,{style:ln.pickerContainer,children:p}),Object(Je.jsx)(j.Button,{containerStyle:ln.loadoutButtons,title:"Save",onPress:function(){!function(e,t){var n=JSON.parse(JSON.stringify(zt(e)));e.autocast.loadouts[t]=n,e.autocast.lastLoadoutUsed=t}(r.current,a)}}),Object(Je.jsx)(j.Button,{containerStyle:ln.loadoutButtons,title:"Load",onPress:function(){!function(e,t){var n,r,o=JSON.parse(JSON.stringify((null==e||null==(n=e.autocast)||null==(r=n.loadouts)?void 0:r[t])||{}));e.autocast.apprenticeAllocation=o,e.autocast.lastLoadoutUsed=t}(r.current,a)}})]})]}),Object(Je.jsxs)(ut,{children:["Apprentices will cast the spell they are assigned to every"," ",rn(g,{showDecimals:!1})," sec, if they can. More apprentices will cause the spell to be cast more often."]})]})}var ln=m.default.create({marginBottom:{marginBottom:20},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},plusMinusAllocatorContainer:{marginLeft:16},totalApprenticesContainer:{marginVertical:24,paddingRight:8},spellRowContainer:{marginVertical:4,minHeight:32},allocatorText:{marginLeft:32,flex:1,textAlign:"right"},loadoutsRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},loadoutRest:{flexDirection:"row",alignItems:"center"},pickerContainer:{width:120,marginLeft:8,backgroundColor:"#eee",borderRadius:10},loadoutButtons:{marginLeft:8}}),fn={};function An(e){fn[e.getName()]=e}var dn,hn=n(7),gn=n.n(hn),yn=n(8),pn=n.n(yn),mn=n(2),vn=n.n(mn);function bn(e){return(null==e?void 0:e.inventory)||[]}function kn(e,t){var n=JSON.stringify(e);return bn(t).findIndex((function(e){return n==JSON.stringify(e.itemOccurrence)}))}function jn(e){return V([Y.InventorySlot],e,12)}function wn(e,t,n){var r=kn(e,n);return r>=0?(n.inventory||(n.inventory=[]),n.inventory[r]={itemOccurrence:e,amount:n.inventory[r].amount+t},n):(bn(n).length>=jn(n)||(n.inventory||(n.inventory=[]),n.inventory.push({itemOccurrence:e,amount:t})),n)}function xn(e,t,n){var r=kn(e,n);if(r<0)return n;n.inventory||(n.inventory=[]);var o=n.inventory[r].amount-t;return o>0?n.inventory[r]={itemOccurrence:e,amount:o}:n.inventory.splice(r,1),n}function Cn(e,t){var n=kn(e,t);return-1===n?0:bn(t)[n].amount}function Rn(e,t){return bn(t).filter((function(t){return t.itemOccurrence.itemId==e.getId()})).reduce((function(e,t){return e+t.amount}),0)}function On(e,t,n){for(var r=ye(n);t>0;){var o=bn(r),i=o.findIndex((function(t){return t.itemOccurrence.itemId==e.getId()}));if(i<0)return n;var a=o[i].amount;r=xn(o[i].itemOccurrence,Math.min(a,t),r),t-=a}return r}!function(e){e.Mana="Mana",e.Coins="Coins",e.Stone="Stone",e.Wood="Wood",e.Water="Water",e.Iron="Iron",e.Temperature="Temperature",e.Monstium="Monstium",e.Electricity="Electricity",e.TimePieces="Time Pieces"}(dn||(dn={}));var En={Mana:{baseCap:100,icon:"mana"},Coins:{baseCap:1e3,icon:"coins"},Stone:{baseCap:50,icon:"stone"},Wood:{baseCap:50,icon:"wood"},Water:{baseCap:10,icon:"water"},Iron:{baseCap:20,icon:"iron"},Temperature:{baseCap:500,icon:"temperature"},Monstium:{baseCap:200,icon:"monstium"},Electricity:{baseCap:1e3,icon:"electricity"},"Time Pieces":{baseCap:3e4,icon:"timepiece"}};function Bn(e){return En[e]}function Mn(e,t){return V([t,Y.Cap],e,En[t].baseCap)}function Sn(e,t){var n=e.resources[t];return(null==n?void 0:n.cap)||En[t].baseCap}function Dn(e){return Object.keys(e.resources).forEach((function(t){var n=Mn(e,t),r=e.resources[t];r.cap=n,r.current>r.cap&&(r.current=r.cap)})),e}function Pn(e,t){var n,r;return(null==(n=e.resources)||null==(r=n[t])?void 0:r.current)||0}function In(e,t,n){var r;null==(null==(r=n.resources)?void 0:r[e])&&(n.resources[e]={current:0,cap:Mn(n,e)});var o=n.resources[e];return o.current+=t,o.current=Math.min(o.current,o.cap),o.current=Math.max(o.current,0),n}function Tn(e,t){return In.bind(this,e,t)}var _n=function(){function e(){C()(this,e)}return O()(e,[{key:"getId",value:function(){return this.getName()}},{key:"getDisplayName",value:function(e){return this.getName()}},{key:"getBaseActionEffects",value:function(){return{}}},{key:"getActionEffects",value:function(e){var t=this.getBaseActionEffects(),n={};for(var r in t){var o,i=t[r];n[r]=V([].concat(D()(this.getTags()),D()(null!=(o=i.tags)?o:[]),[Y.ActionEffect]),e,i.value,{action:this})}return n}},{key:"getTags",value:function(){return[Y.Action,this.getCategoryTag(),this.getAreaTag(),this.getId()]}},{key:"getCategory",value:function(){return"Actions"}},{key:"getCategoryTag",value:function(){return"Category:"+this.getCategory()}},{key:"getAreaTag",value:function(){return"Area:"+this.getArea()}},{key:"canAfford",value:function(e){var t=this.getCost(e);return Object.keys(t.resources).every((function(n){var r;return Pn(e,n)>=(null!=(r=t.resources[n])?r:0)}))&&Object.keys(t.items).every((function(n){return Rn(We(n),e)>=t.items[n]}))}},{key:"isEnabled",value:function(e){return this.canAfford(e)}}]),e}(),Yn={};function Qn(e){Yn[e.getBuildingName()]=e,An(e)}function Vn(e,t){var n,r;return(null==(n=e.buildings)||null==(r=n[t.getBuildingName()])?void 0:r.current)||0}function Fn(e,t){var n,r;return(null==(n=e.buildings)||null==(r=n[t.getBuildingName()])?void 0:r.turnedOn)||0}function Nn(e,t,n){var r,o=e.getBuildingName();null==(null==(r=n.buildings)?void 0:r[o])&&(n.buildings[o]={current:0,turnedOn:0});var i=Fn(n,e)+t;return i<0||i>Vn(n,e)||(n.buildings[o].turnedOn=i),n}function Un(e,t){return Nn.bind(this,e,t)}function Gn(e,t,n){return Vn(e,n)!=Vn(t,n)}function Hn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Wn=function(e){gn()(n,e);var t=Hn(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getName",value:function(){return this.getBuildingName()}},{key:"getDisplayName",value:function(e){return Vn(e,this)>0?this.getName()+" ("+Vn(e,this)+")":this.getName()}},{key:"getCategory",value:function(){return"Buildings"}},{key:"getCost",value:function(e){return{resources:this.getResourceCost(e),items:{}}}},{key:"getResourceCost",value:function(e){var t=this,n=Vn(e,this),r=this.getBaseResourceCost(),o=this.getBaseResourceScale(),i={};return Object.keys(r).forEach((function(a){var u=V([].concat(D()(t.getTags()),[Y.Cost,a]),e,r[a]),c=V([].concat(D()(t.getTags()),[Y.CostScale,a]),e,o[a]-1);i[a]=Math.ceil(u*Math.pow(1+c,n))})),i}},{key:"canTurnOff",value:function(){return!1}},{key:"doAction",value:function(e,t){var n;if(!this.canAfford(t))return t;var r=this.getBuildingName(),o=this.getResourceCost(t);null==(null==(n=t.buildings)?void 0:n[r])&&(t.buildings[r]={current:0,turnedOn:0});var i=t.buildings[r];return i.current+=1,i.turnedOn=Fn(t,this)+1,Object.keys(o).forEach((function(e){t=Tn(e,-o[e])(t)})),t}}]),n}(_n),Ln=n(79),Jn=n.n(Ln),Zn=function(){function e(t){C()(this,e),this.data=t}return O()(e,[{key:"getItem",value:function(){return We(this.data.occurrence.itemId)}},{key:"getDisplayName",value:function(e){var t=this.getItem(),n=t.getName(this.data.occurrence.params),r=Cn(this.data.occurrence,e),o=0;t.getTags(e,this.data.occurrence.params).findIndex((function(e){return"Consumable"==e.tag}))>=0&&(o=t.getCooldownLeftSec(e));var i=n;return r>1&&(i+=" ("+r+")"),o>0&&(i+=" ("+rn(o,{showDecimals:!0})+" sec)"),i}},{key:"isEnabled",value:function(e){var t;return(null==(t=this.getItem().getPrimaryAction(e,this.data.occurrence.params))?void 0:t.isEnabled)||!1}},{key:"getTransform",value:function(e){var t;return(null==(t=this.getItem().getPrimaryAction(e,this.data.occurrence.params))?void 0:t.transform)||function(e){return e}}},{key:"toQuickbarData",value:function(){return this.data}}]),e}(),zn=Jn()((function(e){return e.doAction.bind(e,{isAutomatic:!1})})),Xn=function(){function e(t){C()(this,e),this.data=t}return O()(e,[{key:"getAction",value:function(){return e=this.data.name,null==fn?void 0:fn[e];var e}},{key:"getDisplayName",value:function(e){return this.getAction().getDisplayName(e)}},{key:"isEnabled",value:function(e){return this.getAction().isEnabled(e)}},{key:"getTransform",value:function(e){return zn(this.getAction())}},{key:"toQuickbarData",value:function(){return this.data}}]),e}();function qn(e,t){return er(e,t)||$n(e)||e.quickbar.push(t),e}function Kn(e,t){var n=JSON.stringify(t),r=e.quickbar.findIndex((function(e){return JSON.stringify(e)==n}));return r<0||e.quickbar.splice(r,1),e}function $n(e){return e.quickbar.length>=10}function er(e,t){var n=JSON.stringify(t);return e.quickbar.findIndex((function(e){return JSON.stringify(e)==n}))>=0}var tr=d.a.memo((function(e){return Object(Je.jsxs)(k.default,{style:rr.row,children:[Object(Je.jsxs)(k.default,{style:rr.inlineRow,children:[Object(Je.jsx)(qe,{icon:e.icon,style:rr.icon,small:!0}),Object(Je.jsxs)(ut,{children:[e.name,": "]})]}),Object(Je.jsxs)(k.default,{style:rr.costValue,children:[Object(Je.jsx)(ut,{style:e.current<e.cost&&rr.notMet,children:rn(e.current,{showDecimals:!0})}),Object(Je.jsx)(ut,{children:"/"}),Object(Je.jsx)(ut,{style:e.cap<e.cost&&rr.notMet,children:rn(e.cost)})]})]})}));function nr(e){var t=Object(A.useContext)(ee),n=Object.keys(e.resources).map((function(n){var r=e.resources[n],o=Sn(t,n),i=Pn(t,n),a=Bn(n);return Object(Je.jsx)(tr,{name:n,icon:a.icon,current:i,cost:r,cap:o},n)})),r=e.items?Object.keys(e.items).map((function(n){var r,o=null==e||null==(r=e.items)?void 0:r[n],i=We(n),a=Rn(i,t);return Object(Je.jsx)(tr,{name:i.getName(i.getDefaultParams()),icon:i.getId(),current:a,cost:o,cap:1e10},n)})):[];return Object(Je.jsxs)(k.default,{style:rr.container,children:[n,r]})}var rr=m.default.create({container:{justifyContent:"center",alignItems:"stretch"},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},costValue:{flexDirection:"row"},notMet:{color:"red"}});function or(e){return Object(Je.jsx)(ot,{style:[ar.descriptionText,e.style||{}],children:e.children})}function ir(e){return Object(Je.jsx)(ot,{style:[ar.effectText,e.style||{}],children:e.children})}var ar=m.default.create({descriptionText:{color:"#666"},effectText:{color:"#666",fontWeight:"bold"}});function ur(e){var t=Object(A.useContext)(ee),n=e.action,r=e.showAddToQuickbar||!1,o=n.getCost(t),i=0===Object.keys(o.resources).length&&0===Object.keys(o.items).length,a=Object.keys(o.resources).every((function(e){var n;return(null!=(n=o.resources[e])?n:0)<=Sn(t,e)})),u=n instanceof Wn&&n.canTurnOff(),c=n instanceof Wn&&Vn(t,n),s=n instanceof Wn&&Fn(t,n),l=Object(A.useMemo)((function(){var e=n.getDisplayDescription(t)+" **"+n.getDisplayEffect(t)+"**";return Object(Je.jsx)(k.default,{style:cr.descriptionTextContainer,children:Object(Je.jsx)(or,{style:{flex:1},children:e})})}),[n.getDisplayDescription(t),n.getDisplayEffect(t)]),f=Object(A.useMemo)((function(){if(e.asSpell){var r,o,i=((null==(r=n.getCost(t))||null==(o=r.resources)?void 0:o.Mana)||0)+" :mana:",a=n.getCooldown(t),u=rn(a,{showDecimals:!0})+" sec";return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:cr.costContainer,children:[Object(Je.jsx)(ot,{children:"Cost:"}),Object(Je.jsx)(ot,{children:i})]}),a>0&&Object(Je.jsxs)(k.default,{style:cr.costContainer,children:[Object(Je.jsx)(ot,{children:"Cooldown:"}),Object(Je.jsx)(ot,{children:u})]})]})}return Object(Je.jsxs)(k.default,{style:cr.costContainer,children:[Object(Je.jsx)(ot,{children:"Cost:"}),Object(Je.jsx)(nr,{resources:n.getCost(t).resources,items:n.getCost(t).items})]})}),[JSON.stringify(n.getCost(t)),e.asSpell]),d=Object(A.useMemo)((function(){if(!u)return null;var e=s+"/"+c;return Object(Je.jsxs)(k.default,{style:cr.turnOnRow,children:[Object(Je.jsx)(ot,{children:"Amount active:"}),Object(Je.jsxs)(k.default,{style:cr.turnOnQuantityContainer,children:[Object(Je.jsx)(ot,{children:e}),Object(Je.jsx)(k.default,{style:cr.plusMinusContainer,children:Object(Je.jsx)(un,{disableMinus:0===s,disablePlus:s===c,onPressMinus:function(){return t.apply(Un(n,-1))},onPressPlus:function(){return t.apply(Un(n,1))}})})]})]})}),[u,c,s]);return Object(A.useMemo)((function(){var o=Object(Je.jsx)(j.Button,{onPress:function(){return t.apply(n.doAction.bind(n,{isAutomatic:!1}))},title:n.getDisplayName(t),titleStyle:e.asSpell&&cr.smallButtonTitle,containerStyle:[cr.buttonContainer,e.asSpell&&cr.buttonContainerSmall],disabled:!n.isEnabled(t)},n.getName()),c=Object(Je.jsx)(j.Button,{onPress:function(){return t.apply((function(e){return function(e,t){return qn(e,{type:"action",name:t.getName()})}(e,n)}))},title:"Add to Quickbar",titleStyle:cr.smallButtonTitle,containerStyle:[cr.quickbarButtonContainer],disabled:er(t,{type:"action",name:n.getName()})||$n(t)});return Object(Je.jsxs)(k.default,{style:cr.actionContainer,children:[Object(Je.jsxs)(k.default,{style:cr.buttonRowContainer,children:[e.collapsed?Object(Je.jsx)(ut,{h3:!0,onPress:e.onPressExpand,style:[cr.buttonContainer,e.asSpell&&cr.buttonContainerSmall,!n.isEnabled(t)&&cr.disabledActionText,!a&&cr.capTooLowText],children:n.getDisplayName(t)},n.getName()):Object(Je.jsxs)(k.default,{style:cr.buttonContainerView,children:[o,r&&c]}),!e.asSpell&&Object(Je.jsx)(j.Icon,{name:e.collapsed?"chevron-right":"chevron-down",type:"entypo",containerStyle:cr.expandContainer,onPress:e.onPressExpand})]}),!e.collapsed&&Object(Je.jsxs)(k.default,{children:[l,!i&&f,u&&d]})]},n.getName())}),[n.getName(),n.getDisplayName(t),n.isEnabled(t),u,d,!e.collapsed&&f,!e.collapsed&&l,a,r,JSON.stringify(t.quickbar),e.asSpell,e.collapsed,e.onPressExpand])}var cr=m.default.create({actionContainer:{marginVertical:8},buttonRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},quickbarButtonContainer:{marginLeft:8},expandContainer:{width:40},costContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginTop:4},descriptionTextContainer:{marginTop:8,flex:1,flexDirection:"row",flexWrap:"wrap"},smallButtonTitle:{fontSize:12},buttonContainerView:{flexDirection:"row",flex:1},buttonContainer:{flex:1},buttonContainerSmall:{marginRight:0},disabledActionText:{color:"#aaa"},capTooLowText:{color:"#d99"},turnOnRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:8},turnOnQuantityContainer:{flexDirection:"row",alignItems:"center"},plusMinusContainer:{marginLeft:8}});function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e){var t=function(e){var t={};return Object.keys(fn).filter((function(t){return fn[t].getArea()===e})).forEach((function(e){var n=fn[e].getCategory();null!=t&&t[n]||(t[n]={}),t[n][e]=fn[e]})),t}(e.area),n=e.category,r=Object(A.useContext)(ee),o=Object.keys(t[n]||{}).filter((function(e){return t[n][e].isVisible(r)})),i=Object(A.useMemo)((function(){return o.map((function(r){var o=t[n][r];return Object(Je.jsx)(ur,{action:o,collapsed:e.expandedAction!=r,onPressExpand:e.setActionCallback.bind(null,r),showAddToQuickbar:e.showAddToQuickbar},r)}))}),[o.join(","),n,e.expandedAction,e.setActionCallback,e.showAddToQuickbar]);return Object(A.useMemo)((function(){return 0===o.length?null:Object(Je.jsxs)(on,{title:n,children:[Object(Je.jsx)(k.default,{children:i[0]},o[0]),i.slice(1).map((function(e,t){return Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(j.Divider,{}),e]},o[t])}))]},n)}),[o.join(","),i,n])}function Ar(e){var t=Object(A.useState)(""),n=l()(t,2),r=n[0],o=n[1],i=Object(A.useCallback)((function(e){o(r==e?"":e)}),[r]),a=["Actions","Buildings"].map((function(t){return Object(A.createElement)(fr,lr(lr({},e),{},{category:t,expandedAction:r,key:t,setActionCallback:i}))}));return Object(Je.jsx)(k.default,{children:a})}m.default.create({category:{marginTop:16},categoryTitle:{marginBottom:4},categoryDivider:{height:2*m.default.hairlineWidth}});function dr(){return Object(Je.jsx)(k.default,{style:hr.container,children:Object(Je.jsx)(Ar,{area:"Campus"})})}var hr=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"}}),gr=n(12),yr=n.n(gr);function pr(e,t){var n;return(null==(n=e.flags)?void 0:n[t])||!1}function mr(e,t){return t.flags[e]=!0,t}function vr(e){return mr.bind(this,e)}function br(e,t){return t.flags[e]=!1,t}function kr(e){return br.bind(this,e)}function jr(e,t){return t.thisRun||(t.thisRun=K),t.thisRun.newFlagsOnRetirement[e]=!0,t}function wr(e){return jr.bind(this,e)}function xr(e,t){return t.global||(t.global=q),t.global.flags[e]=!0,t}function Cr(e){return xr.bind(this,e)}function Rr(e,t){var n,r;return(null==e||null==(n=e.global)||null==(r=n.flags)?void 0:r[t])||!1}function Or(e,t){var n,r,o,i;return(null==e||null==(n=e.global)||null==(r=n.flags)?void 0:r[t])||(null==e||null==(o=e.thisRun)||null==(i=o.newFlagsOnRetirement)?void 0:i[t])||!1}function Er(e){return e.exploration||(e.exploration=z),e.exploration.variables={},e}yt((function(e){for(var t in e.global||(e.global=q),(null==e||null==(n=e.thisRun)?void 0:n.newFlagsOnRetirement)||{}){var n;e.global.flags[t]=!0}return e}));var Br=new F,Mr=new F;function Sr(e){return Br.getAll().filter((function(t){return t.isUnlocked(e)}))}function Dr(e,t){return Cr(t+"_dungeon_floor_completed")(e)}function Pr(e,t){return e.creatureMessageLog||(e.creatureMessageLog=[]),e.creatureMessageLog.unshift({id:Math.random().toString(),timestamp:ne(e),message:"["+yr()(Date.now()).format("h:mm:ss A")+"] "+t}),e.creatureMessageLog=e.creatureMessageLog.slice(0,40),e}function Ir(e,t){var n=xt(e,ft.Breeding),r=Mr.getById(t);return!(n<r.getBreedingLevel())&&(!!r.isUnlocked(e)&&!(!r.canFightBoss(e)&&void 0!==r.getBoss()))}function Tr(e){var t=e.creatures.creatureAllocation,n=0;for(var r in t)n+=t[r]||0;return e.creatures.totalCreatures-n}function _r(e,t,n){var r,o=(null==(r=n.creatures.creatureAllocation)?void 0:r[e])||0,i=t>0?Math.min(Tr(n),t):Math.max(-o,t);return n.creatures.creatureAllocation[e]=o+i,n}function Yr(e,t){return _r.bind(this,e,t)}function Qr(e){return V([Y.Creature,Y.Cap],e,0)}function Vr(){var e,t=Object(A.useContext)(ee),n=(null==(e=t)?void 0:e.creatureMessageLog)||[];return Object(A.useMemo)((function(){return Object(Je.jsx)(p.default,{children:n.map((function(e){var t,n;return Object(Je.jsx)(ot,{children:null!=(n=null==e?void 0:e.message)?n:e},null!=(t=null==e?void 0:e.id)?t:e)}))})}),[n.map((function(e){var t;return null!=(t=null==e?void 0:e.id)?t:e})).join()])}function Fr(){var e=Object(A.useContext)(ee),t=Object(A.useRef)(e);return t.current=e,Object(A.useMemo)((function(){var n=Sr(e),r=Tr(e),o=r>0;return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Dungeons"}),n.map((function(n){var r=n.getDungeonFloors().filter((function(t){return Ir(e,t.getId())}));return 0===r.length?null:Object(Je.jsx)(on,{title:n.getName(),children:r.map((function(n){var r,i,a,u=null!=(r=null==(i=e.creatures)||null==(a=i.creatureAllocation)?void 0:a[n.getId()])?r:0;return Object(Je.jsxs)(k.default,{style:[Nr.row,Nr.singleFloorContainer],children:[Object(Je.jsxs)(ut,{numberOfLines:2,style:Nr.floorNameText,children:[n.getFloorName()," (Lv.",n.getBreedingLevel(),")"]}),Object(Je.jsxs)(k.default,{style:Nr.row,children:[Object(Je.jsx)(ut,{children:u}),Object(Je.jsx)(k.default,{style:Nr.plusMinusAllocatorContainer,children:Object(Je.jsx)(un,{disableMinus:0===u,disablePlus:!o,onPressMinus:function(){return t.current.apply(Yr(n.getId(),-1))},onPressPlus:function(){return t.current.apply(Yr(n.getId(),1))}})})]})]},n.getId())}))},n.getId())}))]}),Object(Je.jsxs)(k.default,{style:[Nr.row,Nr.totalCreaturesContainer],children:[Object(Je.jsx)(ut,{children:"Creatures available: "}),Object(Je.jsxs)(ut,{children:[rn(r),"/",rn(e.creatures.totalCreatures)]})]}),Object(Je.jsxs)(k.default,{style:[Nr.row,Nr.creatureCapacityContainer],children:[Object(Je.jsx)(ut,{children:"Creature capacity: "}),Object(Je.jsxs)(ut,{children:[rn(e.creatures.totalCreatures),"/",rn(Qr(e))]})]}),Object(Je.jsx)(k.default,{children:Object(Je.jsx)(Ar,{area:"Creatures"})}),Object(Je.jsx)(k.default,{style:Nr.messageContainer,children:Object(Je.jsx)(Vr,{})})]})}),[JSON.stringify(e.creatures)])}var Nr=m.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},plusMinusAllocatorContainer:{marginLeft:16},totalCreaturesContainer:{marginTop:16,paddingHorizontal:16},creatureCapacityContainer:{marginTop:4,paddingHorizontal:16},singleFloorContainer:{marginVertical:4},messageContainer:{height:300,padding:8,borderColor:"#444",borderWidth:1,marginTop:8},floorNameText:{flex:1}}),Ur=n(69);function Gr(e,t){var n,r;return(null==(n=e.temporaryEffects)||null==(r=n[t])?void 0:r.endTime)||0}function Hr(e,t){return Gr(e,t)>ne(e)}function Wr(e){var t=[];for(var n in e.temporaryEffects)if(Hr(e,n)){var r=e.temporaryEffects[n];"number"===typeof r?t.push({id:n,name:n,endTime:e.temporaryEffects[n],isBeneficial:!0,combatOnly:!1,isEnemyTemporaryEffect:!1,params:{}}):t.push(r)}return t}function Lr(e,t,n,r,o){var i,a,u,c,s=r.mode||"replace",l=null==(i=r.isBeneficial)||i,f=null!=(a=r.combatOnly)&&a,A=null!=(u=r.isEnemyTemporaryEffect)&&u,d=null!=(c=r.params)?c:{},h=Gr(o,e),g="add"===s?Math.max(h+n,ne(o)+n):ne(o)+n;return o.temporaryEffects||(o.temporaryEffects={}),o.temporaryEffects[e]={id:e,name:t,endTime:g,isBeneficial:l,combatOnly:f,isEnemyTemporaryEffect:A,params:d},o}function Jr(e,t,n,r){return Lr.bind(this,e,t,n,r)}function Zr(e){return Lr.bind(this,e,"",-1e10,{})}function zr(e){return Wr(e).forEach((function(t){t.combatOnly&&(e=Zr(t.id)(e))})),e}function Xr(e){var t=Object.values(e.eventOccurrences).sort((function(e,t){return t.timestamp-e.timestamp})).filter((function(e){return e.currentMessageId&&ie(e.currentMessageId).isTerminal()})).slice(20).map((function(e){return e.eventOccurrenceId}));for(var n in t.forEach((function(t){delete e.eventOccurrences[t]})),e.temporaryEffects)Hr(e,n)||delete e.temporaryEffects[n];return e.exploration.actionResultQueue=e.exploration.actionResultQueue.slice(-10),e}var qr={};function Kr(e,t,n,r){qr[e.getId()]={event:e,weight:t,eligible:n,getParams:r}}function $r(e){var t=Object.values(qr).filter((function(t){return!t.eligible||t.eligible(e)})),n=t.reduce((function(t,n){return t+V([Y.RandomEventWeight],e,n.weight)}),0),r={};return t.forEach((function(t){var o=V([Y.RandomEventWeight],e,t.weight);r[t.event.getId()]=o/n})),r}function eo(){H("RandomEventTriggers",(function(e,t){var n;if(ne(e)>((null==(n=e)?void 0:n.nextRandomEvent)||0)){var r=1+ne(e=function(e){var t=Object.values(qr).filter((function(t){return!t.eligible||t.eligible(e)}));if(0===t.length)return e;var n=t.reduce((function(t,n){return t+V([Y.RandomEventWeight],e,n.weight)}),0),r=Math.random()*n;for(var o in t){var i=t[o];if((r-=V([Y.RandomEventWeight],e,i.weight))<0){var a=i.getParams?i.getParams(e):{};return ge(i.event,a)(e)}}return e}(e))/21600;e.nextRandomEvent=60*(8+8*Math.random())*r+ne(e)}return e}))}function to(){var e=ae,t=Object(A.useContext)(ee),n=Object(A.useRef)(t);n.current=t;var o=Object(A.useMemo)((function(){return Object(Je.jsxs)(on,{title:"Trigger events",children:[Object(Je.jsx)(j.Button,{title:"Trigger random event",onPress:function(){return n.current.apply((function(e){return e.nextRandomEvent=0,e}))}}),Object(Je.jsx)(Ur.default,{data:Object.values(e),renderItem:function(e){var t=e.item;return Object(Je.jsx)(j.Button,{title:t.getId(),onPress:function(){return n.current.apply(ge(t))}},t.getId())},keyExtractor:function(e){return e.getId()}})]})}),[JSON.stringify(Object.keys(e))]),i=(JSON.stringify(t.exploration,null,"\t"),Object(A.useState)(JSON.stringify(t,null,"  "))),u=l()(i,2),c=u[0],s=u[1],f=Object(A.useCallback)(a()((function*(){var e=JSON.parse(c);n.current.apply((function(t){return e})),yield Se(e)})),[c]),d=Object(A.useState)(""),h=l()(d,2),g=h[0],y=h[1],p=Object(A.useState)(""),m=l()(p,2),v=m[0],b=m[1],w=Object(A.useCallback)((function(){var e=function(e,t,n,o){var i=null!=o?o:{},a={Power:[],Addition:[],Multiplier:[]},u=e.map((function(e){var t;return null!=(t=null==T?void 0:T[e])?t:[]})).flat().filter((function(t){return t.tags.some((function(t){return t.every((function(t){return e.includes(t)}))}))})),c=D()(new Set(u)),s=c.filter((function(e){return e.type===r.Power})).map((function(e){var n=e.transformation(t,i);return a.Power.push({id:e.id,value:n}),n})).reduce((function(e,t){return Math.pow(e,t)}),n),l=c.filter((function(e){return e.type===r.Addition})).map((function(e){var n=e.transformation(t,i);return a.Addition.push({id:e.id,value:n}),n})).reduce((function(e,t){return e+t}),s);return c.filter((function(e){return e.type===r.Multiplier})).map((function(e){var n=e.transformation(t,i);return a.Multiplier.push({id:e.id,value:n}),n})).reduce((function(e,t){return e*t}),l),a}(g.split(","),n.current,1),t=Object.keys(e).map((function(t){return t+": "+e[t].map((function(e){return e.id+": "+rn(e.value,{showDecimals:!0})})).join(", ")})).join("\n");b(t)}),[g,b]);return Object(Je.jsxs)(k.default,{style:no.container,children:[Object(Je.jsxs)(on,{title:"Other actions",children:[Object(Je.jsx)(j.Button,{title:"Clear Quickbar",onPress:function(){return n.current.apply((function(e){return e.quickbar=[],e}))}}),Object(Je.jsx)(j.Button,{title:"Max All Storages",onPress:function(){return n.current.apply((function(e){for(var t in dn)"TimePieces"!=t&&(e=Tn(t,9999999)(e));return e=Tn(dn.TimePieces,9999999)(e)}))}}),Object(Je.jsx)(j.Button,{title:"Grant 10k School Exp",onPress:function(){return n.current.apply((function(e){return e=Rt(ft.Conjuration,1e4)(e),e=Rt(ft.Enchantment,1e4)(e),e=Rt(ft.Illusion,1e4)(e)}))}}),Object(Je.jsx)(j.Button,{title:"Play Sound",onPress:function(){return M.play("menuClick")}}),Object(Je.jsx)(j.Button,{title:"Artifically pass 10 minutes",onPress:function(){return n.current.apply((function(e){return e.skipAheadTime=600,e}))}}),Object(Je.jsx)(j.Button,{title:"Toggle 2x speed",onPress:function(){return n.current.apply((function(e){return e=pr(e,"debug_2x_speed")?kr("debug_2x_speed")(e):vr("debug_2x_speed")(e)}))}}),Object(Je.jsx)(j.Button,{onPress:function(){be.default.removeItem("PlayerContextState"),be.default.removeItem("LastSaveSecondsPlayed")},title:"Clear storage"},"clearstorage"),Object(Je.jsx)(j.Button,{onPress:function(){t.apply((function(e){return e.global=q,e}))},title:"Reset global state"},"resetglobal"),Object(Je.jsx)(j.Button,{onPress:function(){t.apply(Xr)},title:"Clean up playercontext"},"cleanupplayercontext"),Object(Je.jsx)(j.Button,{onPress:function(){t.apply((function(e){return $})),be.default.removeItem("PlayerContextState"),be.default.removeItem("LastSaveSecondsPlayed")},title:"Restart game (WARNING: ALSO DELETES SAVED DATA)"},"restartgame")]}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Multiplier Debugging"}),Object(Je.jsx)(ut,{children:"Separate tags by commas"}),Object(Je.jsx)(j.Input,{onChangeText:y,value:g,onSubmitEditing:w}),Object(Je.jsx)(j.Button,{onPress:w,title:"Debug multipliers"}),Object(Je.jsx)(ut,{children:v})]}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Random Event Debugging"}),Object(Je.jsxs)(ut,{children:["Next event in"," ",rn(t.nextRandomEvent-ne(t))," ","sec"]}),Object(Je.jsx)(ut,{children:JSON.stringify($r(t),null,"\t")})]}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Player Context Editing"}),Object(Je.jsx)(j.Input,{multiline:!0,onChangeText:s,value:c,style:{minHeight:400,fontFamily:"monospace, Courier New"}}),Object(Je.jsx)(j.Button,{onPress:f,title:"Set player context"},"setPlayerContext")]}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Trigger Events"}),o]})]})}var no=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"}}),ro=n(67),oo=n(52),io=[];function ao(e){io.push(e)}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var so=d.a.memo((function(e){var t,n;if(!e.item.currentMessageId)return null;var r=ie(e.item.currentMessageId);if(!r)return null;var o=r.getTitle(null==(t=e.item)?void 0:t.params),i=yr()(e.item.timestamp).format("h:mm A")+" - "+r.getDescription($,null==(n=e.item)?void 0:n.params);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(j.ListItem,{onPress:e.onPress,Component:g.default.select({android:ro.default,default:v.default}),children:[Object(Je.jsxs)(j.ListItem.Content,{children:[Object(Je.jsx)(j.ListItem.Title,{children:o}),Object(Je.jsx)(ut,{numberOfLines:1,children:i})]}),Object(Je.jsx)(j.ListItem.Chevron,{name:r.isTerminal()?"check":"chevron-right"})]}),Object(Je.jsx)(j.Divider,{})]})}),[o,i,r.isTerminal()])}),(function(e,t){return e.item.currentMessageId===t.item.currentMessageId}));function lo(){var e=Object(A.useContext)(ee),t=Object(A.useRef)(e);t.current=e;var n=Object(A.useCallback)((function(e,t){return e.eventOccurrenceId}),[]),r=Object(A.useCallback)((function(e){return Object(Je.jsx)(so,co(co({},e),{},{onPress:function(){t.current.apply(Ae(e.item.eventOccurrenceId))}}))}),[]),o=Object.values(e.eventOccurrences).sort((function(e,t){return t.timestamp-e.timestamp})),i=Object(A.useMemo)((function(){return JSON.stringify(e.eventOccurrences)}),[o]),a=Object(A.useMemo)((function(){return o.filter((function(e){return e.currentMessageId&&ie(e.currentMessageId).isTerminal()})).slice(0,20)}),[i]),u=Object(A.useMemo)((function(){return o.filter((function(e){return e.currentMessageId&&!ie(e.currentMessageId).isTerminal()}))}),[i]),c=Object(A.useMemo)((function(){var e=[];return u.length>0&&e.push({title:"Ongoing",data:u}),a.length>0&&e.push({title:"Finished",data:a}),e}),[u,a]),s=function(e){for(var t in io){var n=io[t];if(!n.isCompleted(e))return n}}(e),l=Object(A.useCallback)((function(e,t){return e.title}),[]),f=Object(A.useCallback)((function(e){return Object(Je.jsx)(on,{titleStyle:fo.categoryTitle,title:e.item.title,children:Object(Je.jsx)(Ur.default,{keyExtractor:n,data:e.item.data,renderItem:r})})}),[n,r]);return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:fo.emptyTitleContainer,children:[Object(Je.jsx)(j.Icon,{name:"notifications",containerStyle:fo.titleIcon}),Object(Je.jsx)(ut,{h2:!0,children:"Events"})]}),Object(Je.jsx)(on,{titleStyle:fo.categoryTitle,title:"Current Goal",children:Object(Je.jsxs)(k.default,{style:fo.hintContents,children:[Object(Je.jsxs)(ut,{style:fo.hintContentsText,children:[null==s?void 0:s.description,"!"]}),(null==s?void 0:s.progress)&&Object(Je.jsx)(oo.default,{progress:null==s?void 0:s.progress(e),width:null,useNativeDriver:!0,style:fo.hintProgress})]})}),Object(Je.jsx)(Ur.default,{keyExtractor:l,data:c,renderItem:f})]})}var fo=m.default.create({categoryTitle:{marginLeft:8},emptyTitleContainer:{flexDirection:"row",justifyContent:"center",marginTop:8},titleIcon:{paddingRight:8,height:28},hintContents:{marginLeft:16,marginTop:8,paddingRight:32},hintContentsText:{fontStyle:"italic"},hintProgress:{marginTop:4}}),Ao=n(16),ho=n(48);function go(e){var t=Object(A.useRef)(new Ao.default.Value(e.visible?0:300)).current,n=Object(A.useRef)(new Ao.default.Value(e.visible?.5:0)).current;return Object(A.useEffect)((function(){e.visible?(Ao.default.timing(t,{toValue:0,duration:150,useNativeDriver:!0}).start(),Ao.default.timing(n,{toValue:.5,duration:150,useNativeDriver:!0}).start()):(Ao.default.timing(t,{toValue:300,duration:150,useNativeDriver:!0}).start(),Ao.default.timing(n,{toValue:0,duration:150,useNativeDriver:!0}).start())}),[e.visible]),Object(A.useMemo)((function(){return Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsx)(ho.default,{onPress:e.onBackgroundPress,children:Object(Je.jsx)(Ao.default.View,{style:[yo.backdrop,{opacity:n}],pointerEvents:e.visible?"auto":"none"})}),Object(Je.jsx)(Ao.default.View,{style:[yo.container,{transform:[{translateX:t}]}],children:Object(Je.jsx)(lo,{})})]})}),[n,t,e.visible])}var yo=m.default.create({backdrop:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#000"},backdropTouchable:{position:"absolute",height:"100%",width:"100%"},container:{justifyContent:"flex-start",alignItems:"stretch",position:"absolute",height:"100%",width:300,right:0,top:0,backgroundColor:"#fff"}});function po(){var e,t=Object(A.useContext)(ee),n=Object(A.useState)(void 0),r=l()(n,2),o=r[0],i=r[1],a=Object(A.useCallback)((function(e){"closeEventOverlay"==e&&i(void 0)}),[]),u=Object(A.useCallback)((function(e){var t=_e(e);return t.forEach(a),e.uiCommands=t.filter((function(e){return"closeEventOverlay"!=e})),e}),[]);Object(A.useEffect)((function(){me("eventOverlayUiCommand",(function(e,t){if(_e(t).length>0)return function(e){return u(e)}}))}),[]);var c=Object(A.useRef)(o);c.current=o,Object(A.useEffect)((function(){me("event_overlay",(function(e,t){if(t.eventQueue.length>0&&(!c.current||null==ce(t,c.current))){var n=null,r=[];do{if(null!=(n=t.eventQueue.pop())){r.push(n);var o,a,u=ce(t,n),s=null==u?void 0:u.currentMessageId;if(null!=u&&null!=s)(null!=(o=null==u?void 0:u.timestampSecondsPlayed)?o:0)<=.1&&null!=(a=ie(s))&&a.isTerminal()&&(n=null)}}while(t.eventQueue.length>0&&null==n);return n&&(i(n),c.current=n),function(e){return r.reduce((function(e,t){return function(e){return de.bind(this,e)}(t)(e)}),e)}}}));return function(){delete pe["event_overlay"]}}),[]);var s,f,d=null,h=null,g=null;null!=o&&(d=ce(t,o),(h=(null==(s=d)?void 0:s.currentMessageId)&&ie(d.currentMessageId))&&(g=h.getAllowedOptions(t,null==(f=d)?void 0:f.params).map((function(e){return e.description+e.isEnabled}))));return Object(A.useMemo)((function(){var e,n,r;return o&&h?Object(Je.jsx)(j.Overlay,{isVisible:!0,overlayStyle:mo.overlay,children:Object(Je.jsxs)(k.default,{style:mo.overlayContainer,children:[Object(Je.jsx)(j.Button,{icon:Object(Je.jsx)(j.Icon,{name:"close",size:24,color:"white"}),containerStyle:mo.overlayCloseButton,style:mo.overlayCloseButtonInner,iconContainerStyle:mo.overlayCloseButtonInner,buttonStyle:mo.overlayCloseButtonInner,onPress:function(){return i(void 0)}}),Object(Je.jsx)(ut,{h1:!0,children:h.getTitle(null==(e=d)?void 0:e.params)}),Object(Je.jsx)(k.default,{style:mo.description,children:Object(Je.jsx)(ot,{children:h.getDescription(t,null==(n=d)?void 0:n.params)})}),Object(Je.jsx)(k.default,{style:mo.optionRow,children:h.getAllowedOptions(t,null==(r=d)?void 0:r.params).map((function(e){return Object(Je.jsx)(j.Button,{onPress:function(){e.nextMessage||e.transform?t.apply(le(o,e)):i(void 0)},title:e.description,containerStyle:mo.optionButton,disabled:!e.isEnabled},e.description)}))})]})}):null}),[JSON.stringify(d),null==(e=g)?void 0:e.join(",")])}var mo=m.default.create({overlay:{alignSelf:"center",marginHorizontal:16,maxWidth:640},overlayContainer:{padding:8},overlayCloseButton:{height:32,width:32,borderRadius:16,position:"absolute",right:-16,top:-16},overlayCloseButtonInner:{paddingHorizontal:0,paddingVertical:0,height:32},description:{marginVertical:8},optionRow:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},optionButton:{marginTop:8}}),vo=new F;function bo(e){var t,n;return vo.getById((null==(t=e.exploration)||null==(n=t.currentEnemy)?void 0:n.id)||"")}var ko,jo,wo=new F,xo=new F,Co=new F;function Ro(e){return V([ko.Player,jo.MaxHP],e,100)}function Oo(e){return Math.max(V([ko.Player,jo.Attack],e,5),1)}function Eo(e){return V([ko.Player,jo.AttackDelay],e,2.5)}function Bo(e){return Math.max(V([ko.Player,jo.Defense],e,0),0)}function Mo(e){return V([ko.Player,jo.HPRegen],e,.1)}!function(e){e.Player="Player",e.Enemy="Enemy",e.Summon="Summon"}(ko||(ko={})),function(e){e.MaxHP="MaxHP",e.Attack="Attack",e.AttackDelay="AttackDelay",e.Defense="Defense",e.HPRegen="HPRegen",e.Dodge="Dodge",e.Accuracy="Accuracy",e.CritChance="CritChance"}(jo||(jo={}));var So=new F;function Do(e){return null!=e.exploration.currentSummon&&e.exploration.currentSummon.currentHP>0}var Po=new F;function Io(e){var t,n;return Po.getById((null==(t=e.exploration)||null==(n=t.currentSummon)?void 0:n.id)||"")}var To=void 0,_o=void 0;function Yo(e,t){return e.exploration||(e.exploration=z),e.exploration.currentDungeonFloorId=t.getId(),Qo(e)}function Qo(e){return e.exploration||(e.exploration=z),e.exploration.explorationStartTime=ne(e),e.exploration.explorationStatus=W.Exploring,e}function Vo(e){return e.exploration||(e.exploration=z),e.exploration.explorationStartTime=ne(e),e.exploration.explorationStatus=W.ExploringBoss,e}function Fo(e){var t;return(null==(t=e.exploration)?void 0:t.explorationStartTime)||0}function No(e){var t;return Mr.getById((null==(t=e.exploration)?void 0:t.currentDungeonFloorId)||"")}function Uo(e){var t;return(null==(t=e.exploration)?void 0:t.explorationStatus)||W.None}function Go(e,t){if(t.exploration||(t.exploration=z),t.exploration.explorationStatus=W.Combat,t.exploration.currentEnemy={id:e.getId(),currentHP:e.getMaxHP(t)},To=e.getNextAction(t),_o=void 0,Do(t)){var n=Io(t);_o=n.getNextAction(t),t.exploration.summonActionProgress=0}return t.exploration.playerActionProgress=0,t.exploration.enemyActionProgress=0,t}function Ho(e){return Go.bind(this,e)}function Wo(e){var t;return(null==(t=e.exploration)?void 0:t.currentHP)||0}function Lo(e){var t,n;return(null==(t=e.exploration)||null==(n=t.currentSummon)?void 0:n.currentHP)||0}function Jo(e){var t,n;return(null==(t=e.exploration)||null==(n=t.currentEnemy)?void 0:n.currentHP)||0}function Zo(e,t){return Math.max(e-t/2,1)}function zo(e,t){var n=e-t;return Math.random()<n}function Xo(e,t){return e.exploration||(e.exploration=z),e.exploration.currentHP=Math.min(Ro(e),Math.max(e.exploration.currentHP+t,0)),e}function qo(e,t){if(e.exploration||(e.exploration=z),null==e.exploration.currentSummon)return e;var n=Io(e);return e.exploration.currentSummon.currentHP=Math.min(n.getMaxHP(e),Math.max(e.exploration.currentSummon.currentHP+t,0)),e}function Ko(e,t){e.exploration||(e.exploration=z);var n=bo(e);return e.exploration.currentEnemy.currentHP=Math.min(n.getMaxHP(e),e.exploration.currentEnemy.currentHP+t),e}function $o(e){return Do(e)?ko.Summon:ko.Player}function ei(e,t,n){var r=V([ko.Enemy,jo.Accuracy],e,t),o=0;if((null!=n?n:$o(e))===ko.Summon){var i=Io(e);null!=i&&(o=i.getDodgeChance(e))}else o=function(e){return V([ko.Player,jo.Dodge],e,0)}(e);return zo(r,o)}function ti(e,t,n,r,o){var i=ei(e,t,o),a=0,u=!1,c=null!=o?o:$o(e);if(i){u=Math.random()<(null!=r?r:0);if(c===ko.Player)a=Zo(u?1.5*n:n,u?0:Bo(e)),e=Xo(e,-(a=V([Y.AttackDamageReceived,c],e,a)));else{var s=Io(e);null!=s&&(a=Zo(u?1.5*n:n,u?0:s.getDefense(e)),e=qo(e,-(a=V([Y.AttackDamageReceived,c],e,a))))}}var l={id:Math.random().toString(),damage:a,isHit:i,isCrit:u,time:ne(e),target:c,tags:[]};return e.exploration.lastEnemyActionResult=l,e.exploration.actionResultQueue.push(l),e}function ni(e,t,n,r,o){var i=zo(function(e){return V([ko.Player,jo.Accuracy],e,1)}(e)*(null!=n?n:1),bo(e).getDodgeChance(e)),a=0,u=!1;if(i){var c=V([ko.Player,jo.CritChance],e,0);a=Zo((u=Math.random()<c*(null!=r?r:0))?1.5*t:t,u?0:bo(e).getDefense(e)),e=Ko(e,-(a=V([Y.AttackDamageReceived,ko.Enemy],e,a)))}var s={id:Math.random().toString(),damage:a,isHit:i,isCrit:u,time:ne(e),target:ko.Enemy,tags:null!=o?o:[]};return e.exploration.lastPlayerActionResult=s,e.exploration.actionResultQueue.push(s),e}function ri(e){return e.exploration.lastPlayerActionResult}function oi(e,t){var n,r;return(null==e||null==(n=e.exploration)||null==(r=n.successfulExplorationsPerFloor)?void 0:r[t])||0}function ii(e,t){return e.explorationMessageLog||(e.explorationMessageLog=[]),e.explorationMessageLog.unshift({id:Math.random().toString(),timestamp:ne(e),message:"["+yr()(Date.now()).format("h:mm:ss A")+"] "+t}),e.explorationMessageLog=e.explorationMessageLog.slice(0,40),e}function ai(e){return e.exploration||(e.exploration=z),e.exploration.explorationStatus=W.None,e=ii(e,"You stop exploring.")}function ui(e){var t=Uo(e);if(t!=W.Exploring&&t!=W.ExploringBoss)return 0;var n=No(e);return V([Y.ExplorationDelay],e,n.getExplorationRequiredTimeSec())}var ci=[];function si(){H("Exploration",(function(e,t){var n=Uo(e);if(n!=W.Exploring&&n!=W.ExploringBoss)return e;var r=No(e),o=ui(e),i=Fo(e)+o;if(ne(e)>i){if(e.exploration||(e.exploration=z),e.exploration.explorationStartTime=i,n!=W.Exploring){var a=r.doFightBoss(e);return a?a(e):e}var u=r.doExplore(e);if(null!=u)return u.normal(e)}return e})),H("Combat",(function(e,t){if(Uo(e)!=W.Combat)return e;e.exploration||(e.exploration=z);var n=bo(e),r=Io(e),o=Eo(e),i=function(e){var t=bo(e);return To||(To=t.getNextAction(e)),V([ko.Enemy,jo.AttackDelay],e,To.delay)}(e),a=function(e){var t,n=Io(e);if(n&&(null==(t=e.exploration)?void 0:t.explorationStatus)==W.Combat)return _o||(_o=n.getNextAction(e)),_o.delay}(e);return e.exploration.playerActionProgress+=t/o,e.exploration.enemyActionProgress+=t/i,null!=a&&(e.exploration.summonActionProgress+=t/a),e.exploration.playerActionProgress>1&&((e=function(e){var t=ye(e);return e=ni(e,Oo(e),1,1),wo.getAll().forEach((function(n){e=n(t,e)})),e}(e)).exploration||(e.exploration=z),e.exploration.playerActionProgress-=1),null!=_o&&e.exploration.summonActionProgress>1&&(e=function(e){if(_o&&null!=e.exploration.currentSummon&&e.exploration.currentSummon.currentHP>0){var t=ye(e);e=_o.transform(e),Co.getAll().forEach((function(n){e=n(t,e)}))}return e}(e),_o=null==r?void 0:r.getNextAction(e),e.exploration||(e.exploration=z),e.exploration.summonActionProgress-=1),e.exploration.enemyActionProgress>1&&(e=function(e){if(To){var t=ye(e);e=To.transform(e),xo.getAll().forEach((function(n){e=n(t,e)}))}return e}(e),To=n.getNextAction(e),e.exploration||(e.exploration=z),e.exploration.enemyActionProgress-=1),e})),me("CombatSummonDeathListener",(function(e,t){if(Uo(t)==W.Combat)return Lo(e)>0&&Lo(t)<=0?function(e){return e.exploration||(e.exploration=z),(e=ii(e,"Your summoned "+Io(e).getName()+" has died!")).exploration.currentSummon=void 0,_o=void 0,e}:void 0})),me("CombatCleaningCrew",(function(e,t){if(Uo(e)===W.Combat&&Uo(t)!==W.Combat)return function(e){return e=Er(e=zr(e)),_o=void 0,e}})),me("CombatDeathListener",(function(e,t){if(Uo(t)==W.Combat){if(Wo(e)>0&&Wo(t)<=0)if(!So.getAll().map((function(e){return e(t)})).some((function(e){return e})))return function(e){return e=Er(e=zr(e)),_o=void 0,e.exploration||(e.exploration=z),e.exploration.explorationStatus=W.Reviving,e=ii(e,"You run away to recover from your injuries...")};return Jo(e)>0&&Jo(t)<=0?function(e){var t=bo(e);e=ii(e,"You defeated "+t.getName()+"!"),e=t.onDeath(e,!1),ci.forEach((function(n){e=n(e,t)})),e.exploration||(e.exploration=z);var n=e.exploration.currentDungeonFloorId;return e.exploration.successfulExplorationsPerFloor[n]=oi(e,n)+1,Qo(e)}:void 0}})),H("PlayerHPRegen",(function(e,t){var n=Uo(e);if(n==W.Combat&&Wo(e)<=0)return e;var r=Mo(e),o=1;return n!=W.Combat&&(o=10),e=Xo(e,r*o*t)})),me("ContinueExplorationAfterReviving",(function(e,t){if(Uo(t)==W.Reviving&&Wo(t)==Ro(t))return Qo}))}function li(){var e=Object(A.useContext)(ee),t=To,n=function(e){var t;return(null==(t=e.exploration)?void 0:t.enemyActionProgress)||0}(e);return Object(A.useMemo)((function(){return t?Object(Je.jsxs)(k.default,{style:fi.row,children:[Object(Je.jsx)(qe,{icon:"attack",style:fi.icon}),Object(Je.jsxs)(k.default,{style:fi.progressBarContainer,children:[Object(Je.jsx)(ot,{children:t.name}),Object(Je.jsx)(oo.default,{progress:n,useNativeDriver:!0,width:null})]})]}):Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(ut,{h3:!0,children:"-"}),Object(Je.jsx)(oo.default,{progress:0,useNativeDriver:!0})]})}),[null==t?void 0:t.name,n])}var fi=m.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{},progressBarContainer:{flex:1,height:32}});function Ai(e){var t,n,r=null,o=null;void 0!=e.action&&(e.action.isHit?(r=(e.action.damage>0?"-":"")+rn(Math.abs(e.action.damage),{showDecimals:!1})+(e.action.isCrit?"!":""),o=e.action.isCrit?hi.auxTextCritical:e.action.damage>0?hi.auxTextDamage:hi.auxTextHealing):r="Miss!");var i=Object(A.useRef)(new Ao.default.Value(0)).current,a=Object(A.useRef)(new Ao.default.Value(0)).current;return Object(A.useEffect)((function(){i.setValue(0),Ao.default.sequence([Ao.default.delay(e.delay),Ao.default.spring(i,{toValue:-16,useNativeDriver:!0,bounciness:0})]).start()}),[null==(t=e.action)?void 0:t.id]),Object(A.useEffect)((function(){Ao.default.sequence([Ao.default.delay(e.delay),Ao.default.timing(a,{toValue:1,useNativeDriver:!0,duration:0}),Ao.default.timing(a,{toValue:0,useNativeDriver:!0,duration:800})]).start()}),[null==(n=e.action)?void 0:n.id]),r?Object(Je.jsx)(Ao.default.View,{style:[hi.auxTextContainer,{transform:[{translateY:i}],opacity:a}],children:Object(Je.jsx)(ut,{style:[hi.auxText,o],children:r})}):Object(Je.jsx)(k.default,{})}var di=d.a.memo((function(e){var t=Object(A.useContext)(ee),n=Object(A.useRef)(ne(t)),r=t.exploration.actionResultQueue.filter((function(t){return t.target===e.actionTarget&&t.time>n.current})),o=r.map((function(e){return e.id})).join(),i=Object(A.useMemo)((function(){var e=0,t=0,n=[];for(var o in r){var i=r[o];1e3*i.time<e+300?t+=e+300-1e3*i.time:t=0,n.push(Object(Je.jsx)(Ai,{action:i,delay:t},i.id)),e=1e3*i.time}return n}),[o]);return Object(Je.jsxs)(k.default,{style:[hi.row,hi.container],children:[Object(Je.jsx)(qe,{icon:"hp",style:hi.icon}),Object(Je.jsxs)(k.default,{style:hi.progressBarContainer,children:[Object(Je.jsx)(oo.default,{progress:e.current/e.max,width:null,useNativeDriver:!0,color:"red",unfilledColor:"#800",height:20}),!e.empty&&Object(Je.jsxs)(ut,{style:hi.overlaidText,children:[rn(Math.ceil(e.current)),"/",rn(Math.ceil(e.max))]}),i]})]})})),hi=m.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginTop:-4},overlaidText:{color:"#fff",fontWeight:"bold",position:"absolute",width:"100%",textAlign:"center"},auxTextContainer:{left:48,position:"absolute",width:"100%"},auxText:{color:"#000",width:"100%",textAlign:"center",fontWeight:"bold"},auxTextCritical:{color:"#dd0"},auxTextDamage:{color:"#f00"},auxTextHealing:{color:"#0f0"},progressBarContainer:{flex:1},container:{height:32}});function gi(){var e=Object(A.useContext)(ee),t=Uo(e)==W.Combat,n=0,r=1;return t&&(n=Jo(e),r=bo(e).getMaxHP(e)),Object(Je.jsx)(di,{empty:!t,current:n,max:r,actionTarget:ko.Enemy})}function yi(e){return Object(Je.jsx)(k.default,{style:pi.tile,children:e.sprite&&Object(Je.jsx)(j.Image,{resizeMode:"contain",source:e.sprite,style:pi.image})})}var pi=m.default.create({tile:{borderColor:"#eee",borderWidth:1,height:144,width:144,justifyContent:"center",alignItems:"stretch",margin:8},image:{height:144,width:144}});function mi(e){return Object(Je.jsx)(k.default,{style:vi.tagRow,children:e.tags.map((function(e){return Object(Je.jsx)(k.default,{style:vi.tagStyle,children:Object(Je.jsx)(ut,{style:vi.tagTextStyle,children:e.tag})},e.tag)}))})}var vi=m.default.create({tagRow:{flexDirection:"row",flexWrap:"wrap"},tagStyle:{backgroundColor:"#000",borderColor:"#000",textAlign:"center",paddingHorizontal:6,borderRadius:8,height:18,marginRight:4},tagTextStyle:{color:"#fff",fontSize:11}});function bi(e){var t=Object(Je.jsxs)(k.default,{style:ki.tile,children:[e.icon&&Object(Je.jsx)(qe,{icon:e.icon}),null!=e.amount&&e.amount>1&&Object(Je.jsx)(j.Badge,{status:"primary",value:e.amount,containerStyle:{position:"absolute",top:-8,right:-8}})]});return e.onPress?Object(Je.jsx)(v.default,{onPress:function(){return e.onPress&&e.onPress()},children:t}):t}var ki=m.default.create({tile:{borderColor:"#ddd",borderWidth:.5,height:48,width:48,justifyContent:"center",alignItems:"center",margin:8}});function ji(e){var t=Object(A.useContext)(ee),n=e.itemStack.itemOccurrence,r=n.itemId,o=n.params,i=We(r),a=i.getName(o),u=i.getDescription(t,o),c=i.getEffect(t,o),s=i.getTags(t,o);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:wi.itemDetailsContainer,children:[Object(Je.jsxs)(k.default,{style:wi.main,children:[Object(Je.jsxs)(ut,{h3:!0,children:[a,e.itemStack.amount>1&&" ("+e.itemStack.amount+")"]}),Object(Je.jsx)(k.default,{style:wi.tagRow,children:Object(Je.jsx)(mi,{tags:s})}),u&&Object(Je.jsx)(or,{children:u}),c&&Object(Je.jsx)(ir,{children:c})]}),Object(Je.jsx)(bi,{icon:i.getId()})]})}),[a,e.itemStack.amount,JSON.stringify(s),u,c,i.getId()])}var wi=m.default.create({itemDetailsContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},main:{flex:1},tagRow:{marginVertical:4}});function xi(e){var t=e.action,n=Object(A.useContext)(ee),r=Object(A.useRef)(n);return r.current=n,Object(A.useMemo)((function(){return Object(Je.jsx)(j.Button,{title:t.description,disabled:!t.isEnabled,containerStyle:Ri.actionButtonContainer,onPress:function(){t.transform&&r.current.apply(t.transform)}},t.description)}),[t.description,t.isEnabled,t.transform,r])}function Ci(e){var t=Object(A.useContext)(ee);Object(A.useRef)(t).current=t;var n=e.itemStack.itemOccurrence,r=n.itemId,o=n.params,i=We(r),a=(i.getName(o),i.getDescription(t,o),i.getEffect(t,o),[i.getPrimaryAction(t,o),e.disableSelling?void 0:i.getSaleAction(t,o),e.showQuickbar?i.getQuickbarAction(t,o):void 0].filter((function(e){return void 0!=e}))),u=Object(A.useMemo)((function(){return Object(Je.jsx)(ji,{itemStack:e.itemStack})}),[JSON.stringify(e.itemStack)]);return Object(Je.jsxs)(k.default,{style:Ri.itemDetailsContainer,children:[u,Object(Je.jsx)(k.default,{style:Ri.actionRow,children:a.map((function(e){return Object(Je.jsx)(xi,{action:e},e.description)}))})]})}var Ri=m.default.create({itemDetailsContainer:{marginBottom:16},tagRow:{marginVertical:4},actionRow:{flexDirection:"row",flexWrap:"wrap",marginTop:8},actionButtonContainer:{marginRight:8}});function Oi(e){return Object(A.useMemo)((function(){for(var t=[],n=0;n<(e.dummySlotAmount||0);n++)t.push(Object(Je.jsx)(bi,{},"dummySlot"+n));return Object(Je.jsx)(k.default,{style:Ei.container,children:Object(Je.jsx)(p.default,{style:Ei.scrollView,nestedScrollEnabled:!0,children:Object(Je.jsxs)(k.default,{style:Ei.gridContainer,children:[e.items.map((function(t,n){var r=We(t.itemId);return Object(Je.jsx)(bi,{onPress:function(){return e.onPressItem&&e.onPressItem(r,n)},icon:r.getId(),amount:t.amount},n)})),t]})})})}),[JSON.stringify(e.items),e.onPressItem,e.dummySlotAmount])}var Ei=m.default.create({container:{borderColor:"#ddd",borderWidth:2},scrollView:{maxHeight:220},gridContainer:{flexDirection:"row",flexWrap:"wrap",backgroundColor:"#fff",justifyContent:"center",flex:1}});function Bi(e){var t,n=Object(A.useContext)(ee),r=Object(A.useState)(null),o=l()(r,2),i=o[0],a=o[1],u=bn(n),c=u.map((function(e){return{itemId:e.itemOccurrence.itemId,amount:e.amount}})),s=null!=i?null==(t=u[i])?void 0:t.itemOccurrence:void 0,f=(s&&s.params,s&&We(s.itemId),jn(n)-u.length),h=Object(A.useRef)(i);h.current=i,me("InventoryComponent",(function(e,t){var n,r,o=bn(e),i=bn(t),u=null!=h.current?null==(n=o[h.current])?void 0:n.itemOccurrence:void 0,c=null!=h.current?null==(r=i[h.current])?void 0:r.itemOccurrence:void 0;JSON.stringify(u)!=JSON.stringify(c)&&a(null)}));var g=null!=i&&s&&Object(Je.jsx)(Ci,{disableSelling:e.disableSelling,showQuickbar:e.showQuickbar,itemStack:u[i]}),y=d.a.useCallback((function(e,t){a(t)}),[a]);return Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(Oi,{items:c,onPressItem:y,dummySlotAmount:f}),Object(Je.jsx)(k.default,{style:Mi.detailsContainer,children:g})]})}var Mi=m.default.create({detailsContainer:{marginTop:16}});function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){var t=e.playerContext,n=Object(A.useState)(""),r=l()(n,2),o=r[0],i=r[1],a=Gt(t);if(e.area)for(var u in a)a[u]=a[u].filter((function(t){return t.getArea()==e.area})),0==a[u].length&&delete a[u];var c,s=Object(A.useMemo)((function(){return Object.keys(a).map((function(e){return Object(Je.jsx)(j.Button,{title:e,containerStyle:Ii.schoolButton,onPress:function(){return i(e)}},e)}))}),[Object.keys(a).join(",")]),d=((null==(c=t)?void 0:c.recentSpellsCast)||[]).map(Ut).filter((function(e){return null!=e})),h=Object(A.useMemo)((function(){return d.map((function(e){return Object(Je.jsx)(ur,{action:e,asSpell:!0},e.getSpellName())}))}),[d.map((function(e){return e.getName()})).join(",")]),g=(a[o]||[]).sort((function(e,t){return(t.getSchoolLevelRequirements()[o]||0)-(e.getSchoolLevelRequirements()[o]||0)})),y=Object(A.useMemo)((function(){return g.map((function(t){return Object(Je.jsx)(ur,{action:t,asSpell:!0,showAddToQuickbar:e.showAddToQuickbar},t.getSpellName())}))}),[g.map((function(e){return e.getName()})).join(",")]);return Object(A.useMemo)((function(){return""===o?Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:Ii.emptyTitleContainer,children:[Object(Je.jsx)(f.default,{name:"magic-wand",size:24,style:Ii.magicWand}),Object(Je.jsx)(ut,{h2:!0,children:"Cast Spell"})]}),!e.hideRecent&&Object(Je.jsx)(on,{title:"Recent",children:h}),Object(Je.jsx)(on,{title:"By School",children:Object(Je.jsx)(k.default,{style:Ii.schoolContainer,children:s})})]}):Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:Ii.titleContainer,children:[Object(Je.jsx)(j.Icon,{name:"arrow-back",color:"#000",onPress:function(){return i("")},hitSlop:{top:30,left:30,bottom:30,right:30}}),Object(Je.jsxs)(k.default,{style:Ii.schoolTitleContainer,children:[Object(Je.jsx)(f.default,{name:"magic-wand",size:24,style:Ii.magicWand}),Object(Je.jsxs)(ut,{h2:!0,children:["Cast Spell: ",o]})]})]}),Object(Je.jsx)(k.default,{style:Ii.spellsContainer,children:y})]})}),[o,i,y,s,h])}function Pi(e){var t=Object(A.useContext)(ee);return Object(A.useMemo)((function(){return Object(Je.jsx)(Di,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({playerContext:t},e))}),[e.area,e.hideRecent,e.showAddToQuickbar,!1!==e.isVisible&&t])}var Ii=m.default.create({schoolContainer:{marginTop:8},spellsContainer:{marginTop:8},schoolButton:{marginVertical:4},magicWand:{marginRight:8},schoolTitleContainer:{flexDirection:"row",alignItems:"center"},emptyTitleContainer:{flexDirection:"row",justifyContent:"center"},titleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}});var Ti=d.a.memo((function(e){return Object(Je.jsxs)(k.default,{style:Yi.row,children:[Object(Je.jsx)(qe,{icon:e.isBeneficial?"boost":"debuff",style:Yi.icon}),Object(Je.jsx)(ut,{style:Yi.boostText,children:e.text})]})}));function _i(e){var t=Object(A.useContext)(ee),n=Wr(t).filter((function(t){return e.isEnemy?t.isEnemyTemporaryEffect:!t.isEnemyTemporaryEffect}));return Object(A.useMemo)((function(){var e=n.map((function(e){var n=e.name,r=e.endTime,o=e.isBeneficial,i=n+" ("+rn(r-ne(t))+" sec)";return Object(Je.jsx)(Ti,{isBeneficial:o,text:i},n)}));return Object(Je.jsx)(k.default,{style:Yi.container,children:e})}),[!1!==e.isVisible&&t,!1!==e.isVisible&&n])}var Yi=m.default.create({container:{justifyContent:"center",alignItems:"stretch"},icon:{height:20,width:20,marginTop:2},row:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:4},boostText:{marginLeft:8,flex:1}});function Qi(e){var t=Object(A.useContext)(ee),n=Object(A.useRef)(t);n.current=t;var r=e.quickbarAction,o=r.getDisplayName(t),i=r.getTransform(t),a=r.toQuickbarData(),u=r.isEnabled(t);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:Fi.row,children:[Object(Je.jsx)(j.Button,{title:o,containerStyle:Fi.mainButton,titleStyle:Fi.smallButtonTitle,onPress:function(){return n.current.apply(i)},disabled:!u}),Object(Je.jsx)(j.Button,{icon:Object(Je.jsx)(j.Icon,{name:"close",size:24,color:"white"}),containerStyle:Fi.deleteButton,style:Fi.deleteButtonInner,iconContainerStyle:Fi.deleteButtonInner,buttonStyle:Fi.deleteButtonInner,hitSlop:{top:8,bottom:8,left:8,right:8},onPress:function(){return n.current.apply((function(e){return Kn(e,a)}))}})]},o)}),[o,n,i,u,Kn])}function Vi(){var e=Object(A.useContext)(ee),t=e.quickbar.map((function(e){return"item"==e.type?new Zn(e):new Xn(e)}));if(0==t.length)return Object(Je.jsx)(k.default,{children:Object(Je.jsx)(ut,{style:Fi.emptyText,children:'Your Quickbar is empty. Add actions to the Quickbar through the "Inventory" and "Spells" menus at the bottom!'})});var n=t.map((function(t){return Object(Je.jsx)(Qi,{quickbarAction:t},t.getDisplayName(e))}));return Object(Je.jsxs)(k.default,{style:Fi.mainContainer,children:[Object(Je.jsx)(k.default,{style:Fi.actionsContainer,children:n}),Object(Je.jsx)(k.default,{style:Fi.infoContainer,children:Object(Je.jsx)(_i,{})})]})}var Fi=m.default.create({emptyText:{fontWeight:"bold",fontStyle:"italic"},row:{flexDirection:"row",alignItems:"center",marginVertical:4},mainContainer:{flexDirection:"row",alignItems:"stretch"},actionsContainer:{flex:1.5,marginRight:8},infoContainer:{flex:1},mainButton:{flex:1},smallButtonTitle:{fontSize:12},deleteButton:{marginLeft:8},deleteButtonInner:{paddingHorizontal:0,paddingVertical:0,height:24,width:24,borderRadius:16}});function Ni(){var e=Object(A.useState)(""),t=l()(e,2),n=t[0],r=t[1];return Object(Je.jsxs)(k.default,{children:[!!n&&Object(Je.jsx)(k.default,{style:Ui.mainComponent,children:Object(Je.jsxs)(p.default,{style:[Ui.mainScrollView,"Quickbar"==n&&Ui.quickbarScrollView],nestedScrollEnabled:!0,children:["Inventory"==n&&Object(Je.jsx)(Bi,{disableSelling:!0,showQuickbar:!0}),"Spells"==n&&Object(Je.jsx)(Pi,{area:"Exploration",hideRecent:!0,showAddToQuickbar:!0}),"Quickbar"==n&&Object(Je.jsx)(Vi,{})]})}),Object(Je.jsxs)(k.default,{style:Ui.tabsContainer,children:[Object(Je.jsx)(ho.default,{onPress:function(){r("Inventory"!=n?"Inventory":"")},children:Object(Je.jsx)(k.default,{style:[Ui.tab,"Inventory"==n&&Ui.selectedTab],children:Object(Je.jsx)(ut,{h3:!0,children:"Inventory"})})}),Object(Je.jsx)(ho.default,{onPress:function(){r("Spells"!=n?"Spells":"")},children:Object(Je.jsx)(k.default,{style:[Ui.tab,"Spells"==n&&Ui.selectedTab],children:Object(Je.jsx)(ut,{h3:!0,children:"Spells"})})}),Object(Je.jsx)(ho.default,{onPress:function(){r("Quickbar"!=n?"Quickbar":"")},children:Object(Je.jsx)(k.default,{style:[Ui.tab,"Quickbar"==n&&Ui.selectedTab],children:Object(Je.jsx)(ut,{h3:!0,children:"Quickbar"})})})]})]})}var Ui=m.default.create({mainComponent:{backgroundColor:"#eee",padding:8,marginHorizontal:2,borderWidth:.5},mainScrollView:{height:300},quickbarScrollView:{height:226},tabsContainer:{marginHorizontal:8,marginBottom:8,flexDirection:"row",alignItems:"flex-end"},tab:{borderWidth:.5,borderRadius:8,marginHorizontal:8,padding:8,top:-1,backgroundColor:"#eee"},selectedTab:{borderTopWidth:0,borderTopLeftRadius:0,borderTopRightRadius:0,paddingTop:16,position:"relative"}});function Gi(){var e=Object(A.useContext)(ee),t=(ne(e)-Fo(e))/ui(e);return Object(Je.jsx)(k.default,{children:Object(Je.jsx)(oo.default,{progress:t,useNativeDriver:!0})})}function Hi(){var e=Object(A.useContext)(ee),t=Uo(e)==W.Combat,n=0;return t&&(n=function(e){var t;return(null==(t=e.exploration)?void 0:t.playerActionProgress)||0}(e)),Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:Wi.row,children:[Object(Je.jsx)(qe,{icon:"attack"}),Object(Je.jsx)(oo.default,{progress:n,useNativeDriver:!0})]})}),[n])}var Wi=m.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}});function Li(){var e=Object(A.useContext)(ee),t=Wo(e),n=Ro(e);return Object(Je.jsx)(di,{empty:!1,current:t,max:n,actionTarget:ko.Player})}function Ji(){var e,t=Object(A.useContext)(ee),n=(null==(e=t)?void 0:e.explorationMessageLog)||[];return Object(A.useMemo)((function(){return Object(Je.jsx)(p.default,{children:n.map((function(e){var t,n;return Object(Je.jsx)(ot,{children:null!=(n=null==e?void 0:e.message)?n:e},null!=(t=null==e?void 0:e.id)?t:e)}))})}),[n.map((function(e){var t;return null!=(t=null==e?void 0:e.id)?t:e})).join()])}function Zi(){var e=Object(A.useContext)(ee),t=_o,n=function(e){var t;return(null==(t=e.exploration)?void 0:t.summonActionProgress)||0}(e);return Object(A.useMemo)((function(){return t?Object(Je.jsxs)(k.default,{style:zi.row,children:[Object(Je.jsx)(qe,{icon:"attack",style:zi.icon}),Object(Je.jsxs)(k.default,{style:zi.progressBarContainer,children:[Object(Je.jsx)(ot,{style:zi.markdownContainer,children:t.name}),Object(Je.jsx)(oo.default,{progress:n,useNativeDriver:!0,width:150})]})]}):Object(Je.jsxs)(k.default,{style:zi.row,children:[Object(Je.jsx)(qe,{icon:"attack",style:zi.icon}),Object(Je.jsxs)(k.default,{style:zi.progressBarContainer,children:[Object(Je.jsx)(j.Text,{style:zi.idleTextContainer,children:"-"}),Object(Je.jsx)(oo.default,{progress:0,useNativeDriver:!0,width:150})]})]})}),[null==t?void 0:t.name,n])}var zi=m.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:182},icon:{},progressBarContainer:{flex:1,height:32},idleTextContainer:{height:18},markdownContainer:{minHeight:18}});function Xi(){var e,t,n,r=Object(A.useContext)(ee),o=(null==(e=r.exploration)||null==(t=e.currentSummon)?void 0:t.currentHP)||0,i=(null==(n=Io(r))?void 0:n.getMaxHP(r))||1;return Object(Je.jsx)(di,{empty:!1,current:o,max:i,actionTarget:ko.Summon})}function qi(e){return Object(Je.jsx)(k.default,{style:Ki.tile,children:e.sprite&&Object(Je.jsx)(j.Image,{resizeMode:"contain",source:e.sprite,style:Ki.image})})}var Ki=m.default.create({tile:{borderColor:"#eee",borderWidth:1,height:48,width:48,justifyContent:"center",alignItems:"stretch",marginRight:8},image:{height:46,width:46}});function $i(){var e=Object(A.useContext)(ee),t=Sr(e);return Object(Je.jsxs)(k.default,{style:na.container,children:[Object(Je.jsx)(k.default,{style:na.topRow,children:Object(Je.jsx)(ut,{h2:!0,children:"Exploration"})}),Object(Je.jsx)(ut,{children:"Select a destination."}),t.map((function(t){return Object(Je.jsx)(j.Button,{title:t.getName(),containerStyle:na.dungeonButton,onPress:function(){return e.apply((function(e){return Yo(e,t.getDungeonFloors()[0])}))}},t.getId())}))]})}function ea(){var e,t,n=Object(A.useContext)(ee),r=Object(A.useRef)(n);r.current=n;var o=Uo(n),i=No(n),a=i.getFloorName(),u=o==W.Combat&&bo(n).getPicture(n),c=i.getExplorationSuccessesForBoss(n)-oi(n,i.getId()),s=o==W.Combat&&bo(n).getName(),l=oi(n,i.getId())>=i.getExplorationSuccessesForBoss(n),f=i.canFightBoss(n),d=null==(e=i.getNextFloor())?void 0:e.isUnlocked(n),g=Object(A.useMemo)((function(){var e=null;return o==W.Combat?e=Object(Je.jsxs)(k.default,{style:na.explorationStatusContainer,children:[Object(Je.jsx)(ut,{h3:!0,children:s}),Object(Je.jsx)(gi,{}),Object(Je.jsx)(li,{}),Object(Je.jsx)(_i,{isEnemy:!0})]}):o==W.Exploring||o==W.ExploringBoss?e=Object(Je.jsxs)(k.default,{style:na.explorationStatusContainer,children:[Object(Je.jsx)(ut,{h3:!0,children:"Exploring..."}),Object(Je.jsx)(Gi,{})]}):o==W.Reviving&&(e=Object(Je.jsxs)(k.default,{style:na.explorationStatusContainer,children:[Object(Je.jsx)(ut,{h3:!0,children:"Recovering..."}),Object(Je.jsx)(h.default,{})]})),e}),[o,s]),y=Do(n),p=y&&(null==(t=Io(n))?void 0:t.getPicture()),m=Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:[na.row,na.enemyContainer],children:[Object(Je.jsx)(yi,{sprite:u}),g]}),Object(Je.jsx)(j.Divider,{}),Object(Je.jsxs)(k.default,{style:[na.row,na.playerContainer],children:[Object(Je.jsx)(k.default,{style:{flex:1},children:Object(Je.jsx)(Li,{})}),Object(Je.jsx)(Hi,{})]}),y&&Object(Je.jsxs)(k.default,{style:[na.row,na.summonContainer],children:[Object(Je.jsx)(qi,{sprite:p}),Object(Je.jsx)(k.default,{style:{flex:1},children:Object(Je.jsx)(Xi,{})}),Object(Je.jsx)(Zi,{})]}),Object(Je.jsxs)(k.default,{style:na.row,children:[Object(Je.jsxs)(k.default,{style:na.row,children:[Object(Je.jsxs)(ut,{children:["To unlock boss: ",c<=0?"":c]}),l&&Object(Je.jsx)(j.Icon,{name:"check",containerStyle:na.checkmark})]}),Object(Je.jsx)(j.Button,{title:"Fight Boss",onPress:function(){return r.current.apply(Vo)},disabled:!f})]}),Object(Je.jsxs)(k.default,{style:[na.row,na.moveRow],children:[Object(Je.jsx)(ut,{children:"Move:"}),Object(Je.jsxs)(k.default,{style:na.row,children:[Object(Je.jsx)(j.Button,{containerStyle:na.exitButtonContainer,title:"Exit",onPress:function(){return r.current.apply(ai)}}),Object(Je.jsx)(j.Button,{title:"Next Floor",onPress:function(){return r.current.apply((function(e){return Yo(e,No(e).getNextFloor())}))},disabled:!d})]})]})]})}),[u,g,c,l,r,Vo,f,ai,d,y,p]);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:na.wholeContainer,children:[Object(Je.jsxs)(k.default,{style:na.container,children:[Object(Je.jsxs)(k.default,{style:[na.topRow],children:[Object(Je.jsx)(j.Icon,{name:"arrow-back",color:"#000",containerStyle:na.arrowBack,onPress:function(){return r.current.apply(ai)},hitSlop:{top:30,left:30,bottom:30,right:30}}),Object(Je.jsxs)(ut,{h2:!0,children:["Exploration - ",a]})]}),Object(Je.jsxs)(k.default,{style:na.restOfScreen,children:[m,Object(Je.jsx)(k.default,{style:na.playerMessageLogContainer,children:Object(Je.jsx)(Ji,{})})]})]}),Object(Je.jsx)(k.default,{style:na.bottomComponentContainer,children:Object(Je.jsx)(Ni,{})})]})}),[r,ai,a,m])}function ta(){return Uo(Object(A.useContext)(ee))==W.None?Object(Je.jsx)($i,{}):Object(Je.jsx)(ea,{})}var na=m.default.create({wholeContainer:{flex:1},container:{flex:1,padding:8},topRow:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginBottom:16,height:40},arrowBack:{marginRight:8},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},checkmark:{marginLeft:8},enemyContainer:{marginBottom:8},playerContainer:{marginTop:8},summonContainer:{marginTop:8},playerMessageLogContainer:{flex:1,padding:8,borderColor:"#444",borderWidth:1,marginTop:8},moveRow:{marginTop:8},exitButtonContainer:{marginRight:8},explorationStatusContainer:{flex:1},restOfScreen:{flex:1,justifyContent:"space-between",marginBottom:48},bottomComponentContainer:{position:"absolute",left:0,bottom:0,width:"100%"},dungeonButton:{marginTop:8}});function ra(e){var t=Object(A.useContext)(ee),n=Object(A.useState)(null),r=l()(n,2),o=r[0],i=r[1],a=Object(A.useState)(null),u=l()(a,2),c=u[0],s=u[1],f=Pt(t),d=Mt(t),h=null!=o?_t(t,f[o]):0;return Object(Je.jsx)(k.default,{style:oa.container,children:Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:oa.topView,children:[Object(Je.jsx)(ut,{h1:!0,children:"Welcome to Magic Research!"}),Object(Je.jsx)(ut,{style:oa.topViewText,children:"In Magic Research, you are the headmaster of a magical institution. What sort of adventures await you?"}),Object(Je.jsx)(ut,{style:oa.topViewText,children:"Before you begin, you will need to choose a primary school of magic and a primary element. While you may cast spells from any schools, it will be easier to learn new spells in your primary school. Your primary element selection may affect availability and effects of various spells, among other things. You will be able to change this (via retirement) later in the game."})]}),Object(Je.jsxs)(j.Card,{containerStyle:{flex:1},children:[Object(Je.jsx)(j.Card.Title,{children:"Schools"}),Object(Je.jsx)(ut,{children:"Please choose a primary school of magic."}),Object(Je.jsx)(k.default,{children:Object(Je.jsx)(j.ButtonGroup,{containerStyle:oa.buttonGroupContainer,textStyle:oa.buttonGroupText,vertical:!0,onPress:i,selectedIndex:o,buttons:f})}),Object(Je.jsx)(k.default,{children:void 0!=o&&Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(ot,{children:{Conjuration:"You have selected **Conjuration**! Conjuration is the school that studies creating permanent or semi-permanent physical objects out of nothing. An example spell is *Create Pebble*. **This school is recommended for beginners.**",Enchantment:"You have selected **Enchantment**! Enchantment is the school that studies temporarily altering the physical properties of existing objects or creatures. An example spell is *Enchant Mana Spouts*.",Illusion:"You have selected **Illusion**! Illusion is the school that studies altering people's perception of reality. It's often one of the best ways to make money. An example spell is *Wind Show*.",Alchemy:"You have selected **Alchemy**! Alchemy is the school that studies transforming objects or materials into powerful potions, with various effects. There are also legends that it might be possible to create gold using alchemy.",Evocation:"You have selected **Evocation**! Evocation is the school that studies damaging combat spells, with the intention to cause harm or destroy. An example spell is *Mana Spike*.",Protection:"You have selected **Protection**! Protection is the school that studies spells that provide shielding from adverse effects, as well as mend them. An example spell is *Heal*.",Breeding:"You have selected **Breeding**! Breeding is the school that studies the ability to raise monsters to do your will, exploring and obtaining materials for you.",Summoning:"You have selected **Summoning**! Summoning is the school that studies invoking monsters out of thin air, to aid you in combat by enduring blows and attacking en enemy. An example spell is *Summon Mouse*.",Divination:"You have selected **Divination**! Divination is the school that studies learning the unknown by using magic, which can make you more effective. An example spell is *Minor Divination*."}[f[o]]}),h>0&&Object(Je.jsxs)(ut,{style:oa.mplText,children:["Your Maximum Primary Level (MPL) for this school is"," ",h,"."]})]})})]}),Object(Je.jsxs)(j.Card,{containerStyle:{flex:1},children:[Object(Je.jsx)(j.Card.Title,{children:"Elements"}),Object(Je.jsx)(ut,{children:"Please choose a primary element."}),Object(Je.jsx)(j.ButtonGroup,{containerStyle:oa.buttonGroupContainer,textStyle:oa.buttonGroupText,vertical:!0,onPress:s,selectedIndex:c,buttons:d}),Object(Je.jsx)(k.default,{children:void 0!=c&&Object(Je.jsx)(ot,{children:{Fire:"You have selected **Fire**! A basic element, it is often quite dangerous but powerful. Fire is key to creating higher temperatures.",Earth:"You have selected **Earth**! A basic element, one that we often deal with. Includes spells related to metals.",Water:"You have selected **Water**! A basic element, represents water in its various forms, including ice and snow.",Air:"You have selected **Air**! A basic element, it's all around us. It can be very useful when we want to move quicker.",Nature:"You have selected **Nature**! An element composed of plant life. Great for poisoning effects and gathering wood.",Lightning:"You have selected **Lightning**! An element that embodies a unique type of energy. Good for fast, high damage.",Darkness:"You have selected **Darkness**! A forbidden element, with extreme strength - and with some link to dead things..."}[d[c]]})})]}),Object(Je.jsx)(j.Button,{containerStyle:oa.startButton,title:"Start the Game!",disabled:void 0==o||void 0==c,onPress:function(){var n=f[o],r=d[c];e.onSelect(),t.apply((function(e){return e=function(e){return Bt.bind(this,e)}(n)(e),(e=function(e){return Et.bind(this,e)}(r)(e)).lastProcessedTime=Date.now(),e}))}})]})})}var oa=m.default.create({container:{flex:1,alignItems:"center",justifyContent:"flex-start",maxWidth:600},topView:{paddingHorizontal:16},topViewText:{marginTop:8},buttonGroupContainer:{marginVertical:16},buttonGroupText:{fontSize:14},startButton:{marginVertical:24},mplText:{marginTop:8}});function ia(e){var t=Object(A.useContext)(ee),n=Object(A.useRef)(t);n.current=t;var r=e.item,o=r.getDefaultParams(),i="Total owned: "+Rn(r,t),a=r.getCraftingMaterials(t);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:aa.craftingDetailsContainer,children:[Object(Je.jsx)(ji,{itemStack:{itemOccurrence:{itemId:r.getId(),params:o},amount:1}}),Object(Je.jsx)(ot,{children:i}),Object(Je.jsxs)(k.default,{style:aa.costContainer,children:[Object(Je.jsx)(ot,{children:"Cost:"}),Object(Je.jsx)(nr,{resources:a.resources,items:a.items})]}),Object(Je.jsx)(k.default,{style:aa.actionRow,children:Object(Je.jsx)(j.Button,{title:"Craft",disabled:!r.canCraft(t),onPress:function(){n.current.apply(r.craft.bind(r))}})})]})}),[r.getId(),JSON.stringify(o),i,JSON.stringify(a.resources),JSON.stringify(a.items),r.canCraft(t),n])}var aa=m.default.create({craftingDetailsContainer:{marginBottom:16},tagRow:{marginVertical:4},actionRow:{flexDirection:"row",flexWrap:"wrap",marginTop:8},actionButtonContainer:{marginRight:8},costContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginTop:4}});function ua(){var e=Object(A.useContext)(ee),t=Object(A.useState)(null),n=l()(t,2),r=n[0],o=n[1],i=Object(A.useState)("All"),a=l()(i,2),u=a[0],c=a[1],s=Le(e),f=Object(A.useRef)(r);f.current=r,me("CraftingComponent",(function(e,t){var n=Le(e),r=Le(t),i=null!=f.current?n[f.current]:void 0,a=null!=f.current?r[f.current]:void 0;void 0!==a&&(null==i?void 0:i.getId())===(null==a?void 0:a.getId())||o(null)}));var h=d.a.useCallback((function(e,t){o(t)}),[o]),g=new Set;s.forEach((function(t){t.getTags(e,t.getDefaultParams()).forEach((function(e){return g.add(e.tag)}))}));var y=Array.from(g),p=Object(A.useMemo)((function(){return Object(Je.jsxs)(dt.Picker,{onValueChange:c,style:sa.picker,selectedValue:u,children:[Object(Je.jsx)(dt.Picker.Item,{label:"All",value:"All"},"All"),y.map((function(e,t){return Object(Je.jsx)(dt.Picker.Item,{label:e,value:e},e)}))]})}),[o,c,u,JSON.stringify(y)]);"All"!==u&&(s=s.filter((function(t){return t.getTags(e,t.getDefaultParams()).find((function(e){return e.tag==u}))})).sort((function(t,n){return Math.max.apply(Math,D()(Object.values(t.getCraftingSchoolLevelRequirements(e)).filter((function(e){return void 0!=e}))))-Math.max.apply(Math,D()(Object.values(n.getCraftingSchoolLevelRequirements(e)).filter((function(e){return void 0!=e}))))})));var m=null!=r?s[r]:void 0,v=s.map((function(e){return{itemId:e.getId(),amount:1}})),b=Object(A.useMemo)((function(){return Object(Je.jsx)(Oi,{items:v,onPressItem:h})}),[JSON.stringify(v),h]),j=Object(A.useMemo)((function(){return Object(Je.jsx)(k.default,{style:sa.detailsContainer,children:m&&Object(Je.jsx)(ia,{item:m})})}),[null==m?void 0:m.getId()]);return Object(Je.jsxs)(k.default,{style:sa.container,children:[Object(Je.jsx)(k.default,{style:sa.tagPickerContainer,children:p}),b,j]})}var ca,sa=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},detailsContainer:{marginTop:16},buttonGroupContainer:{flexDirection:"row",alignItems:"flex-start",height:void 0,flexWrap:"wrap",justifyContent:"flex-start",borderWidth:0},buttonGroupButtonContainer:{flex:1,height:40,borderWidth:1,borderColor:"#eee",margin:4},picker:{flex:1},tagPickerContainer:{width:200,alignSelf:"flex-start",marginBottom:8,backgroundColor:"#eee",borderRadius:10}}),la=n(371),fa=n.n(la);function Aa(e,t){var n=ha(e,t);return!!n&&!(bn(e).length>=jn(e)&&Cn(n,e)<=0)}function da(e,t,n){return!(Cn(n,e)<=0)&&!(Cn(n,e)>1&&ha(e,t)&&!Aa(e,t))}function ha(e,t){var n;return null==(n=e.equipment)?void 0:n[t]}function ga(e,t){if(!Aa(t,e))return t;var n=ha(t,e);return n?((t=wn(n,1,t)).equipment||(t.equipment=X),t.equipment[e]=void 0,t):t}function ya(e){return fa()(ga,this,e)}!function(e){e.Hand="Hand",e.Body="Body",e.Accessory="Accessory"}(ca||(ca={}));var pa=Jn()((function(e,t,n,r,o){if(e){var i=r*o;return{description:"Sell all for "+rn(i)+" Coins",isEnabled:!0,transform:function(e){return e=xn({itemId:t,params:n},1e10,e),Tn(dn.Coins,i)(e)}}}return{description:"Discard all",isEnabled:!0,transform:function(e){return xn({itemId:t,params:n},1e10,e)}}}),{cacheKey:JSON.stringify}),ma=function(){function e(){C()(this,e),He(this)}return O()(e,[{key:"getTags",value:function(e,t){return[]}},{key:"getName",value:function(e){var t=this.getBaseName(e);return null!=(null==e?void 0:e.itemQuality)&&(null==e?void 0:e.itemQuality)>0?t+" +"+rn(null==e?void 0:e.itemQuality):""+t}},{key:"getBaseItemEffects",value:function(){return{}}},{key:"getItemEffects",value:function(e,t){var n=this.getBaseItemEffects(),r={};for(var o in n){var i,a=n[o];r[o]=V([this.getId()].concat(D()(this.getTags(e,t).map((function(e){return e.tag}))),D()(null!=(i=a.tags)?i:[]),[Y.ItemEffect]),e,a.value,{item:this,params:t})}return r}},{key:"getPrimaryAction",value:function(e,t){}},{key:"getSaleAction",value:function(e,t){return pa(pr(e,"selling_unlocked"),this.getId(),t,this.getSalePrice(e,t),Cn({itemId:this.getId(),params:t},e))}},{key:"getQuickbarAction",value:function(e,t){var n=this;if(this.getPrimaryAction(e,t))return{description:"Add to Quickbar",isEnabled:!er(e,{type:"item",occurrence:{itemId:this.getId(),params:t}})&&!$n(e),transform:function(e){return function(e,t){return qn(e,{type:"item",occurrence:t})}(e,{itemId:n.getId(),params:t})}}}},{key:"isCraftable",value:function(e){var t=this.getCraftingSchoolLevelRequirements(e);return 0!=Object.keys(t).length&&Vt(e,t)}},{key:"canCraft",value:function(e){if(!this.isCraftable(e))return!1;var t=this.getCraftingMaterials(e);for(var n in t.resources){var r,o=(null==(r=t.resources)?void 0:r[n])||0;if(Pn(e,n)<o)return!1}for(var i in t.items){var a=t.items[i];if(Rn(We(i),e)<a)return!1}return!(bn(e).length>=jn(e))}},{key:"getCraftingSchoolLevelRequirements",value:function(e){return{}}},{key:"getCraftingMaterials",value:function(e){return{resources:{},items:{}}}},{key:"generateCraftedParams",value:function(e){var t=V([this.getId(),Y.ItemQuality].concat(D()(this.getTags(e,{}).map((function(e){return e.tag}))),D()(Object.keys(this.getCraftingSchoolLevelRequirements(e)))),e,0,{item:this});return 0==t?{}:{itemQuality:t}}},{key:"getDefaultParams",value:function(){return{}}},{key:"craft",value:function(e){if(!this.canCraft(e))return e;var t=this.getCraftingMaterials(e),n=this.generateCraftedParams(e),r=this.getCraftingSchoolLevelRequirements(e);for(var o in t.resources){var i,a=(null==(i=t.resources)?void 0:i[o])||0;e=Tn(o,-a)(e)}for(var u in t.items){var c=t.items[u];e=On(We(u),c,e)}return e=wn({itemId:this.getId(),params:n},1,e),Object.keys(r).forEach((function(t){e=Rt(t,3*(r[t]||0)+5)(e)})),e}}]),e}();function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ka=Jn()((function(e,t,n,r){return{description:"Equip",isEnabled:e,transform:function(e){return e=function(e,t,n){return da(e,t,n)?(e=xn(n,1,e),(e=ya(t)(e)).equipment||(e.equipment=X),e.equipment[t]=n,e):e}(e,t,{itemId:n,params:r})}}}),{cacheKey:JSON.stringify}),ja=function(e){gn()(n,e);var t=ba(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getTags",value:function(e,t){return[{tag:"Equipment"},{tag:this.getSlot()}]}},{key:"getPrimaryAction",value:function(e,t){return ka(da(e,this.getSlot(),{itemId:this.getId(),params:t}),this.getSlot(),this.getId(),t)}},{key:"generateCraftedParams",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({randomId:Math.random()},this.generateEquipmentCraftedParams())}},{key:"generateEquipmentCraftedParams",value:function(){return{}}},{key:"getAttackBonus",value:function(e,t){return 0}},{key:"getDefenseBonus",value:function(e,t){return 0}},{key:"getMaxHPBonus",value:function(e,t){return 0}},{key:"getHPRegenBonus",value:function(e,t){return 0}},{key:"getManaRegenBonus",value:function(e,t){return 0}},{key:"getMaxManaBonus",value:function(e,t){return 0}},{key:"getAttackDelayBonusPct",value:function(e,t){return 0}},{key:"getPlayerAccuracyBonusPct",value:function(e,t){return 0}},{key:"getPlayerDodgeBonusPct",value:function(e,t){return 0}},{key:"getPlayerCritChanceBonusPct",value:function(e,t){return 0}},{key:"getEffect",value:function(e,t){return this.getEffectBase(e,t)}},{key:"getEffectExtra",value:function(e,t){}},{key:"getEffectBase",value:function(e,t){var n={attack:this.getAttackBonus(e,t),defense:this.getDefenseBonus(e,t),maxHP:this.getMaxHPBonus(e,t),hpRegen:this.getHPRegenBonus(e,t),manaRegen:this.getManaRegenBonus(e,t),maxMana:this.getMaxManaBonus(e,t),attackDelay:this.getAttackDelayBonusPct(e,t),accuracy:this.getPlayerAccuracyBonusPct(e,t),dodge:this.getPlayerDodgeBonusPct(e,t),critChance:this.getPlayerCritChanceBonusPct(e,t)},r=Object.keys(n).map((function(e){var t=null==n?void 0:n[e];if(0==t)return null;var r="+";switch(t<0&&(r="-",t=Math.abs(t)),e){case"attack":case"defense":case"hpRegen":return r+rn(t,{showDecimals:!0})+":"+e+":";case"manaRegen":return r+rn(t)+":mana:/sec";case"maxHP":return r+rn(t)+" Max:hp:";case"maxMana":return r+rn(t)+" Max:mana:";case"attackDelay":case"accuracy":case"dodge":case"critChance":return r+rn(t)+"%:"+e+":"}})),o=this.getEffectExtra(e,t);return r.push(o),r.filter((function(e){return null!=e})).join(", ")}}]),n}(ma),wa=function(e,t){[ha(e,ca.Hand),ha(e,ca.Body),ha(e,ca.Accessory)].forEach((function(e){null!=e&&t(e)}))},xa=function(e){return function(t){var n=0;return wa(t,(function(r){var o=We(r.itemId),i=e(t,o,r.params);0!=i&&(n+=i)})),n}},Ca=function(e){return function(t){var n=1;return wa(t,(function(r){var o=We(r.itemId),i=e(t,o,r.params);0!=i&&(n*=(100+i)/100)})),n}};function Ra(e){var t=Object(A.useContext)(ee),n=e.slot,r=ha(t,n),o=function(e,t){return{description:"Unequip",isEnabled:Aa(e,t),transform:ya(t)}}(t,n),i=Object(A.useRef)(t);i.current=t;var a=r&&We(r.itemId);if(a&&!(a instanceof ja))throw new Error("Only equippable items should be equipped");return Object(A.useMemo)((function(){return r?Object(Je.jsxs)(k.default,{style:Ea.equipmentRow,children:[Object(Je.jsxs)(k.default,{style:Ea.row,children:[Object(Je.jsx)(bi,{icon:a.getId(),onPress:e.onPressEquippedItem&&function(){return e.onPressEquippedItem&&e.onPressEquippedItem(n)}}),Object(Je.jsxs)(ut,{style:Ea.labelStyle,h4:!0,children:[n,": ",a.getName(r.params)]})]}),Object(Je.jsx)(j.Button,{title:o.description,disabled:!o.isEnabled,onPress:function(){return o.transform&&t.apply(o.transform)}})]},n):Object(Je.jsxs)(k.default,{style:Ea.equipmentRow,children:[Object(Je.jsxs)(k.default,{style:Ea.row,children:[Object(Je.jsx)(bi,{}),Object(Je.jsxs)(ut,{style:Ea.labelStyle,h4:!0,children:[n,": Empty"]})]}),Object(Je.jsx)(j.Button,{title:o.description,disabled:!o.isEnabled,onPress:function(){return o.transform&&i.current.apply(o.transform)}})]},n)}),[JSON.stringify(r),n,o.description,o.isEnabled,o.transform,i,null==a?void 0:a.getName((null==r?void 0:r.params)||{}),e.onPressEquippedItem])}function Oa(e){var t=Object.keys(ca).map((function(t){return Object(Je.jsx)(Ra,{slot:t,onPressEquippedItem:e.onPressEquippedItem},t)}));return Object(Je.jsx)(k.default,{children:t})}H("EquippableItem",(function(e,t){return wa(e,(function(n){var r=We(n.itemId).getManaRegenBonus(e,n.params);0!=r&&(e=Tn(dn.Mana,r*t)(e))})),e})),_([[ko.Player,jo.Attack]],"EquippableItemAttack",r.Addition,xa((function(e,t,n){return t.getAttackBonus(e,n)}))),_([[ko.Player,jo.Defense]],"EquippableItemDefense",r.Addition,xa((function(e,t,n){return t.getDefenseBonus(e,n)}))),_([[ko.Player,jo.MaxHP]],"EquippableItemMaxHP",r.Addition,xa((function(e,t,n){return t.getMaxHPBonus(e,n)}))),_([[ko.Player,jo.HPRegen]],"EquippableItemHPRegen",r.Addition,xa((function(e,t,n){return t.getHPRegenBonus(e,n)}))),_([[ko.Player,jo.AttackDelay]],"EquippableItemAttackDelay",r.Multiplier,Ca((function(e,t,n){return t.getAttackDelayBonusPct(e,n)}))),_([[ko.Player,jo.Accuracy]],"EquippableItemAccuracy",r.Multiplier,Ca((function(e,t,n){return t.getPlayerAccuracyBonusPct(e,n)}))),_([[ko.Player,jo.Dodge]],"EquippableItemDodge",r.Addition,xa((function(e,t,n){return t.getPlayerDodgeBonusPct(e,n)/100}))),_([[ko.Player,jo.CritChance]],"EquippableItemCritChance",r.Addition,xa((function(e,t,n){return t.getPlayerCritChanceBonusPct(e,n)/100}))),_([[dn.Mana,Y.Cap]],"EquippableItemManaCap",r.Addition,(function(e){var t=0;return wa(e,(function(n){var r=We(n.itemId).getMaxManaBonus(e,n.params);0!=r&&(t+=r)})),t})),me("equippableItem_cap_listener",(function(e,t){var n=!1;if([ca.Hand,ca.Body,ca.Accessory].forEach((function(r){var o=ha(e,r),i=ha(t,r);(null==o?void 0:o.itemId)!=(null==i?void 0:i.itemId)&&(n=!0)})),n)return function(e){return Dn(e)}}));var Ea=m.default.create({equipmentRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},row:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},labelStyle:{marginLeft:8}});function Ba(){var e=Object(A.useState)(!1),t=l()(e,2),n=t[0],r=t[1];return n?Object(Je.jsxs)(k.default,{style:Ma.container,children:[Object(Je.jsxs)(k.default,{style:[Ma.topRow,Ma.row],children:[Object(Je.jsx)(j.Icon,{name:"arrow-back",color:"#000",containerStyle:Ma.arrowBack,onPress:function(){return r(!1)},hitSlop:{top:30,left:30,bottom:30,right:30}}),Object(Je.jsx)(ut,{h2:!0,children:"Crafting"})]}),Object(Je.jsx)(ua,{})]}):Object(Je.jsxs)(k.default,{style:Ma.container,children:[Object(Je.jsxs)(k.default,{style:Ma.topRow,children:[Object(Je.jsx)(ut,{h2:!0,children:"Inventory"}),Object(Je.jsx)(j.Button,{title:"Craft Items",onPress:function(){return r(!0)}})]}),Object(Je.jsx)(k.default,{style:Ma.equippedItemsContainer,children:Object(Je.jsx)(Oa,{})}),Object(Je.jsx)(Bi,{})]})}var Ma=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},topRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16,height:48},arrowBack:{marginRight:8},equippedItemsContainer:{marginBottom:16},row:{justifyContent:"flex-start"}}),Sa=["apply"];function Da(e){var t=Object(A.useContext)(ee),n=Object(A.useRef)(t);n.current=t;var r=Object(A.useState)(t.lastProcessedTime),o=l()(r,2),i=o[0],u=o[1],c=Object(A.useCallback)(a()((function*(){var t=Date.now(),r=(t-i)/1e3+n.current.skipAheadTime;if(r>60){var o=Math.floor(Math.min(172800,r)),a=n.current,c=(a.apply,Ne()(a,Sa));yield function(e,t,n,r){return L.apply(this,arguments)}(c,o,t,e.setPlayerState)}else n.current.apply((function(e){var n;return(e=(n=r,function(e){var t=V([Y.GameSpeed],e,1),r=n*t;return Object.values(G).forEach((function(t){e=t(e,r)})),e})(e)).lastProcessedTime=t,e}));n.current.skipAheadTime>0&&n.current.apply((function(e){return e.skipAheadTime=0,e})),u(t)})),[i]),s=Object(A.useCallback)(a()((function*(){n.current.apply(Xr)})),[]);return Object(A.useEffect)((function(){var e,r,o=V([Y.GameSpeed],n.current,1),i=setTimeout((function(){c()}),1e3/o/(null!=(e=null==(r=t.global)?void 0:r.targetFps)?e:20));return function(){return clearTimeout(i)}}),[c]),Object(A.useEffect)((function(){var e=setInterval((function(){s()}),1e4);return function(){return clearTimeout(e)}}),[s]),null}function Pa(){var e=Object(A.useContext)(ee),t=Pn(e,dn.Mana),n=Sn(e,dn.Mana),r=t/n,o=Object(A.useRef)(new Ao.default.Value(r)).current;return Object(A.useEffect)((function(){Ao.default.timing(o,{toValue:Math.max(r,1e-5),duration:100,useNativeDriver:!0}).start()}),[r]),Object(Je.jsxs)(k.default,{style:Ia.container,children:[Object(Je.jsx)(Ao.default.View,{style:[Ia.filled,{transform:[{scaleX:o}]}]}),Object(Je.jsxs)(k.default,{style:Ia.row,children:[Object(Je.jsx)(qe,{icon:"mana"}),Object(Je.jsxs)(ut,{style:Ia.textOverlay,children:[rn(t),"/",rn(n)]})]})]})}var Ia=m.default.create({container:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"100%",backgroundColor:"#014",height:32},filled:{backgroundColor:"#04c",position:"absolute",left:"-100%",top:0,height:"100%",width:"200%"},textOverlay:{color:"#fff",fontWeight:"bold"},row:{flexDirection:"row",alignItems:"center"}});var Ta=d.a.memo((function(e){return Object(Je.jsxs)(k.default,{style:Ya.inlineRow,children:[Object(Je.jsxs)(k.default,{style:Ya.inlineRow,children:[Object(Je.jsx)(qe,{icon:e.icon,style:Ya.icon,small:!0}),!e.hideText&&Object(Je.jsxs)(ut,{children:[e.stat,": "]})]}),Object(Je.jsx)(ut,{children:e.value})]})}));function _a(e){var t=Object(A.useContext)(ee),n=Wo(t),r=Ro(t);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:Ya.container,children:[Object(Je.jsx)(Ta,{stat:"HP",icon:"hp",hideText:e.hideText,value:rn(n)+"/"+rn(r)}),Object(Je.jsx)(Ta,{stat:"Attack",icon:"attack",hideText:e.hideText,value:rn(Oo(t))}),Object(Je.jsx)(Ta,{stat:"Attack Delay",icon:"attackDelay",hideText:e.hideText,value:rn(Eo(t),{showDecimals:!0})+" sec"}),Object(Je.jsx)(Ta,{stat:"Defense",icon:"defense",hideText:e.hideText,value:rn(Bo(t))}),Object(Je.jsx)(Ta,{stat:"HP Regen",icon:"hpRegen",hideText:e.hideText,value:rn(Mo(t),{showDecimals:!0})+"/sec"})]})}),[!1!==e.isVisible&&t,e.hideText])}var Ya=m.default.create({container:{justifyContent:"center",alignItems:"stretch"},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2}});var Qa=d.a.memo((function(e){return Object(Je.jsxs)(k.default,{style:Fa.row,children:[Object(Je.jsxs)(ut,{style:e.isPrimary&&Fa.primaryText,children:[e.name,": Lv",e.level]}),Object(Je.jsxs)(ut,{style:e.isPrimary&&Fa.primaryText,children:["Exp ",e.currentExp,"/",e.toNextLevel]})]})}));function Va(e){var t=Object(A.useContext)(ee),n=Pt(t),r=Object(A.useMemo)((function(){return n.map((function(e){var n=xt(t,e),r=mt(t,e),o=jt(t,n+1,e);return Object(Je.jsx)(Qa,{name:e,level:n,isPrimary:t.primarySchool==e,currentExp:rn(r),toNextLevel:rn(o)},e)}))}),[!1!==e.isVisible&&JSON.stringify(t.schoolExperience),t.primarySchool]);return Object(Je.jsx)(k.default,{style:Fa.container,children:r})}var Fa=m.default.create({container:{justifyContent:"center",alignItems:"stretch"},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},primaryText:{fontWeight:"bold"}});var Na=d.a.memo((function(e){var t=Bn(e.resource);return Object(Je.jsxs)(k.default,{style:Ga.row,children:[Object(Je.jsxs)(k.default,{style:Ga.inlineRow,children:[Object(Je.jsx)(qe,{icon:t.icon,style:Ga.icon,small:!0}),Object(Je.jsxs)(ut,{children:[e.resource,": "]})]}),Object(Je.jsxs)(ut,{children:[rn(e.current,{showDecimals:!0}),"/",rn(e.cap)]})]})}));function Ua(e){var t=Object(A.useContext)(ee),n=Object.keys(t.resources),r=Object(A.useMemo)((function(){return n.map((function(e){var n=t.resources[e];return Object(Je.jsx)(Na,{resource:e,current:n.current,cap:n.cap},e)}))}),[!1!==e.isVisible&&t]);return Object(Je.jsx)(k.default,{style:Ga.container,children:r})}var Ga=m.default.create({container:{justifyContent:"center",alignItems:"stretch"},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2}}),Ha=["title","onPress","topDivider"];function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ja=function(e){var t=e.title,n=e.onPress,r=e.topDivider,o=Ne()(e,Ha);return Object(Je.jsxs)(k.default,{children:[r&&Object(Je.jsx)(j.Divider,{}),Object(Je.jsxs)(j.ListItem,La(La({containerStyle:Xa.navigationRowTitle,onPress:n,Component:g.default.select({android:ro.default,default:v.default})},o),{},{children:[Object(Je.jsx)(j.ListItem.Content,{children:Object(Je.jsx)(j.ListItem.Title,{children:t})}),Object(Je.jsx)(j.ListItem.Chevron,{})]})),Object(Je.jsx)(j.Divider,{})]})};function Za(e){var t=Object(A.useContext)(ee),n=Object(A.useRef)(t),r=pr(t,"research_unlocked"),o=pr(t,"autocast_unlocked"),i=pr(t,"inventory_unlocked"),a=pr(t,"exploration_unlocked"),u=Ot(t)>=1e4,c=pr(t,"upgrades_unlocked"),s=pr(t,"creatures_unlocked"),l=Rr(t,"strengthening_unlocked")&&a,f=Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:Xa.navigationBlock,children:[Object(Je.jsx)(Ja,{title:"Campus",topDivider:!0,onPress:function(){return e.onNavigationPress("Campus")}}),r&&Object(Je.jsx)(Ja,{title:"Research",onPress:function(){return e.onNavigationPress("Research")}}),o&&Object(Je.jsx)(Ja,{title:"Apprentices",onPress:function(){return e.onNavigationPress("Apprentices")}}),i&&Object(Je.jsx)(Ja,{title:"Inventory",onPress:function(){return e.onNavigationPress("Inventory")}}),a&&Object(Je.jsx)(Ja,{title:"Exploration",onPress:function(){return e.onNavigationPress("Exploration")}}),c&&Object(Je.jsx)(Ja,{title:"Upgrades",onPress:function(){return e.onNavigationPress("Upgrades")}}),s&&Object(Je.jsx)(Ja,{title:"Creatures",onPress:function(){return e.onNavigationPress("Creatures")}}),l&&Object(Je.jsx)(Ja,{title:"Strengthening",onPress:function(){return e.onNavigationPress("Strengthening")}}),u&&Object(Je.jsx)(Ja,{title:"Retirement",onPress:function(){return e.onNavigationPress("Retirement")}}),Object(Je.jsx)(Ja,{title:"Stats",onPress:function(){return e.onNavigationPress("Stats")}}),Object(Je.jsx)(Ja,{title:"Options",onPress:function(){return e.onNavigationPress("Options")}}),Object(Je.jsx)(Ja,{title:"About",onPress:function(){return e.onNavigationPress("About")}}),Object(Je.jsx)(Ja,{title:"Debug",onPress:function(){return e.onNavigationPress("Debug")}})]})}),[r,o,i,a,c,s,u,e.onNavigationPress]),d=Wr(t).length>0,h=pr(t,"time_piece_speedup_enabled"),g=Pn(t,dn.TimePieces)>0;return Object(A.useMemo)((function(){return Object(Je.jsxs)(p.default,{style:Xa.scrollContainer,contentContainerStyle:Xa.scrollContentContainer,children:[Object(Je.jsx)(k.default,{style:Xa.titleContainer,children:Object(Je.jsx)(ut,{h1:!0,children:"Magic Research"})}),f,g&&Object(Je.jsxs)(Je.Fragment,{children:[!h&&Object(Je.jsx)(j.Button,{title:"Speed up time (10 Time Pieces / sec)",onPress:function(){return n.current.apply(vr("time_piece_speedup_enabled"))},titleStyle:Xa.timePieceButtonTitle,containerStyle:[Xa.timePieceButtonContainer]}),h&&Object(Je.jsx)(j.Button,{title:"Return time to normal",onPress:function(){return n.current.apply(kr("time_piece_speedup_enabled"))},titleStyle:Xa.timePieceButtonTitle,containerStyle:[Xa.timePieceButtonContainer]})]}),Object(Je.jsx)(on,{title:"Resources",children:Object(Je.jsx)(Ua,{isVisible:e.visible})}),Object(Je.jsx)(on,{title:"Schools",children:Object(Je.jsx)(Va,{isVisible:e.visible})}),a&&Object(Je.jsx)(on,{title:"Combat",children:Object(Je.jsx)(_a,{isVisible:e.visible})}),d&&Object(Je.jsx)(on,{title:"Buffs",children:Object(Je.jsx)(_i,{isVisible:e.visible})})]})}),[f,a,d,g,h,e.visible])}function za(e){var t=Object(A.useRef)(new Ao.default.Value(e.visible?0:-300)).current,n=Object(A.useRef)(new Ao.default.Value(e.visible?.5:0)).current;return Object(A.useEffect)((function(){e.visible?(Ao.default.timing(t,{toValue:0,duration:150,useNativeDriver:!0}).start(),Ao.default.timing(n,{toValue:.5,duration:150,useNativeDriver:!0}).start()):(Ao.default.timing(t,{toValue:-300,duration:150,useNativeDriver:!0}).start(),Ao.default.timing(n,{toValue:0,duration:150,useNativeDriver:!0}).start())}),[e.visible]),Object(A.useMemo)((function(){return Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsx)(ho.default,{onPress:e.onBackgroundPress,children:Object(Je.jsx)(Ao.default.View,{style:[Xa.backdrop,{opacity:n}],pointerEvents:e.visible?"auto":"none"})}),Object(Je.jsx)(Ao.default.View,{style:[Xa.container,{transform:[{translateX:t}]}],children:Object(Je.jsx)(Za,La({},e))})]})}),[t,n,e.onBackgroundPress,e.visible])}var Xa=m.default.create({backdrop:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#000"},container:{justifyContent:"flex-start",alignItems:"stretch",position:"absolute",height:"100%",width:300,left:0,top:0,backgroundColor:"#fff"},scrollContainer:{padding:8},scrollContentContainer:{paddingBottom:16},titleContainer:{marginBottom:8},navigationBlock:{marginTop:16},navigationRowTitle:{paddingVertical:8},timePieceButtonContainer:{marginTop:16},timePieceButtonTitle:{fontSize:12}}),qa=n(373);function Ka(){var e=Object(A.useContext)(ee),t=Object(A.useRef)(e);t.current=e;var n=Object(A.useState)(""),r=l()(n,2),o=r[0],i=r[1],u=Object(A.useCallback)(a()((function*(){var e=yield function(e){return Te.apply(this,arguments)}(t.current);yield qa.setStringAsync(e)})),[]),c=Object(A.useCallback)(a()((function*(){var e=yield function(e){return Ie.apply(this,arguments)}(o);null!=e&&(t.current.overwrite((function(t){return e})),yield Se(e))})),[o]),s=Object(A.useCallback)((function(e){t.current.apply((function(t){return t.global.targetFps=e,t}))}),[]);return Object(Je.jsxs)(k.default,{style:$a.container,children:[Object(Je.jsxs)(on,{title:"Performance",children:[Object(Je.jsx)(j.Text,{children:"You may set your target FPS here. Higher FPS will make the game smoother and the simulation more accurate but it could affect battery power and CPU usage."}),Object(Je.jsxs)(k.default,{style:$a.targetFpsContainer,children:[Object(Je.jsx)(j.Text,{children:"Target FPS:"}),Object(Je.jsxs)(dt.Picker,{onValueChange:s,selectedValue:e.global.targetFps,style:$a.targetFpsPicker,children:[Object(Je.jsx)(dt.Picker.Item,{label:"10",value:"10"},"10"),Object(Je.jsx)(dt.Picker.Item,{label:"12",value:"12"},"12"),Object(Je.jsx)(dt.Picker.Item,{label:"15",value:"15"},"15"),Object(Je.jsx)(dt.Picker.Item,{label:"20",value:"20"},"20"),Object(Je.jsx)(dt.Picker.Item,{label:"24",value:"24"},"24"),Object(Je.jsx)(dt.Picker.Item,{label:"30",value:"30"},"30"),Object(Je.jsx)(dt.Picker.Item,{label:"40",value:"40"},"40"),Object(Je.jsx)(dt.Picker.Item,{label:"50",value:"50"},"50"),Object(Je.jsx)(dt.Picker.Item,{label:"60",value:"60"},"60")]})]})]}),Object(Je.jsx)(on,{title:"Save File",children:Object(Je.jsx)(j.Button,{onPress:u,title:"Copy savefile to clipboard"})}),Object(Je.jsxs)(on,{title:"Load File",children:[Object(Je.jsx)(j.Text,{children:"You may import save data by pasting it here."}),Object(Je.jsx)(j.Text,{style:{fontWeight:"bold",color:"red"},children:"WARNING: This will erase your current save! Make sure you have backed up your data!"}),Object(Je.jsx)(j.Input,{multiline:!0,onChangeText:i,value:o}),Object(Je.jsx)(j.Button,{onPress:c,title:"Import savefile"})]})]})}var $a=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},targetFpsContainer:{flexDirection:"row",alignItems:"center"},targetFpsPicker:{width:100,marginLeft:16},sliderContainer:{width:200,marginLeft:16},sliderTextContainer:{width:120}});function eu(e,t){var n=e.research.researcherAllocation;for(var r in n.schools){var o,i=(null==(o=n.schools)?void 0:o[r])||0;if(i>0)e=Rt(r,i*V([r,Y.Research],e,1)*t)(e)}return e}function tu(e){return V([Y.Research],e,1)}function nu(e){var t=e.research.researcherAllocation,n=0;for(var r in t.schools)n+=t.schools[r]||0;return e.research.totalResearchers-n}function ru(e,t,n){var r,o=(null==(r=n.research.researcherAllocation.schools)?void 0:r[e])||0,i=t>0?Math.min(nu(n),t):Math.max(-o,t);return n.research.researcherAllocation.schools[e]=o+i,n}function ou(e,t){return ru.bind(this,e,t)}function iu(e,t){return t.research.totalResearchers=Math.max(0,t.research.totalResearchers+e),t}function au(e){return iu.bind(this,e)}function uu(e){return V([Y.Researcher,Y.Cap],e,1)}function cu(){var e=Object(A.useContext)(ee),t=Object(A.useRef)(e);return t.current=e,Object(A.useMemo)((function(){Mt(e);var n=Pt(e),r=nu(e),o=r>0;return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Schools"}),n.map((function(n){var r,i=(null==(r=e.research.researcherAllocation.schools)?void 0:r[n])||0;return Object(Je.jsxs)(k.default,{style:[su.row,su.singleSchoolElementContainer],children:[Object(Je.jsxs)(ut,{children:[n,e.primarySchool==n?" (Primary)":"",":"]}),Object(Je.jsxs)(k.default,{style:su.row,children:[Object(Je.jsx)(ut,{children:i}),Object(Je.jsx)(k.default,{style:su.plusMinusAllocatorContainer,children:Object(Je.jsx)(un,{disableMinus:0===i,disablePlus:!o,onPressMinus:function(){return t.current.apply(ou(n,-1))},onPressPlus:function(){return t.current.apply(ou(n,1))}})})]})]},n)}))]}),Object(Je.jsxs)(k.default,{style:[su.row,su.totalResearchersContainer],children:[Object(Je.jsx)(ut,{children:"Researchers available: "}),Object(Je.jsxs)(ut,{children:[rn(r),"/",rn(e.research.totalResearchers)]})]}),Object(Je.jsxs)(k.default,{style:[su.row,su.researcherCapacityContainer],children:[Object(Je.jsx)(ut,{children:"Researcher capacity: "}),Object(Je.jsxs)(ut,{children:[rn(e.research.totalResearchers),"/",rn(uu(e))]})]}),Object(Je.jsxs)(k.default,{style:[su.row,su.researcherCapacityContainer],children:[Object(Je.jsx)(ut,{children:"Exp per researcher: "}),Object(Je.jsxs)(ut,{children:[rn(tu(e),{showDecimals:!0})," ","/ sec"]})]}),Object(Je.jsx)(k.default,{children:Object(Je.jsx)(Ar,{area:"Research"})})]})}),[JSON.stringify(e.research),tu(e)])}var su=m.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},plusMinusAllocatorContainer:{marginLeft:16},totalResearchersContainer:{marginTop:16,paddingHorizontal:16},researcherCapacityContainer:{marginTop:4,paddingHorizontal:16},singleSchoolElementContainer:{marginVertical:4}});function lu(){var e=Object(A.useContext)(ee),t=pt(ye(e)),n=Yt(t),r=Qt(t),o=Yt(e),i=Qt(e),a=100*(n-o)/o,u=100*(r-i)/i,c='You have built up enough knowledge that you feel it might be enough. You consider retirement.\n\nIf you retire, **you will reset the game.** Everything will revert back to its initial state, except:\n* Any unlocked schools or elements will stay unlocked;\n* Any bonuses you obtained from "(Storyline)" events will remain;\n* You will gain a boost to research, building production and loot based on the maximum level you have ever attained on your primary school (MPL), as well as on the sum of the MPLs you have attained on each school you have unlocked.\n\nWhen you retire, you will be able to choose a new primary school and element.\n\n**If you retire now, your research multiplier will become '+rn(n,{showDecimals:!0})+"x (+"+rn(a,{showDecimals:!0})+"%) and your production and loot multiplier will become "+rn(r,{showDecimals:!0})+"x (+"+rn(u,{showDecimals:!0})+"%).**\n\n*Do you want to retire?*",s=Object(A.useState)(!1),f=l()(s,2),d=f[0],h=f[1];return Object(Je.jsxs)(k.default,{style:fu.container,children:[Object(Je.jsx)(ut,{h1:!0,children:"Retirement"}),Object(Je.jsx)(k.default,{style:fu.explanation,children:Object(Je.jsx)(ot,{children:c})}),Object(Je.jsxs)(k.default,{style:fu.buttonContainer,children:[!d&&Object(Je.jsx)(j.Button,{title:"Retire",onPress:function(){return h(!0)}}),d&&Object(Je.jsx)(j.Button,{title:"Are you sure? Press again to confirm",onPress:function(){return e.apply(pt)}})]})]})}var fu=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},explanation:{marginTop:16},buttonContainer:{marginTop:16}});function Au(e){return Object(Je.jsx)(p.default,{contentContainerStyle:hu.magicContainer,children:Object(Je.jsx)(Pi,{isVisible:e.visible})})}function du(e){var t=Object(A.useRef)(new Ao.default.Value(e.visible?0:300)).current,n=Object(A.useRef)(new Ao.default.Value(e.visible?.5:0)).current;return Object(A.useEffect)((function(){e.visible?(Ao.default.timing(t,{toValue:0,duration:150,useNativeDriver:!0}).start(),Ao.default.timing(n,{toValue:.5,duration:150,useNativeDriver:!0}).start()):(Ao.default.timing(t,{toValue:300,duration:150,useNativeDriver:!0}).start(),Ao.default.timing(n,{toValue:0,duration:150,useNativeDriver:!0}).start())}),[e.visible]),Object(A.useMemo)((function(){return Object(Je.jsxs)(Je.Fragment,{children:[Object(Je.jsx)(ho.default,{onPress:e.onBackgroundPress,children:Object(Je.jsx)(Ao.default.View,{style:[hu.backdrop,{opacity:n}],pointerEvents:e.visible?"auto":"none"})}),Object(Je.jsx)(Ao.default.View,{style:[hu.container,{transform:[{translateX:t}]}],children:Object(Je.jsx)(Au,{visible:e.visible})})]})}),[n,t,e.visible,e.onBackgroundPress])}var hu=m.default.create({backdrop:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#000"},backdropTouchable:{position:"absolute",height:"100%",width:"100%"},container:{justifyContent:"flex-start",alignItems:"stretch",position:"absolute",height:"100%",width:300,right:0,top:0,backgroundColor:"#fff"},magicContainer:{padding:8}}),gu=function(){function e(t,n,r){C()(this,e),this.id=t,this.message=n,this.onTriggerTransform=r,ue(this)}return O()(e,[{key:"onTrigger",value:function(){return this.onTriggerTransform}},{key:"getId",value:function(){return this.id}},{key:"getMainEventMessage",value:function(){return this.message}}]),e}();function yu(e,t,n){return new gu(e,t,n)}function pu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vu={description:"Close"};function bu(e,t){return t?(Object.keys(t).map((function(e){return["{"+e+"}",isNaN(t[e])||""===t[e]?t[e]:rn(t[e])]})).forEach((function(t){e=e.replace(t[0],t[1])})),e):e}var ku,ju=function(){function e(t,n,r,o){var i;C()(this,e),this.id=t,this.title=n,this.description=r,this.options=o,oe[(i=this).getId()]=i}return O()(e,[{key:"getId",value:function(){return this.id}},{key:"getTitle",value:function(e){return bu(this.title,e)}},{key:"getDescription",value:function(e,t){return bu(this.description(e),t)}},{key:"getAllowedOptions",value:function(e,t){return this.options.filter((function(n){return null==n.isVisible||n.isVisible(e,t)})).map((function(n){return mu(mu({},n.option),{},{description:bu(n.option.description,t),isEnabled:null==n.isEnabled||n.isEnabled(e,t)})}))}},{key:"isTerminal",value:function(){return this.options.every((function(e){return!e.option.nextMessage&&!e.option.transform}))}}]),e}(),wu=function(){function e(t,n){C()(this,e),this.id=t,this.title=n,this.description=function(){return""},this.options=[]}return O()(e,[{key:"setDescription",value:function(e){return this.description=e,this}},{key:"setSimpleDescription",value:function(e){return this.setDescription((function(t){return e})),this}},{key:"addOption",value:function(e,t,n,r,o){return this.options.push({option:{description:e,transform:n,nextMessage:t},isVisible:r,isEnabled:o}),this}},{key:"build",value:function(){return new ju(this.id,this.title,this.description,this.options.length>0?this.options:[{option:vu}])}}]),e}(),xu=function(){function e(t){C()(this,e),this.eventBuilder=t,this.description=function(){return""},this.options=[],this.id=this.eventBuilder.newMessageId()}return O()(e,[{key:"setDescription",value:function(e){return this.description=e,this}},{key:"setSimpleDescription",value:function(e){return this.setDescription((function(t){return e})),this}},{key:"addOption",value:function(t){var n,r,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return i instanceof e&&(a=i,i={}),this.options.push({description:t,nextMessage:a,transform:null==(n=i)?void 0:n.transform,isVisible:null==(r=i)?void 0:r.isVisible,isEnabled:null==(o=i)?void 0:o.isEnabled}),this}},{key:"build",value:function(){return this.eventBuilder.build()}}]),e}(),Cu=function(){function e(t,n){C()(this,e),this.id=t,this.title=n,this.messages={},this.lastMessageId=0}return O()(e,[{key:"createMessage",value:function(){var e=new xu(this);return this.messages[e.id]=e,e}},{key:"newMessageId",value:function(){return this.id+(this.lastMessageId++).toString()}},{key:"setOnTrigger",value:function(e){return this.onTrigger=e,this}},{key:"build",value:function(){var e=this.buildRecursive(this.messages[this.id+"0"]);return yu(this.id,e,this.onTrigger)}},{key:"buildRecursive",value:function(e){var t=this,n=e.options.map((function(e){var n=null==e?void 0:e.nextMessage,r=void 0;return null!=n&&(r=t.buildRecursive(n)),{option:{description:e.description,transform:e.transform,nextMessage:r},isVisible:e.isVisible,isEnabled:e.isEnabled}}));return new ju(e.id,this.title,e.description,n.length>0?n:[{option:vu}])}}]),e}();function Ru(e,t){return new Cu(e,t)}function Ou(e,t){return new wu(e,t)}function Eu(e){return"*"+e.getSpellName()+"* ("+function(e){var t=[],n=e.getSchoolLevelRequirements();for(var r in n)t.push(r+" Lv"+n[r]);return t.join(", ")}(e)+")"}function Bu(e,t){return":"+t.getId()+":*"+t.getName({})+"* ("+function(e,t){var n=[],r=t.getCraftingSchoolLevelRequirements(e);for(var o in r)n.push(o+" Lv"+r[o]);return n.join(", ")}(e,t)+")"}function Mu(){var e=function(e){var t=Ou("Level_Up_"+e,e+" Level Up!").setSimpleDescription("Congratulations!\n      \nYour "+e+" level is now {level}!\n\n{levelUpLearnedSpells}\n\n{levelUpLearnedCrafts}").build(),n=yu("Level_Up_"+e,t);me("Level_Up_"+e,(function(t,r){if(xt(r,e)>xt(t,e)){var o=function(e,t){var n=t.filter((function(t){return!e.includes(t)})),r="",o="";if(n.length>3&&(o="and "+(n.length-3)+" more!",n=n.slice(0,3)),n.length>0){var i=n.map(Eu).join(", ");""!==o&&(i=[i,o].join(". ")),r="**New spells learned:** "+i}return r}(Ht(t,e),Ht(r,e)),i=function(e,t,n){var r=n.filter((function(e){return!t.includes(e)})),o="";if(pr(e,"inventory_unlocked")&&r.length>0){var i="";if(r.length>3)i="and "+(r.length-3)+" more!",r=r.slice(0,3);var a=r.map(Bu.bind(null,e)).join(", ");""!==i&&(a=[a,i].join(", ")),o="**New craftable items:**\n"+a}return o}(r,Le(t),Le(r));return ge(n,{level:xt(r,e),levelUpLearnedSpells:o,levelUpLearnedCrafts:i})}}))};for(var t in ft)e(t)}!function(e){e.Basic="Basic",e.Storyline="Storyline"}(ku||(ku={}));var Su=function(){function e(t,n,r,o,i){C()(this,e),this.id=t,this.secretType=n,this.getDescription=r,this.isUnlockable=o,this._isCompleted=i}return O()(e,[{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.secretType}},{key:"unlock",value:function(e){return Cr("secret_"+this.secretType+"_"+this.id)(e)}},{key:"isUnlocked",value:function(e){return Rr(e,"secret_"+this.secretType+"_"+this.id)}},{key:"isCompleted",value:function(e){return null!=this._isCompleted?this._isCompleted(e):this.isUnlocked(e)}}]),e}(),Du={Basic:new F,Storyline:new F};var Pu=function(){function e(t,n,r,o,i,a){C()(this,e),this.name=t,this.isCompleted=n,this.isBonusActive=r,this.hintDescription="string"===typeof o?function(e){return o}:o,this.getBonusDescription="string"===typeof i?function(e){return i}:i,this.isHintUnlockable=a}return O()(e,[{key:"getId",value:function(){return this.name}}]),e}(),Iu=new F;function Tu(e){var t=Object(A.useContext)(ee),n=e.secret,r=e.secret.isCompleted(t),o=e.secret.isUnlocked(t),i=Object(A.useMemo)((function(){var e=o?n.getDescription(t):"???";return Object(Je.jsx)(k.default,{style:_u.descriptionTextContainer,children:Object(Je.jsx)(or,{style:{flex:1,justifyContent:"center"},children:e})})}),[n.getDescription(t),o]),a=Object(A.useMemo)((function(){var e="lock";return o&&(e="more-horiz"),r&&(e="check"),Object(Je.jsx)(j.Icon,{name:e,size:20,color:"#666"})}),[o,r]);return Object(Je.jsxs)(k.default,{style:_u.topContainer,children:[a,i]})}var _u=m.default.create({topContainer:{flexDirection:"row",alignItems:"center",paddingVertical:8},descriptionTextContainer:{marginLeft:8,justifyContent:"center",flex:1}});function Yu(e){var t,n,r=Object(A.useContext)(ee),o=(t=r,n=e.secretType,Du[n].getAll().filter((function(e){return e.isUnlockable(t)||e.isUnlocked(t)||e.isCompleted(t)}))),i=Object(A.useMemo)((function(){return o.map((function(e){return Object(Je.jsx)(Tu,{secret:e},e.id)}))}),[o.map((function(e){return e.id})).join(",")]);return Object(A.useMemo)((function(){return 0===i.length?null:Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(k.default,{children:i[0]},o[0].id),i.slice(1).map((function(e,t){return Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(j.Divider,{}),e]},o[t].id)}))]})}),[i])}m.default.create({});function Qu(e){var t=Object(A.useContext)(ee),n=e.storyline,r=Du.Storyline.getById(n.name),o=r.isUnlocked(t),i=n.isCompleted(t),a=n.isBonusActive(t),u=o||i||a,c=Object(A.useMemo)((function(){var e="???";return o&&(e=r.getDescription(t)),i&&(e="You have completed this Storyline, but not all of its bonuses are active. Retire to obtain the rest!"),a&&(e=n.getBonusDescription(t)),Object(Je.jsx)(k.default,{style:Vu.descriptionTextContainer,children:a?Object(Je.jsxs)(k.default,{style:Vu.effectContainer,children:[Object(Je.jsx)(ut,{children:"Storyline completed!"}),Object(Je.jsxs)(k.default,{style:Vu.effectSubcontainer,children:[Object(Je.jsx)(ut,{children:"Bonus: "}),Object(Je.jsx)(ir,{style:Vu.descriptionViewer,children:e})]})]}):Object(Je.jsx)(or,{style:Vu.descriptionViewer,children:e})})}),[r.getDescription(t),n.getBonusDescription(t),o,i,a]),s=Object(A.useMemo)((function(){var e=Object(Je.jsx)(j.Icon,{name:"lock",size:20,color:"#666"});return o&&(e=Object(Je.jsx)(j.Icon,{name:"more-horiz",size:20,color:"#666"})),i&&(e=Object(Je.jsx)(j.Icon,{name:"error-outline",size:20,color:"#666"})),a&&(e=Object(Je.jsx)(j.Icon,{name:"check",size:20})),e}),[o,i,a]);return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:Vu.storylineContainer,children:[Object(Je.jsxs)(k.default,{style:Vu.topRowContainer,children:[s,Object(Je.jsx)(ut,{h3:!0,onPress:e.onPressExpand,style:[Vu.topContainer,!u&&Vu.disabledStorylineText],children:u?n.name:"???"},n.name),Object(Je.jsx)(j.Icon,{name:e.collapsed?"chevron-right":"chevron-down",type:"entypo",containerStyle:Vu.expandContainer,onPress:e.onPressExpand})]}),!e.collapsed&&Object(Je.jsx)(k.default,{children:c})]},n.name)}),[n.name,u,s,!e.collapsed&&c,e.collapsed,e.onPressExpand])}var Vu=m.default.create({storylineContainer:{marginVertical:8},topRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},expandContainer:{width:40},descriptionTextContainer:{marginBottom:8,marginTop:8,flex:1,flexDirection:"row",flexWrap:"wrap"},descriptionViewer:{flex:1,justifyContent:"center"},effectContainer:{flex:1},effectSubcontainer:{flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap"},smallButtonTitle:{fontSize:12},topContainer:{flex:1,marginLeft:8},disabledStorylineText:{color:"#aaa"}});function Fu(e){var t=Object(A.useState)(""),n=l()(t,2),r=n[0],o=n[1],i=Object(A.useCallback)((function(e){o(r==e?"":e)}),[r]),a=Iu.getAll(),u=a.map((function(e){return e.name})).join(","),c=Object(A.useMemo)((function(){return a.map((function(e){return Object(Je.jsx)(Qu,{storyline:e,collapsed:r!=e.name,onPressExpand:i.bind(null,e.name)},e.name)}))}),[u,r,o]);return Object(A.useMemo)((function(){return 0===a.length?null:Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(k.default,{children:c[0]},a[0].name),c.slice(1).map((function(e,t){return Object(Je.jsxs)(k.default,{children:[Object(Je.jsx)(j.Divider,{}),e]},a[t].name)}))]})}),[u,c])}m.default.create({});function Nu(e){var t=e.school,n=Object(A.useContext)(ee),r=Ht(n,t),o=Ht(n,t,1).filter((function(e){return!r.includes(e)})).map(Eu),i="Next level, you will learn:\n  \n  "+(o.length>0?o.join("\n"):"*No new spells*");return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Level:"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:xt(n,t)})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"To Next Level:"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:rn(jt(n,xt(n,t)+1,t)-mt(n,t))})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{style:{flex:1},children:"Maximum Primary Level in previous runs (MPL):"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:rn(_t(n,t))})]}),Object(Je.jsx)(k.default,{style:Lu.insideBlock,children:Object(Je.jsx)(ot,{children:i})})]})}function Uu(){var e=Object(A.useState)(""),t=l()(e,2),n=t[0],r=t[1],o=Object(A.useContext)(ee),i=Pt(o).map((function(e,t){var i=e+" Lv"+xt(o,e)+(e==o.primarySchool?" (Primary)":"");return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(j.ListItem,{topDivider:!0,onPress:function(){r(n!=e?e:"")},children:[Object(Je.jsx)(j.ListItem.Content,{children:Object(Je.jsx)(j.ListItem.Title,{children:i})}),Object(Je.jsx)(j.ListItem.Chevron,{name:n==e?"close":"chevron-right"})]}),n==e&&Object(Je.jsx)(k.default,{style:Lu.schoolElementContainer,children:Object(Je.jsx)(Nu,{school:e})})]},e)}));return Object(Je.jsxs)(k.default,{children:[i,Object(Je.jsx)(j.Divider,{})]})}function Gu(){var e=Object(A.useContext)(ee),t=Iu.getAll(),n=t.filter((function(t){return t.isCompleted(e)}));n.length>0&&n.map((function(e){return"* "+e.name})).join("\n");return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Total Completed Storylines:"}),Object(Je.jsxs)(ut,{style:Lu.valueText,children:[n.length," / ",t.length]})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Completion Percentage:"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:rn(100*n.length/t.length)+"%"})]}),Object(Je.jsx)(k.default,{style:Lu.storylineContainer,children:Object(Je.jsx)(Fu,{})})]})}function Hu(){var e,t,n=Object(A.useContext)(ee),r=yr.a.duration(null==(e=n.global)?void 0:e.secondsPlayed,"seconds"),o=yr.a.duration(null==(t=n.thisRun)?void 0:t.secondsPlayed,"seconds"),i=Object(A.useCallback)((function(e){return Math.floor(e.asDays()).toFixed()+" days, "+e.hours().toFixed().padStart(2,"0")+":"+e.minutes().toFixed().padStart(2,"0")+":"+e.seconds().toFixed().padStart(2,"0")}),[]),a=Yt(n),u=Qt(n);return Object(Je.jsxs)(k.default,{children:[Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Time played (total):"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:i(r)})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Time played (this run):"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:i(o)})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Total times retired:"}),Object(Je.jsx)(ut,{style:Lu.valueText,children:n.global.totalTimesResetted})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Global research multiplier:"}),Object(Je.jsxs)(ut,{style:Lu.valueText,children:[rn(a,{showDecimals:!0}),"x"]})]}),Object(Je.jsxs)(k.default,{style:Lu.row,children:[Object(Je.jsx)(ut,{children:"Global production multiplier:"}),Object(Je.jsxs)(ut,{style:Lu.valueText,children:[rn(u,{showDecimals:!0}),"x"]})]})]})}function Wu(){var e=Du.Basic.getAll().length>0;return Object(Je.jsxs)(k.default,{style:Lu.container,children:[Object(Je.jsx)(ut,{h1:!0,children:"Magic Research"}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Stats"}),Object(Je.jsx)(Hu,{})]}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Schools"}),Object(Je.jsx)(Uu,{})]}),Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Storylines"}),Object(Je.jsx)(Gu,{})]}),e&&Object(Je.jsxs)(j.Card,{children:[Object(Je.jsx)(j.Card.Title,{children:"Secrets"}),Object(Je.jsx)(Yu,{secretType:ku.Basic})]})]})}var Lu=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},schoolElementContainer:{margin:8,marginBottom:24},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},insideBlock:{marginTop:16},valueText:{minWidth:100,textAlign:"right"},storylineContainer:{marginTop:8}});function Ju(){return Object(Je.jsx)(k.default,{style:Zu.container,children:Object(Je.jsx)(Ar,{area:"Strengthening"})})}var Zu=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"}});function zu(){return Object(Je.jsx)(k.default,{style:Xu.container,children:Object(Je.jsx)(Ar,{area:"Upgrades"})})}var Xu=m.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"}});function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}M.load();var $u={Fire:{colors:{primary:"#c30"}},Earth:{colors:{primary:"#740"}},Water:{colors:{primary:"#08f"}},Air:{colors:{primary:"#0b4"}},Nature:{colors:{primary:"#5b0"}},Lightning:{colors:{primary:"#80f"}},Darkness:{colors:{primary:"#444"}}};var ec={};function tc(e){var t=Object(b.default)(),n=t.height,r=t.width,o=Object(A.useContext)(ee),i=Object(A.useState)(!1),a=l()(i,2),u=a[0],c=a[1],s=Object(A.useState)("none"),d=l()(s,2),h=d[0],m=d[1],w=Object(A.useState)("Campus"),x=l()(w,2),C=x[0],R=x[1],O=Object(A.useCallback)((function(e){"goToExploration"==e?R("Exploration"):"closeAllMenus"==e&&(c(!1),m("none"))}),[]),E=Object(A.useCallback)((function(e){var t=_e(e);return t.forEach(O),e.uiCommands=t.filter((function(e){return"goToExploration"!=e&&"closeAllMenus"!=e})),e}),[]);Object(A.useEffect)((function(){me("appUiCommand",(function(e,t){if(_e(t).length>0)return function(e){return E(e)}}))}),[]);var B=Object(A.useCallback)((function(){c(!u),m("none")}),[u]),M=Object(A.useCallback)((function(){m("event"!==h?"event":"none"),c(!1)}),[h]),S=Object(A.useCallback)((function(){m("spell"!==h?"spell":"none"),c(!1)}),[h]),D=Object(A.useCallback)((function(e){R(e),c(!1)}),[]),P=Object.values(o.eventOccurrences).filter((function(e){return e.currentMessageId&&!ie(e.currentMessageId).isTerminal()})).length,I=r>=1250;return Object(A.useMemo)((function(){return Object(Je.jsxs)(k.default,{style:oc.maxContainer,children:[Object(Je.jsx)(Da,{setPlayerState:e.setPlayerState}),Object(Je.jsx)(j.Header,{containerStyle:oc.headerContainer,statusBarProps:{translucent:!0,backgroundColor:"transparent",barStyle:"light-content"},leftComponent:I?void 0:Object(Je.jsx)(v.default,{onPressIn:B,hitSlop:{top:20,left:20,bottom:20,right:20},children:Object(Je.jsx)(j.Icon,{name:"menu",color:"#fff"})}),centerComponent:{text:C,style:{color:"#fff"}},rightComponent:I?void 0:Object(Je.jsxs)(k.default,{style:oc.rightHeaderContainer,children:[Object(Je.jsx)(v.default,{style:oc.rightHeaderIcon,onPressIn:S,hitSlop:{top:20,left:20,bottom:20,right:20},children:Object(Je.jsx)(f.default,{name:"magic-wand",size:24,color:"#fff"})}),Object(Je.jsxs)(v.default,{style:oc.rightHeaderIcon,onPressIn:M,hitSlop:{top:20,left:10,bottom:20,right:20},children:[Object(Je.jsx)(j.Icon,{name:"notifications",color:"#fff"}),P>0&&Object(Je.jsx)(j.Badge,{value:P,status:"error",containerStyle:oc.notificationsBadge})]})]})}),Object(Je.jsxs)(y.default,{style:oc.safeAreaContainer,children:[Object(Je.jsx)(po,{}),Object(Je.jsxs)(k.default,{style:oc.biggerContainer,children:[Object(Je.jsxs)(k.default,{style:[oc.horizontalContainer,"web"===g.default.OS&&I?{height:n-70}:{flex:1}],children:[I&&Object(Je.jsx)(k.default,{style:oc.webMenuContainer,children:Object(Je.jsx)(Za,{visible:!0,onNavigationPress:D})}),"Exploration"===C?Object(Je.jsx)(k.default,{style:oc.mainContainer,children:Object(Je.jsx)(ta,{})}):Object(Je.jsxs)(p.default,{style:oc.mainContainer,contentContainerStyle:oc.container,children:["Campus"===C&&Object(Je.jsx)(dr,{}),"Research"===C&&Object(Je.jsx)(cu,{}),"Apprentices"===C&&Object(Je.jsx)(sn,{}),"Inventory"===C&&Object(Je.jsx)(Ba,{}),"Upgrades"===C&&Object(Je.jsx)(zu,{}),"Stats"===C&&Object(Je.jsx)(Wu,{}),"Creatures"===C&&Object(Je.jsx)(Fr,{}),"Strengthening"===C&&Object(Je.jsx)(Ju,{}),"Retirement"===C&&Object(Je.jsx)(lu,{}),"Options"===C&&Object(Je.jsx)(Ka,{}),"About"===C&&Object(Je.jsx)(st,{}),"Debug"===C&&Object(Je.jsx)(to,{})]}),!I&&Object(Je.jsx)(za,{visible:u,onBackgroundPress:B,onNavigationPress:D}),I?Object(Je.jsx)(k.default,{style:oc.webMenuContainer,children:Object(Je.jsx)(Au,{visible:!0})}):Object(Je.jsx)(du,{visible:"spell"===h,onBackgroundPress:S}),I?Object(Je.jsx)(k.default,{style:oc.webMenuContainer,children:Object(Je.jsx)(p.default,{children:Object(Je.jsx)(lo,{})})}):Object(Je.jsx)(go,{visible:"event"===h,onBackgroundPress:M})]}),Object(Je.jsx)(Pa,{})]})]})]})}),[e.setPlayerState,B,S,M,C,P,u,h,D,I,n])}function nc(){var e=Object(A.useState)($),t=l()(e,2),n=t[0],r=t[1],o=Object(A.useState)(!0),i=l()(o,2),u=i[0],c=i[1],s=Object(A.useRef)(n);s.current=n;var f=Object(A.useCallback)((function(e){var t=function(e,t){var n=[t],r=e,o=r;do{n.length>0&&(o=ye(r=o),o=n.reduce((function(e,t){return t(e)}),o)),n=ve(r,o)}while(n.length>0);return o}(s.current,e);r(t)}),[s,r]),d=Object(A.useCallback)((function(e){r(e(s.current))}),[s,r]),g=Object(A.useMemo)((function(){return Ku(Ku({},n),{},{apply:f,overwrite:d})}),[n,f,d]);Object(A.useEffect)((function(){(function(){var e=a()((function*(){try{var e=yield function(){return Be.apply(this,arguments)}();r(e),c(!1)}catch(t){console.error("Error loading data")}}));return function(){return e.apply(this,arguments)}})()()}),[]),Object(A.useEffect)((function(){(function(){var e=a()((function*(){try{yield function(e){return Me.apply(this,arguments)}(n)}catch(e){console.error("Error saving data",e)}}));return function(){return e.apply(this,arguments)}})()()}),[Math.floor(ne(n)/5)]);var m=Object(A.useMemo)((function(){var e;return Object(j.createTheme)({lightColors:null==$u||null==(e=$u[g.primaryElement||""])?void 0:e.colors,mode:"light"})}),[$u,g.primaryElement]);return u?Object(Je.jsx)(w.SafeAreaProvider,{children:Object(Je.jsx)(y.default,{style:[oc.safeAreaContainer],children:Object(Je.jsx)(h.default,{size:"large"})})}):void 0==g.primaryElement||void 0==g.primarySchool?Object(Je.jsx)(w.SafeAreaProvider,{children:Object(Je.jsxs)(ee.Provider,{value:g,children:[Object(Je.jsx)(j.Header,{containerStyle:oc.headerContainer,statusBarProps:{translucent:!0,backgroundColor:"transparent",barStyle:"light-content"},centerComponent:{text:"Welcome to Magic Research",style:{color:"#fff"}}}),Object(Je.jsx)(y.default,{style:oc.safeAreaContainer,children:Object(Je.jsx)(k.default,{style:oc.biggerContainer,children:Object(Je.jsx)(k.default,{style:oc.introContainer,children:Object(Je.jsx)(p.default,{contentContainerStyle:oc.container,children:Object(Je.jsx)(ra,{onSelect:function(){}})})})})})]})}):Object(Je.jsx)(w.SafeAreaProvider,{children:Object(Je.jsx)(ee.Provider,{value:g,children:Object(Je.jsx)(j.ThemeProvider,{theme:m,children:Object(Je.jsx)(tc,{setPlayerState:r})})})})}j.ThemeProvider.prototype.shouldComponentUpdate=function(e,t){return this.props.theme!=e.theme||JSON.stringify(this.state)!=JSON.stringify(t)},j.ThemeProvider.prototype.render=function(){var e=function(e,t){var n=JSON.stringify(e);return ec[n]||(ec[n]=t),ec[n]}(this.state.theme,{theme:this.state.theme,updateTheme:this.updateTheme,replaceTheme:this.replaceTheme});return Object(Je.jsx)(j.ThemeContext.Provider,{value:e,children:this.props.children})};var rc="android"===g.default.OS?16:"web"===g.default.OS?8:0,oc=m.default.create({headerContainer:{paddingTop:rc},rightHeaderContainer:{flexDirection:"row"},rightHeaderIcon:{marginLeft:20},safeAreaContainer:{flex:1,justifyContent:"center"},centerAligned:{alignItems:"center"},maxContainer:{flex:1},biggerContainer:{flex:1},introContainer:{alignItems:"center"},horizontalContainer:{flexDirection:"row",alignItems:"stretch",overflow:"hidden"},mainContainer:{flex:1},webMenuContainer:{width:316,paddingHorizontal:8},notificationsBadge:{position:"absolute",top:-8,right:-8},menuContainer:{position:"absolute"},container:{padding:8}}),ic=n(10),ac=n.n(ic);function uc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var cc=function(e){gn()(n,e);var t=uc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"gather_iron_unlocked")}},{key:"isEnabled",value:function(e){return Pn(e,dn.Iron)<Sn(e,dn.Iron)}},{key:"getTags",value:function(){return[].concat(D()(ac()(vn()(n.prototype),"getTags",this).call(this)),[Y.ManualGathering,Y.Production,dn.Iron])}},{key:"getName",value:function(){return"Gather Iron"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Mine for iron."}},{key:"getBaseActionEffects",value:function(){return{iron:{value:.1}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).iron,{showDecimals:!0})+":iron:"}},{key:"getCost",value:function(e){return{resources:{},items:{}}}},{key:"doAction",value:function(e,t){return Tn(dn.Iron,this.getActionEffects(t).iron)(t)}}]),n}(_n),sc=yu("gather_iron_unlocked",Ou("gather_iron_unlocked","The Quarry").setSimpleDescription('Your researcher calls your attention. "There is a place you should see", she exclaims, walking outside the campus. "Follow me." You do as instructed.\n    \nYou end up in what seems to be a fairly rocky cliff. However, you notice the rock in a wall shining a different color. "That\'s iron," your researcher says. "This is a sturdy metal. Not too useful for casting magic, but it could be great for buildings... or..."\n\nYou agree with her. Learning about this place for the first time, you thank the researcher. You\'ll be sure to come back prepared next time - this could be useful!\n\n**You unlocked the ability to gather iron!**').build(),vr("gather_iron_unlocked"));me("gather_iron_unlocked",(function(e,t){if(!pr(t,"gather_iron_unlocked")&&pr(t,"apprentice_dorm_event_triggered")&&Ot(t)>=5e3)return ge(sc)}));var lc=new cc;function fc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ac=new(function(e){gn()(n,e);var t=fc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(){return!0}},{key:"isEnabled",value:function(e){return Pn(e,dn.Mana)<Sn(e,dn.Mana)}},{key:"getTags",value:function(){return[].concat(D()(ac()(vn()(n.prototype),"getTags",this).call(this)),[Y.ManualGathering,Y.Production,dn.Mana])}},{key:"getName",value:function(){return"Gather Mana"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Focus your thoughts and gather mana."}},{key:"getBaseActionEffects",value:function(){return{mana:{value:1}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).mana,{showDecimals:!0})+":mana:"}},{key:"getCost",value:function(e){return{resources:{},items:{}}}},{key:"doAction",value:function(e,t){return Tn(dn.Mana,this.getActionEffects(t).mana)(t)}}]),n}(_n));function dc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var hc=function(e){gn()(n,e);var t=dc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"gather_wood_unlocked")}},{key:"isEnabled",value:function(e){return Pn(e,dn.Wood)<Sn(e,dn.Wood)}},{key:"getTags",value:function(){return[].concat(D()(ac()(vn()(n.prototype),"getTags",this).call(this)),[Y.ManualGathering,Y.Production,dn.Wood])}},{key:"getName",value:function(){return"Gather Wood"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Collect branches from the nearby forest."}},{key:"getBaseActionEffects",value:function(){return{wood:{value:1}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).wood,{showDecimals:!0})+":wood:"}},{key:"getCost",value:function(e){return{resources:{},items:{}}}},{key:"doAction",value:function(e,t){return Tn(dn.Wood,this.getActionEffects(t).wood)(t)}}]),n}(_n),gc=yu("gather_wood_unlocked",Ou("gather_wood_unlocked","Time to Look Outside").setSimpleDescription("Our studies of magic are starting to become more fruitful! With our recent advances, we are ready to start broadening our horizons. The campus is big, but there is only so much in it!\n    \nIt seems like there is a nearby forest where we may be able to find wood, which could help us develop our institution even further...\n\n**You can now gather:wood: Wood!**").build(),vr("gather_wood_unlocked"));me("gather_wood_unlocked",(function(e,t){return pr(t,"gather_wood_unlocked")||"Nature"!=t.primaryElement?!pr(t,"gather_wood_unlocked")&&Ot(t)>=500?ge(gc):void 0:vr("gather_wood_unlocked")}));var yc=new hc;function pc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var mc=new(function(e){gn()(n,e);var t=pc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return!0}},{key:"getName",value:function(){return"Hire Researcher"}},{key:"getArea",value:function(){return"Research"}},{key:"getDisplayDescription",value:function(){return"Hire a new researcher to gain magical experience faster."}},{key:"getDisplayEffect",value:function(){return"+1 Researcher"}},{key:"canAfford",value:function(e){return ac()(vn()(n.prototype),"canAfford",this).call(this,e)&&uu(e)>e.research.totalResearchers}},{key:"getCost",value:function(e){var t=V([].concat(D()(this.getTags()),[Y.CostScale]),e,1);return{resources:{Coins:250*Math.pow(1+t,e.research.totalResearchers)},items:{}}}},{key:"doAction",value:function(e,t){var n;return t=Tn(dn.Coins,-(null!=(n=this.getCost(t).resources.Coins)?n:0))(t),au(1)(t)}}]),n}(_n));function vc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var bc=new(function(e){gn()(n,e);var t=vc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return!0}},{key:"getName",value:function(){return"Use Time Pieces"}},{key:"getArea",value:function(){return"Research"}},{key:"getDisplayDescription",value:function(){return"Use all your time pieces to get a large amount of research."}},{key:"getBaseActionEffects",value:function(){return{timePiecesPerResearchSecond:{value:15,tags:[Y.TimePiecePerResearch]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e).timePiecesPerResearchSecond;return"Instantly obtain "+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shortForm:!1,showDecimals:!1},n=t.shortForm,r=t.showDecimals,o=n?"sec":"second(s)",i=rn(e,{showDecimals:r});return e>60&&(o=n?"min":"minute(s)",i=rn(e/60,{showDecimals:r})),e>3600&&(o=n?"hr":"hour(s)",i=rn(e/3600,{showDecimals:r})),i+" "+o}(Pn(e,dn.TimePieces)/t,{shortForm:!0,showDecimals:!0})+" of research"}},{key:"canAfford",value:function(e){return ac()(vn()(n.prototype),"canAfford",this).call(this,e)&&Pn(e,dn.TimePieces)>0}},{key:"getCost",value:function(e){return{resources:{"Time Pieces":Pn(e,dn.TimePieces)},items:{}}}},{key:"doAction",value:function(e,t){var n,r=this.getActionEffects(t).timePiecesPerResearchSecond,o=Pn(t,dn.TimePieces)/r;return t=Tn(dn.TimePieces,-(null!=(n=this.getCost(t).resources["Time Pieces"])?n:0))(t),Object.keys(t.research.researcherAllocation.schools).forEach((function(e){var n,r=null!=(n=t.research.researcherAllocation.schools[e])?n:0;if(r>0){var i=V([e,Y.Research],t,1);t=Rt(e,r*i*o)(t)}})),t}}]),n}(_n));function kc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var jc=new(function(e){gn()(n,e);var t=kc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"apprentice_dorm_unlocked")}},{key:"getBuildingName",value:function(){return"Apprentice Dorm"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Housing for apprentices, which can help cast spells."}},{key:"getBaseActionEffects",value:function(){return{apprentices:{value:1}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).apprentices)+" Max Apprentices"}},{key:"getBaseResourceCost",value:function(){return{Coins:300,Wood:480,Stone:240}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.5,Wood:1.5,Stone:1.5}}}]),n}(Wn));_([[Y.Apprentice]],"ApprenticeDormApprentice",r.Addition,(function(e){return Vn(e,jc)*jc.getActionEffects(e).apprentices}));var wc=yu("apprentice_dorm_unlocked",Ou("apprentice_dorm_unlocked","Apprentices Need Sleep").setSimpleDescription('Your researcher walks up to you. She is together with a shaky individual, who seems to be barely breaking into adulthood and appears scared at your sight.\n\n"I have a great idea!", she says. "This is my cousin. He is a wizard-in-training... an apprentice wizard," she continues, while gazing at him, before looking at you once more.').addOption("Continue",Ou("apprentice_dorm_unlocked_1","Apprentices Need Sleep").setSimpleDescription('"It is a honor to meet you, headmaster," exclaims the apprentice, while bowing at you somewhat too deeply.\n\nThe researcher continues. "It\'d be great to have him stay here! He could help you cast spells and continue improving our campus. Besides, a magical institution makes no sense without people who\'d like to learn. What do you think?", she asks you.\n\nYou recall thinking about how tedious it was to cast spells. This could be a big help!').addOption("Continue",Ou("apprentice_dorm_unlocked_2","Apprentices Need Sleep").setSimpleDescription("\"There's just a little problem,\" the researcher continues. \"There is nowhere for him to sleep in! We'll need to build something.\"\n            \nYou saw it coming. Still, you can't wait - you've had enough casting *Create Pebble* manually. You reassure the researcher and her cousin that you will think about it, and you walk away, starting to picture what you would need to construct suitable housing for your first apprentice.").build(),vr("apprentice_dorm_unlocked")).build()).build(),vr("apprentice_dorm_event_triggered"));me("apprentice_dorm_event_triggered",(function(e,t){if(!pr(t,"apprentice_dorm_event_triggered")&&pr(t,"autocast_intro_triggered")&&Ot(t)>=3e3)return ge(wc)}));var xc=yu("autocast_unlocked",Ou("autocast_unlocked","The First Apprentice").setSimpleDescription('Construction for the first apprentice dorm is finished! You celebrate to a small audience. You notice the apprentice from before is still there. You approach him, though he still seems fearful and bows deeply.\n    \n"Is that... housing I could use?", he says, with a timid voice. You nod, and ask him if he\'d like to become your first apprentice. He shakes, visibly and clearly nervous.\n\n"That would be great... I-It\'s a honor, to be able to learn from one such as you, headmaster. I\'ll move in right away."\n\n**You have unlocked Apprentices! Apprentices can automatically cast spells for you after a set amount of time. You may manage them in the Apprentices section, in the left-hand-side menu.**').build(),vr("autocast_unlocked"));me("autocast_unlocked",(function(e,t){if(!pr(t,"autocast_unlocked")&&Vn(t,jc)>0)return ge(xc)}));var Cc=jc;function Rc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Oc=new(function(e){gn()(n,e);var t=Rc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"furnace_unlocked")}},{key:"getBuildingName",value:function(){return"Furnace"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"An oven with a very hot flame. Useful for crafting."}},{key:"getBaseActionEffects",value:function(){return{wood:{value:3,tags:[dn.Wood,Y.Consumption]},temperature:{value:1,tags:[dn.Temperature,Y.Production]},temperatureCap:{value:500,tags:[dn.Temperature,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(t.temperature,{showDecimals:!0})+":temperature:/sec, -"+rn(t.wood,{showDecimals:!0})+":wood:/sec, +"+rn(t.temperatureCap)+" Max:temperature:"}},{key:"canTurnOff",value:function(){return!0}},{key:"getBaseResourceCost",value:function(){return{Coins:1500,Stone:3e3,Iron:100}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Stone:1.3,Iron:1.3}}}]),n}(Wn));_([[Oc.getId(),dn.Temperature,Y.Production]],"FurnaceFireTransform",r.Multiplier,(function(e){return e.primaryElement==lt.Fire?2:1})),H("FurnaceProduction",(function(e,t){var n=Fn(e,Oc);if(0===n)return e;var r=Oc.getActionEffects(e),o=r.wood*n*t;return Pn(e,dn.Wood)<o?e:(e=Tn(dn.Wood,-o)(e),Tn(dn.Temperature,n*r.temperature*t)(e))})),me("furnace_cap_listener",(function(e,t){if(Gn(e,t,Oc))return function(e){return Dn(e)}})),_([[dn.Temperature,Y.Cap]],"FurnaceTemperatureCap",r.Addition,(function(e){return Vn(e,Oc)*Oc.getActionEffects(e).temperatureCap}));var Ec=yu("furnace_unlocked",Ou("furnace_unlocked","A Really Hot Oven").setSimpleDescription('You see your apprentice by the door of your room. You approach him and ask him what is wrong. He shakes a bit, but then finds courage and speaks.\n\n"I-I have been thinking about crafting, but it\'s very hard to shape metal right now," he says. "Maybe if we had a really hot flame, we would be able to be much more effective with crafting... maybe even make real weapons?"\n\nYou realize he has a point. You still don\'t know why your apprentice and your researcher are both eager to make weapons, but building a furnace could make it a lot easier to craft multiple types of items.\n\n**You can now build Furnaces!**').build(),vr("furnace_unlocked"));me("furnace_unlocked",(function(e,t){if(!pr(t,"furnace_unlocked")&&pr(t,"inventory_unlocked")&&Ot(t)>=13e3)return ge(Ec)}));var Bc=Oc;function Mc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Sc=new(function(e){gn()(n,e);var t=Mc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"lumber_yard_unlocked")}},{key:"getBuildingName",value:function(){return"Lumber Yard"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Processes branches and trees, generating wood automatically."}},{key:"getBaseActionEffects",value:function(){return{wood:{value:1,tags:[dn.Wood,Y.Production]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).wood,{showDecimals:!0})+":wood:/sec"}},{key:"getBaseResourceCost",value:function(){return{Mana:200,Wood:25,Stone:10}}},{key:"getBaseResourceScale",value:function(){return{Mana:1,Wood:1.3,Stone:1.3}}}]),n}(Wn));H("LumberYard",(function(e,t){var n=Vn(e,Sc);if(0===n)return e;var r=Sc.getActionEffects(e);return Tn(dn.Wood,n*r.wood*t)(e)}));var Dc=yu("lumber_yard_unlocked",Ou("lumber_yard_unlocked","Wood Processing").setSimpleDescription("These trips to the forest are starting to get tedious. You are starting to wonder if there is a way you could make it easier on yourself.\n    \nPerhaps there is a way? Maybe we can reuse the wood we obtained to make something bigger? You get lost in thought as you walk back to campus.\n\nBy the time you arrive, you have figured it out. Lumber yards right at the edge of the forest. It can surely work!").build(),vr("lumber_yard_unlocked"));me("lumber_yard_unlocked",(function(e,t){if(!pr(t,"lumber_yard_unlocked")&&Pn(t,dn.Wood)>=50)return ge(Dc)}));var Pc=Sc;function Ic(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Tc=function(e){gn()(n,e);var t=Ic(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return this.getName()}},{key:"getUpgradeRequirements",value:function(){return[]}},{key:"getArea",value:function(){return"Upgrades"}},{key:"getCost",value:function(e){return{resources:{Monstium:this.getMonstiumCost()},items:this.getItemCost()}}},{key:"getItemCost",value:function(){return{}}},{key:"doAction",value:function(e,t){t=Tn(dn.Monstium,-this.getMonstiumCost())(t);var n=this.getItemCost();for(var r in n)t=On(We(r),n[r],t);return vr("upgrade:"+this.getName())(t)}},{key:"isPurchased",value:function(e){return pr(e,"upgrade:"+this.getName())}},{key:"isVisibleExtraChecks",value:function(e){return!0}},{key:"isVisible",value:function(e){return!this.isPurchased(e)&&(!this.getUpgradeRequirements().some((function(t){return!t.isPurchased(e)}))&&!!this.isVisibleExtraChecks(e))}}]),n}(_n);function _c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Yc=new(function(e){gn()(n,e);var t=_c(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"warehouse_unlocked")}},{key:"getBuildingName",value:function(){return"Warehouse"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Increases the maximum resources you can store."}},{key:"getBaseActionEffects",value:function(){return{stone:{value:400,tags:[dn.Stone,Y.PerBuildingCap]},wood:{value:400,tags:[dn.Wood,Y.PerBuildingCap]},iron:{value:200,tags:[dn.Iron,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n={Stone:"+"+rn(t.stone)+" Max :stone:",Wood:"+"+rn(t.wood)+" Max :wood:",Iron:"+"+rn(t.iron)+" Max :iron:"};return Object.keys(n).filter((function(t){var n;return void 0!==(null==(n=e.resources)?void 0:n[t])})).map((function(e){return n[e]})).join(", ")}},{key:"getBaseResourceCost",value:function(){return{Coins:200,Stone:30}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Stone:1.3}}}]),n}(Wn));_([[Y.Cap,dn.Stone]],"WarehouseStoneCap",r.Addition,(function(e){return Vn(e,Yc)*function(e){return Yc.getActionEffects(e).stone}(e)})),_([[Y.Cap,dn.Wood]],"WarehouseWoodCap",r.Addition,(function(e){return Vn(e,Yc)*function(e){return Yc.getActionEffects(e).wood}(e)})),_([[Y.Cap,dn.Iron]],"WarehouseIronCap",r.Addition,(function(e){return Vn(e,Yc)*function(e){return Yc.getActionEffects(e).iron}(e)})),me("warehouse_caps_recalculation",(function(e,t){if(Gn(e,t,Yc))return function(e){return Dn(e)}}));var Qc=yu("warehouse_unlocked",Ou("warehouse_unlocked","Storage Ideas").setSimpleDescription("Accumulating stone is worthwhile. As you watch your reserves getting closer to full, you start thinking if there might be a way to improve the situation.\n    \nMaybe you can use the stone to create more room? It seems like a smart, straightforward idea... you could make a stone warehouse.").build(),vr("warehouse_unlocked"));me("warehouse_unlocked",(function(e,t){if(!pr(t,"warehouse_unlocked")&&Pn(t,dn.Stone)>=30)return ge(Qc)}));var Vc=Yc;function Fc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Nc=new(function(e){gn()(n,e);var t=Fc(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Reinforced Warehouses"}},{key:"getMonstiumCost",value:function(){return 450}},{key:"getDisplayDescription",value:function(e){return"Strengthen the walls and the structure of your warehouses, allowing it to store more items."}},{key:"getDisplayEffect",value:function(e){return"2.5x Warehouse storage"}}]),n}(Tc));_([[Vc.getName(),Y.PerBuildingCap]],"ReinforcedWarehouses",r.Multiplier,(function(e){return Nc.isPurchased(e)?2.5:1})),me("ReinforcedWarehousesListener",(function(e,t){if(!Nc.isPurchased(e)&&Nc.isPurchased(t))return Dn}));var Uc=Nc;function Gc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Hc=new(function(e){gn()(n,e);var t=Gc(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Mana Crystals"}},{key:"getMonstiumCost",value:function(){return 3500}},{key:"getDisplayDescription",value:function(e){return"Unlock the ability to build Mana Crystals, which let you store more :mana: than Mana Shards."}},{key:"getDisplayEffect",value:function(e){return"Unlock Mana Crystals"}},{key:"getUpgradeRequirements",value:function(){return[Uc]}}]),n}(Tc));function Wc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Lc=new(function(e){gn()(n,e);var t=Wc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return Hc.isPurchased(e)}},{key:"getBuildingName",value:function(){return"Mana Crystal"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"A larger version of a Mana Shard. Increases the amount of Mana you can store."}},{key:"getBaseActionEffects",value:function(){return{mana:{value:200,tags:[dn.Mana,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).mana)+" Max:mana:"}},{key:"getBaseResourceCost",value:function(){return{Coins:1e4,Stone:8e3,Iron:1200}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Stone:1.3,Iron:1.3}}}]),n}(Wn));_([[dn.Mana,Y.Cap]],"ManaCrystalCap",r.Addition,(function(e){return Vn(e,Lc)*Lc.getActionEffects(e).mana})),me("mana_crystal_cap_listener",(function(e,t){if(Gn(e,t,Lc))return function(e){return Dn(e)}}));var Jc=Lc;function Zc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var zc=new(function(e){gn()(n,e);var t=Zc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"has_gathered_at_least_1_stone")&&pr(e,"has_gathered_at_least_1_water")}},{key:"getBuildingName",value:function(){return"Mana Spout"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Automatically generate Mana and refill your supply."}},{key:"getBaseActionEffects",value:function(){return{mana:{value:.5,tags:[dn.Mana,Y.Production]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).mana,{showDecimals:!0})+":mana:/sec"}},{key:"getBaseResourceCost",value:function(){return{Stone:10,Water:2}}},{key:"getBaseResourceScale",value:function(){return{Stone:1.3,Water:1.3}}}]),n}(Wn));H("ManaSpout",(function(e,t){var n=Vn(e,zc);if(0===n)return e;var r=zc.getActionEffects(e);return Tn(dn.Mana,n*r.mana*t)(e)})),me("mana_spout_unlocked_1",(function(e,t){if(!pr(t,"has_gathered_at_least_1_stone")&&Pn(t,dn.Stone)>=1)return vr("has_gathered_at_least_1_stone")})),me("mana_spout_unlocked_2",(function(e,t){if(!pr(t,"has_gathered_at_least_1_water")&&Pn(t,dn.Water)>=1)return vr("has_gathered_at_least_1_water")}));var Xc=zc;function qc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Kc=new(function(e){gn()(n,e);var t=qc(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"mana_geyser_unlocked")}},{key:"getBuildingName",value:function(){return"Mana Geyser"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"A metal-reinforced building that produces mana."}},{key:"getBaseActionEffects",value:function(){return{mana:{value:2,tags:[dn.Mana,Y.Production]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).mana,{showDecimals:!0})+":mana:/sec"}},{key:"getBaseResourceCost",value:function(){return{Coins:600,Water:150,Iron:30}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Water:1.3,Iron:1.3}}}]),n}(Wn));H("ManaGeyser",(function(e,t){var n=Vn(e,Kc);if(0===n)return e;var r=Kc.getActionEffects(e);return Tn(dn.Mana,n*r.mana*t)(e)}));var $c=yu("mana_geyser_unlocked",Ou("mana_geyser_unlocked","Mana Geysers").setSimpleDescription("As you slowly start getting more and more iron, you think of a plan to improve on your Mana Spouts. You are thinking that, by adding iron, you should be able to create a structure that can produce mana at a much faster rate than a simple spout.\n    \nYou will definitely require a lot of iron, but it'll be worth it in the long run, you tell yourself. Mana is the cornerstone of magic!\n\n**You can now build Mana Geysers!**").build(),vr("mana_geyser_unlocked"));me("mana_geyser_unlocked",(function(e,t){if(!pr(t,"mana_geyser_unlocked")&&Pn(t,dn.Iron)>=10&&Vn(t,Xc)>=1)return ge($c)}));var es=Kc;function ts(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ns=new(function(e){gn()(n,e);var t=ts(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"has_gathered_at_least_50_mana")}},{key:"getBuildingName",value:function(){return"Mana Shard"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Increase the amount of mana you can store."}},{key:"getBaseActionEffects",value:function(){return{mana:{value:100,tags:[dn.Mana,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).mana)+" Max:mana:"}},{key:"getBaseResourceCost",value:function(){return{Coins:100}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3}}}]),n}(Wn));_([[dn.Mana,Y.Cap]],"ManaShardCap",r.Addition,(function(e){return Vn(e,ns)*ns.getActionEffects(e).mana})),me("mana_shard_cap_listener",(function(e,t){if(Gn(e,t,ns))return function(e){return Dn(e)}}));var rs=yu("has_gathered_at_least_50_mana",Ou("has_gathered_at_least_50_mana","The Mana Shard").setSimpleDescription("The mana reserves of the school are building up. Looking at them, you realize they may soon hit their maximum.\n    \nIf only you had a way to store more mana... Then you remember what you had learned as an apprentice, that Mana Shards can increase capacity.\n    \nWe could buy some if we had enough coins...").build(),vr("has_gathered_at_least_50_mana"));me("mana_shard_unlocked",(function(e,t){if(!pr(t,"has_gathered_at_least_50_mana")&&Pn(t,dn.Mana)>=50)return ge(rs)}));var os=ns;function is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var as=new(function(e){gn()(n,e);var t=is(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"monstruarium_unlocked")}},{key:"getBuildingName",value:function(){return"Monstruarium"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Magically infused storage building that can also hold hazardous materials."}},{key:"getBaseActionEffects",value:function(){return{stone:{value:1200,tags:[dn.Stone,Y.PerBuildingCap]},wood:{value:1200,tags:[dn.Wood,Y.PerBuildingCap]},iron:{value:600,tags:[dn.Iron,Y.PerBuildingCap]},monstium:{value:4e3,tags:[dn.Monstium,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n={Stone:"+"+rn(t.stone)+" Max:stone:",Wood:"+"+rn(t.wood)+" Max:wood:",Iron:"+"+rn(t.iron)+" Max:iron:",Monstium:"+"+rn(t.monstium)+" Max:monstium:"};return Object.keys(n).filter((function(t){var n;return void 0!==(null==(n=e.resources)?void 0:n[t])})).map((function(e){return n[e]})).join(", ")}},{key:"getBaseResourceCost",value:function(){return{Mana:1100,Coins:8e3,Iron:500}}},{key:"getBaseResourceScale",value:function(){return{Mana:1.3,Coins:1.3,Iron:1.3}}}]),n}(Wn));_([[Y.Cap,dn.Stone]],"MonstruariumStoneWoodCap",r.Addition,(function(e){return Vn(e,as)*function(e){return as.getActionEffects(e).stone}(e)})),_([[Y.Cap,dn.Wood]],"MonstruariumStoneWoodCap",r.Addition,(function(e){return Vn(e,as)*function(e){return as.getActionEffects(e).wood}(e)})),_([[Y.Cap,dn.Iron]],"MonstruariumIronCap",r.Addition,(function(e){return Vn(e,as)*function(e){return as.getActionEffects(e).iron}(e)})),_([[Y.Cap,dn.Monstium]],"MonstruariumMonstiumCap",r.Addition,(function(e){return Vn(e,as)*function(e){return as.getActionEffects(e).monstium}(e)})),me("monstruarium_caps_recalculation",(function(e,t){if(Gn(e,t,as))return function(e){return Dn(e)}}));var us=yu("monstruarium_unlocked",Ou("monstruarium_unlocked","A New Hazardous Resource").setSimpleDescription('Felling those enemies is interesting, as sometimes you can find useful items afterwards. You have noticed, however, that they also leave behind some material that you have been calling "Monstium". You are not sure what it does, but it feels somewhat hazardous.\n    \nThere might be a way to store more of this... You think for a bit, and devise a larger storage unit, with more capacity than warehouses, and with a special compartment dedicated to potentially dangerous materials. To make it truly work, you think of imbuing it with mana. You are eager to give it a try.\n\n**You can now build Monstruariums!**').build(),vr("monstruarium_unlocked"));me("monstruarium_unlocked",(function(e,t){if(!pr(t,"monstruarium_unlocked")&&Pn(t,dn.Monstium)>=200)return ge(us)}));var cs=as;function ss(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ls=new(function(e){gn()(n,e);var t=ss(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"researcher_cabin_unlocked")}},{key:"getBuildingName",value:function(){return"Researcher Cabin"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Housing for researchers to live in campus."}},{key:"getBaseActionEffects",value:function(){return{maxResearchers:{value:1,tags:[Y.Researcher,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).maxResearchers)+" Max Researchers"}},{key:"getBaseResourceCost",value:function(){return{Coins:150,Wood:320,Stone:110}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Wood:1.3,Stone:1.3}}}]),n}(Wn));_([[Y.Researcher,Y.Cap]],"ResearcherCabin",r.Addition,(function(e){return Vn(e,ls)*ls.getActionEffects(e).maxResearchers})),me("researcher_cabin_cap_recalculation",(function(e,t){if(Gn(e,t,ls))return function(e){return Dn(e)}}));var fs=yu("researcher_cabin_unlocked",Ou("researcher_cabin_unlocked","Housing for Researchers").setSimpleDescription('Your researcher comes up to you. "Studying here has been great so far!", she says. "But it certainly is somewhat lonely... it would be great to have company. We could get double the work done; imagine how fast we could discover new things!", she exclaims.\n    \n"But there\'s a problem. There\'s nowhere for them to stay in. I have an idea for a cabin, but... we\'ll need to build it, first. Oh well.. back to work," she mentions, as she turns away and continues focusing on her research.\n\nYou ponder her words for some time. Regardless of her feelings, you recognize that double the researchers could greatly speed things up. You think of possibly building a Researcher Cabin as she suggested, and hiring an extra researcher.').build(),vr("researcher_cabin_unlocked"));me("researcher_cabin_unlocked",(function(e,t){if(!pr(t,"researcher_cabin_unlocked")&&pr(t,"research_unlocked")&&Ot(t)>=1300)return ge(fs)}));var As=ls;function ds(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var hs=new(function(e){gn()(n,e);var t=ds(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"vault_unlocked")}},{key:"getBuildingName",value:function(){return"Vault"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Allows you to store more coins safely."}},{key:"getBaseActionEffects",value:function(){return{coins:{value:2e4,tags:[dn.Coins,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){var t={Coins:"+"+rn(this.getActionEffects(e).coins)+" Max:coins:"};return Object.keys(t).filter((function(t){var n;return void 0!==(null==(n=e.resources)?void 0:n[t])})).map((function(e){return t[e]})).join(", ")}},{key:"getBaseResourceCost",value:function(){return{Coins:500,Stone:600}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Stone:1.3}}}]),n}(Wn));_([[dn.Coins,Y.Cap]],"VaultCoinsCap",r.Addition,(function(e){return Vn(e,hs)*function(e){return hs.getActionEffects(e).coins}(e)})),me("vault_coins_cap_recalculation",(function(e,t){if(Gn(e,t,hs))return function(e){return Dn(e)}}));var gs=yu("vault_unlocked",Ou("vault_unlocked","Coin Storage").setSimpleDescription("You are managing to stockpile large amounts of coins! It would be wise to find a place to put them in.\n    \nWarehouses have been useful; stone has proven to be a good material for tons of things. You think about using it for a specialized building for money storage. You are concerned about bandits, but are convinced it'll be worth it in the long run.").build(),vr("vault_unlocked"));me("vault_unlocked",(function(e,t){if(!pr(t,"vault_unlocked")&&Pn(t,dn.Coins)>=800&&Vn(t,Vc)>=1)return ge(gs)}));var ys=hs;function ps(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ms=new(function(e){gn()(n,e);var t=ps(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"water_tank_unlocked")}},{key:"getBuildingName",value:function(){return"Water Tank"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Allows you to stockpile water."}},{key:"getBaseActionEffects",value:function(){return{water:{value:250,tags:[dn.Water,Y.PerBuildingCap]}}}},{key:"getDisplayEffect",value:function(e){var t={Water:"+"+rn(this.getActionEffects(e).water)+" Max:water:"};return Object.keys(t).filter((function(t){var n;return void 0!==(null==(n=e.resources)?void 0:n[t])})).map((function(e){return t[e]})).join(", ")}},{key:"getBaseResourceCost",value:function(){return{Coins:350,Wood:300,Stone:200}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.3,Wood:1.3,Stone:1.3}}}]),n}(Wn));_([[Y.Cap,dn.Water]],"WaterTankWaterCap",r.Addition,(function(e){return Vn(e,ms)*function(e){return ms.getActionEffects(e).water}(e)})),me("water_tank_caps_recalculation",(function(e,t){if(Gn(e,t,ms))return function(e){return Dn(e)}}));var vs=yu("water_tank_unlocked",Ou("water_tank_unlocked","Water Storage").setSimpleDescription("You have been struggling with water storage for a while. Creating it is easy, but you have nowhere to place it - it just drops to the ground!\n    \nYou feel a surge of inspiration, as you realize you could build a container. Then you figure it's downright obvious.\n\nYou set out to build a water tank with stone and wood.").build(),vr("water_tank_unlocked"));me("water_tank_unlocked",(function(e,t){if(!pr(t,"water_tank_unlocked")&&pr(t,"gather_wood_unlocked")&&Pn(t,dn.Water)>=10)return ge(vs)}));var bs=ms;var ks=yu("Autocast_Intro",Ou("Autocast_Intro","Casting Spells is Repetitive").setSimpleDescription("How many times have you manually cast a spell by now? You have lost count. It certainly is not difficult for you. However, there is real repetition to these casts.\n    \nYou wonder if there might be a way to somehow automate this, as it's starting to feel a bit dull. But thinking about it, you can't figure out any solution...").build(),vr("autocast_intro_triggered"));me("autocast_intro_triggered",(function(e,t){if(!pr(t,"autocast_intro_triggered")&&pr(t,"research_unlocked")&&Ot(t)>=2200)return ge(ks)}));var js=ks,ws=yu("crafting_intro_1",Ou("crafting_intro_1","Crafting Station").setSimpleDescription('Your focus is interrupted by your researcher, who yells at you. "Headmaster!", she says.\n\n"Gathering resources like wood and iron is great", she continues. "Wouldn\'t it even be more interesting if we could make more complex stuff from them?"').addOption("Continue",Ou("crafting_intro_1_2","Crafting Station").setSimpleDescription('You try to convey to your researcher that we have, in fact, been creating complex things from resources: the buildings. But she frowns.\n      \n"No, that\'s not what I meant", she says, unhappily. "Buildings are huge! I\'m thinking more of useful, smaller things. Potions? Weapons? Magical items?"').addOption("Continue",Ou("crafting_intro_1_3","Crafting Station").setSimpleDescription("You continue listening to her.\n          \n\"If we had a crafting station, we could make a lot of these... if only it wasn't so expensive to build, I could do it myself and learn more about it!\", she says, somewhat frustrated.\n\nYou aren't sure whether to pay heed to it - why would you need things like weapons in a magical institution? You think about it some more...").addOption("Build a Crafting Station (2000 Coins, 2000 Wood, 100 Iron)",Ou("crafting_intro_1_4","Crafting Station").setSimpleDescription('It was difficult, but the crafting station is finished! Your researcher, filled with joy, runs towards it and examines it from every angle. You notice your apprentice also taking notice of it, and looking at it curiously.\n              \nA crafting station... You wonder if you might be able to do something with it right away?\n\n"Conjuration and Enchantment," says your researcher, as she passes by you with the apprentice. "Focus our research in those schools, and we should be able to make items." They head outside together.\n\n**You have unlocked the "Inventory" and "Crafting" features! You can access your inventory via the left-side menu. You can craft from the inventory screen.**').build(),(function(e){return e=Tn(dn.Coins,-2e3)(e),e=Tn(dn.Wood,-2e3)(e),e=Tn(dn.Iron,-100)(e),e=vr("inventory_unlocked")(e)}),void 0,(function(e){return Pn(e,dn.Coins)>=2e3&&Pn(e,dn.Wood)>=2e3&&Pn(e,dn.Iron)>=100})).addOption("Maybe later").build()).build()).build(),vr("crafting_intro"));me("crafting_intro",(function(e,t){if(!pr(t,"crafting_intro")&&pr(t,"gather_iron_unlocked")&&!pr(t,"inventory_unlocked")&&Ot(t)>=1e4)return ge(ws)}));var xs=ws,Cs=yu("exploration_intro_1",Ou("exploration_intro_1","The School Basement").setSimpleDescription('"E-Excuse me, headmaster...?" You hear a timid voice coming from the door. You gaze up, to find your apprentice at the door, and motion for him to come inside. He walks towards you, looking disheveled and holding a club.\n    \n"I found a trap door in the school garden, behind some bushes", he begins explaining. "I found it curious, so I decided to see what was below it." He glances at you. You can tell that, despite his usual fear of you, he is actually quite enthusiastic about this.').addOption("Continue",Ou("exploration_intro_2","The School Basement").setSimpleDescription('"It\'s a very spacious basement, with a lot of rooms, and it seems to go very deep!", he says. "Headmaster, you should definitely investigate. I feel there\'s a lot of secrets to be found!"\n  \n"B-but it was, well... dangerous", he continues, while looking down. "Please be prepared before going down there. There are scary... ...creatures, roaming around the place."').addOption("Continue",Ou("exploration_intro_3","The School Basement").setSimpleDescription('You nod, and bid farewell to the apprentice.\n          \nYou are aware this is quite the old building, where wizards used to live and study several generations ago. You consider the basement may be full of things that could help expand your knowledge. However, you recall the apprentice\'s warning: it will probably be dangerous. You strongly consider arming yourself with a weapon and some protection before heading in, though you admit you may already be equipped for it.\n\nMaybe this is why the researcher was also excited about making weapons...?\n\n**You have unlocked the "Exploration" feature! You can access this feature from the left-side menu. Explore various locations to discover a wide array of new things; but beware, as powerful foes may be lurking behind every corner!**').build()).build()).build(),vr("exploration_unlocked"));me("exploration_intro",(function(e,t){if(!pr(t,"exploration_unlocked")&&pr(t,"wizard_robe_bought")&&ha(t,ca.Hand)&&ha(t,ca.Body)&&Ot(t)>=33e3)return ge(Cs)}));var Rs=Cs;var Os=yu("Research_Intro",Ou("Research_Intro","A wild researcher appeared").setSimpleDescription('An enthusiastic lady looks at your Mana and notices the large amount you have.\n\n"Wow, this would be great source material," she says.').addOption("Continue",Ou("Research_Intro_1","A wild researcher appeared").setSimpleDescription('You look at her, perplexed and somewhat confused. Then she continues explaining.\n\n"Large amounts of Mana are hard to come by, and are almost a requirement for the successful study of Magic."').addOption("Continue",Ou("Research_Intro_2","A wild researcher appeared").setSimpleDescription('"Are you trying to study magic here? This is exciting!\n            \nI\'d be willing to work here for a small price... let\'s say 200 Coins. Of course, you would be the first to learn what I find out, and you would be able to tell me what I should focus on," she says earnestly.\n\n"So what will it be?"').addOption("Pay 200 Coins",Ou("Research_Intro_3","A wild researcher appeared").setSimpleDescription('You produce 200 coins out of your pockets, and hand them over to the researcher. She looks at the coins and puts them away in the pockets of her robes.\n\n"Perfect! I will get started right away. I\'m sure this is the beginning of a very fruitful relationship for us both!," she exclaims.\n\n**You have unlocked the "Research" feature! You may find it on the left-side menu.**').build(),(function(e){return e=Tn(dn.Coins,-200)(e),e=vr("research_unlocked")(e),e=au(1)(e)}),void 0,(function(e){return Pn(e,dn.Coins)>=200})).addOption("Maybe later").build()).build()).build(),vr("Research_Intro_Triggered"));me("research_intro_triggered_1",(function(e,t){if(!pr(t,"Research_Intro_Triggered")&&Sn(t,dn.Mana)>=200)return ge(Os)}));var Es=Os;function Bs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ms=new(function(e){gn()(r,e);var t=Bs(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"lightweightChest"}},{key:"getPicture",value:function(){return n(559)}},{key:"getBaseName",value:function(){return"Lightweight Chest"}},{key:"getTags",value:function(){return[{tag:"Quest Item"}]}},{key:"getDescription",value:function(){return"A very light wooden chest. Great for carrying items."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 300}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:3,Enchantment:3}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:750,Wood:4500,Iron:10},items:{}}}}]),r}(ma)),Ss=yu("shop_intro",Ou("shop_intro","Selling Items").setSimpleDescription('The new crafting table is doing well, but every time you get rid of an item to make room for another, you feel a little bad inside.\n    \nAs if reading your mind, a fat businessman with gaudy clothes shows up in campus. He grins at you, with a sneaky smile.\n\n"Gooooood afternoon, headmaster", he exclaims to you. He looks at your item collection for a short while, then turns to you again. "May I interest you in a business propooooosal?"').addOption("Continue",Ou("shop_intro_2","Selling Items").setSimpleDescription('"You have some very interesting items here", he says. "I would very much like to have them! I\'d be happy to even offer you a bit of cooooins for them."\n        \nThat\'s like music to your ears! But then the businessman continues.\n\n"Of cooourse, that is only possible if I can carry them! You are a very talented individual. Would you be able to craft me a :lightweightChest: Lightweight Chest for that purpose? If you dooooo... I\'ll make sure to come back ooooften and buy your items, multiple times!"\n\nYou notice he already has a backpack...').addOption("Charm the Businessman (1200 Mana)",Ou("shop_intro_4","Selling Items").setSimpleDescription("You use your Illusion prowess to charm the businessman; you don't think he actually needs the chest. It seems to work!\n            \n\"Ah,\" he says with a more relaxed grin. \"I actually doooon't need the chest. I'll be happy just to buy your items, just let me know. I'll come ooooften.\" He gives you a glance, then turns back and leaves.\n\n**You can now sell items for:coins:!**").build(),(function(e){return e=Tn(dn.Mana,-1200)(e),e=vr("selling_unlocked")(e)}),(function(e){return xt(e,ft.Illusion)>=5}),(function(e){return Pn(e,dn.Mana)>=1200})).addOption("Hand over a Lightweight Chest",Ou("shop_intro_3","Selling Items").setSimpleDescription('You give the businessman the chest he asked for. His grin widens.\n            \n"Thank yoooooou", he says. "Let me knoooow if there\'s anything you would like me to take from you. I\'ll come ooooften." He gives you a glance, then turns back and leaves.\n\n**You can now sell items for:coins:!**').build(),(function(e){return e=On(Ms,1,e),e=vr("selling_unlocked")(e)}),void 0,(function(e){return Rn(Ms,e)>0})).addOption("Maybe later").build()).build(),vr("shop_intro"));me("shop_intro_inventory",(function(e,t){if(!pr(t,"has_crafted")&&bn(t).length>0)return vr("has_crafted")})),me("shop_intro",(function(e,t){if(!pr(t,"shop_intro")&&pr(t,"inventory_unlocked")&&pr(t,"has_crafted")&&Ot(t)>=16e3)return ge(Ss)}));var Ds=Ss,Ps=yu("alchemy_lab",Ou("alchemy_lab_1","(Storyline) Cauldron of Potion-Making").setSimpleDescription("You find yourself near your furnace. You can feel the heat emanating from it. It evokes memories of a distant past... of when you were learning about magic. You recall a scene where you gathered around a big cauldron...\n    \nIt struck you, then. A *cauldron*! Why didn't you think about this before? You head out and look for your researcher. You find her, and start talking to her about the art of making magical beverages.").addOption("Continue",Ou("alchemy_lab_2","(Storyline) Cauldron of Potion-Making").setSimpleDescription('"Magical... beverages? Do you mean potions?", she says. "We definitely can\'t make those with our crafting station..."\n        \nShe didn\'t seem to catch on, so you explain that you want to build a cauldron and start investigating the production of powerful potions.\n\n"Oh, of course", she says. She goes back to studying without paying mind to you. It seems like you will need to show her what you mean.').addOption("Build a cauldron (6500 Stone, 500 Iron, 2000 Temperature)",Ou("alchemy_lab_3","(Storyline) Cauldron of Potion-Making").setSimpleDescription('That was quite some hard work. The cauldron looks sturdy and prepared for some serious brewing. You have a new robust addition to the campus now!\n            \nYour researcher is still skeptical.\n\n"I can see where this could go", she says, raising her brow. "But there\'s more we need to do. We need a consistent, strong source of flame and tons of water, to keep this boiling. *Then* we\'ll be able to try to make potions." She goes back to her research.\n\nYou understand this, and you start working towards that goal.').addOption("Fill the cauldron and start a fire (2000 Water, 6500 Wood)",Ou("alchemy_lab_4","(Storyline) Cauldron of Potion-Making").setSimpleDescription('The sparks of the fire are noisy. You place the cauldron on top of it, and slowly add water in it. It takes a long time, but you eventually finish and wait for the water to boil.\n                \nThe cauldron starts bubbling. Your researcher finally comes and looks at the cauldron. She observes the flame and the steam coming out from the top of the cauldron, then speaks to you.\n\n"This is actually great!", she exclaims. "We are definitely prepared now! We should study the art of making potions. I am sure we could make many useful things!"').addOption("Continue",Ou("alchemy_lab_5","(Storyline) Cauldron of Potion-Making").setSimpleDescription('Your researcher seems eager to try it out. You are more reluctant: you remember how difficult it was to figure out the right formula. Still, with enough research, you have high hopes that you will find plenty of uses for it...\n\nThen you remember. Your professor was saying how they had kept trying to turn iron into gold, but despite years of work, they found no success. But maybe you could...?\n\n**You have completed the "Cauldron of Potion-Making" storyline and have permanently unlocked the Alchemy school! You may now do research on Alchemy, which will let you craft ever-more-powerful potions with various effects. This will persist even after restarting the game!**').build()).build(),(function(e){return e=Tn(dn.Water,-2e3)(e),e=Tn(dn.Wood,-6500)(e),e=Dt(ft.Alchemy)(e)}),void 0,(function(e){return Pn(e,dn.Water)>=2e3&&Pn(e,dn.Wood)>=6500})).addOption("Maybe later").build(),(function(e){return e=Tn(dn.Stone,-6500)(e),e=Tn(dn.Iron,-500)(e),e=Tn(dn.Temperature,-1e3)(e)}),void 0,(function(e){return Pn(e,dn.Stone)>=6500&&Pn(e,dn.Iron)>=500&&Pn(e,dn.Temperature)>=1e3})).addOption("Maybe later").build()).build(),vr("alchemy_lab_triggered"));Kr(Ps,40,(function(e){return!pr(e,"alchemy_lab_triggered")&&pr(e,"inventory_unlocked")&&Vn(e,Bc)>0&&!Pt(e).includes(ft.Alchemy)})),Iu.register(new Pu("The Alchemy Lab",(function(e){return Pt(e).includes(ft.Alchemy)}),(function(e){return Pt(e).includes(ft.Alchemy)}),"There's a chance of this happening randomly if you have unlocked your inventory and you have at least a Furnace...","Alchemy school unlocked",(function(e){return!0})));var Is=Ps,Ts=function(){function e(){C()(this,e)}return O()(e,[{key:"getMaxHP",value:function(e){return V([ko.Enemy,jo.MaxHP],e,this.getBaseStats().maxHP)}},{key:"getAttack",value:function(e){return V([ko.Enemy,jo.Attack],e,this.getBaseStats().attack)}},{key:"getAttackDelay",value:function(e){return V([ko.Enemy,jo.AttackDelay],e,this.getBaseStats().attackDelay)}},{key:"getCriticalChance",value:function(e){return V([ko.Enemy,jo.CritChance],e,this.getBaseStats().critChance)}},{key:"getDefense",value:function(e){return V([ko.Enemy,jo.Defense],e,this.getBaseStats().defense)}},{key:"getDodgeChance",value:function(e){return V([ko.Enemy,jo.Dodge],e,this.getBaseStats().dodgeChance)}},{key:"getNextAction",value:function(e){var t=this;return{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e),t.getCriticalChance(e))}}}},{key:"getItemsAwarded",value:function(e){return[]}},{key:"onDeath",value:function(e,t){var n=this.getCoinsAwarded(e),r=this.getMonstiumAwarded(e),o=V([Y.Loot,dn.Coins,t?Y.FromCreatures:Y.FromExploration],e,n),i=V([Y.Loot,dn.Monstium,t?Y.FromCreatures:Y.FromExploration],e,r);return e=Tn(dn.Coins,o)(e),e=Tn(dn.Monstium,i)(e),e=t?Pr(e,"A creature found "+rn(o)+" :coins: and "+rn(i)+" :monstium:!"):ii(e,"You found "+rn(o)+" :coins: and "+rn(i)+" :monstium:!"),this.getItemsAwarded(e).forEach((function(n){var r=n.chance;if(t||(r=V([Y.LootChance],e,r)),Math.random()<r){var o=We(n.itemId),i=n.params||{};e=wn({itemId:n.itemId,params:i},n.amount,e),e=t?Pr(e,"A creature found "+n.amount+" "+o.getName(i)+"!"):ii(e,"You found "+n.amount+" "+o.getName(i)+"!")}})),e}}]),e}();function _s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ys=new(function(e){gn()(r,e);var t=_s(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"basementBat"}},{key:"getName",value:function(){return"Basement Bat"}},{key:"getPicture",value:function(){return n(560)}},{key:"getBaseStats",value:function(){return{maxHP:30,defense:0,attack:11,attackDelay:1.1,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.25?{name:"Suck Blood",delay:this.getAttackDelay(e),transform:function(e){var n=Zo(1.2*t.getAttack(e),Bo(e));return e=Ko(e=Xo(e,-n),+n)}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 50}},{key:"getMonstiumAwarded",value:function(e){return 6}},{key:"getItemsAwarded",value:function(){return[{itemId:"medicinalHerb",chance:.15,amount:1},{itemId:"batWing",chance:.25,amount:2}]}}]),r}(Ts));function Qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Vs=new(function(e){gn()(r,e);var t=Qs(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"mouse"}},{key:"getName",value:function(){return"Mouse"}},{key:"getPicture",value:function(){return n(561)}},{key:"getBaseStats",value:function(){return{maxHP:40,defense:2,attack:9,attackDelay:2,dodgeChance:0,critChance:0}}},{key:"getCoinsAwarded",value:function(e){return 45}},{key:"getMonstiumAwarded",value:function(e){return 4}},{key:"getItemsAwarded",value:function(){return[{itemId:"medicinalHerb",chance:.1,amount:1},{itemId:"ratTail",chance:.25,amount:2}]}}]),r}(Ts));function Fs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ns=new(function(e){gn()(r,e);var t=Fs(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"skeleton"}},{key:"getName",value:function(){return"Skeleton"}},{key:"getPicture",value:function(){return n(562)}},{key:"getBaseStats",value:function(){return{maxHP:500,defense:6,attack:19,attackDelay:3,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.5?{name:"Strong Blow",delay:2*this.getAttackDelay(e),transform:function(e){return ti(e,1,2*t.getAttack(e))}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 175}},{key:"getMonstiumAwarded",value:function(e){return 15}},{key:"getItemsAwarded",value:function(){return[{itemId:"medicinalHerb",chance:.8,amount:1}]}},{key:"onDeath",value:function(e,t){return e=Dr(e=ac()(vn()(r.prototype),"onDeath",this).call(this,e,t),"schoolBasementB1"),vr("school_basement_b2_unlocked")(e)}}]),r}(Ts));function Us(e){return{normal:Ho(e),breeding:function(t){return t=Pr(t,"A creature defeated "+e.getName()+"!"),t=e.onDeath(t,!0)}}}var Gs=function(){function e(){C()(this,e)}return O()(e,[{key:"getExplorationRequiredTimeSec",value:function(){return 5}},{key:"_getExplorationSuccessesForBoss",value:function(){return 50}},{key:"getExplorationSuccessesForBoss",value:function(e){return V([Y.ExplorationBossRequirement],e,this._getExplorationSuccessesForBoss(),{floor:this})}},{key:"doExplore",value:function(e){var t=this.getExplorationPossibilities(e),n=t.reduce((function(e,t){return e+t.weight}),0),r=Math.random()*n;for(var o in t){var i=t[o];if((r-=i.weight)<0)return i.transforms}return null}},{key:"doFightBoss",value:function(e){var t=this.getBoss();if(t)return Ho(t)}},{key:"canFightBoss",value:function(e){return oi(e,this.getId())>=this.getExplorationSuccessesForBoss(e)&&void 0!=this.getBoss()}},{key:"isUnlocked",value:function(e){return!1}},{key:"getNextFloor",value:function(){}}]),e}();function Hs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ws=new(function(e){gn()(r,e);var t=Hs(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"angrySheep"}},{key:"getName",value:function(){return"Angry Sheep"}},{key:"getPicture",value:function(){return n(563)}},{key:"getBaseStats",value:function(){return{maxHP:120,defense:4,attack:15,attackDelay:4,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;if(Math.random()<.25)return{name:"Hop Around",delay:this.getAttackDelay(e),transform:function(e){return e}};return Math.random()<.1?{name:"Charge!",delay:1.5*this.getAttackDelay(e),transform:function(e){return ti(e,1,3*t.getAttack(e))}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 110}},{key:"getMonstiumAwarded",value:function(e){return 8}},{key:"getItemsAwarded",value:function(){return[{itemId:"medicinalHerb",chance:.1,amount:1},{itemId:"wool",chance:1,amount:1}]}}]),r}(Ts));function Ls(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Js=function(e){gn()(r,e);var t=Ls(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"littleDevil"}},{key:"getName",value:function(){return"Little Devil"}},{key:"getPicture",value:function(){return n(564)}},{key:"getBaseStats",value:function(){return{maxHP:900,defense:14,attack:26,attackDelay:2.7,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;if(Math.random()<.2)return{name:"Fire Ball",delay:5,transform:function(e){return ti(e,1,48)}};return Math.random()<.2?{name:"Weaken",delay:5,transform:Jr("Weaken (Little Devil)","Weaken (Little Devil)",12,{isBeneficial:!1,mode:"add"})}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 450}},{key:"getMonstiumAwarded",value:function(e){return 36}},{key:"getItemsAwarded",value:function(){return[{itemId:"medicinalHerb",chance:1,amount:3}]}},{key:"onDeath",value:function(e,t){return e=Dr(e=ac()(vn()(r.prototype),"onDeath",this).call(this,e,t),"schoolBasementB2"),vr("school_basement_b3_unlocked")(e)}}]),r}(Ts);_([[ko.Player,jo.Attack]],"LittleDevilWeaken",r.Addition,(function(e){return Hr(e,"Weaken (Little Devil)")?-12:0}));var Zs=new Js;function zs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Xs=new(function(e){gn()(r,e);var t=zs(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"airSpeck"}},{key:"getPicture",value:function(){return n(565)}},{key:"getBaseName",value:function(){return"Air Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small green gem. Full of air elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ks=new(function(e){gn()(r,e);var t=qs(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"darknessSpeck"}},{key:"getPicture",value:function(){return n(566)}},{key:"getBaseName",value:function(){return"Darkness Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small black gem. Full of darkness elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function $s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var el=new(function(e){gn()(r,e);var t=$s(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"earthSpeck"}},{key:"getPicture",value:function(){return n(567)}},{key:"getBaseName",value:function(){return"Earth Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small brown gem. Full of earth elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function tl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var nl=new(function(e){gn()(r,e);var t=tl(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"fireSpeck"}},{key:"getPicture",value:function(){return n(568)}},{key:"getBaseName",value:function(){return"Fire Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small red gem. Full of fire elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function rl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ol=new(function(e){gn()(r,e);var t=rl(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"lightningSpeck"}},{key:"getPicture",value:function(){return n(569)}},{key:"getBaseName",value:function(){return"Lightning Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small purple gem. Full of lightning elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var al=new(function(e){gn()(r,e);var t=il(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"natureSpeck"}},{key:"getPicture",value:function(){return n(570)}},{key:"getBaseName",value:function(){return"Nature Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small lime green gem. Full of nature elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function ul(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var cl=new(function(e){gn()(r,e);var t=ul(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"waterSpeck"}},{key:"getPicture",value:function(){return n(571)}},{key:"getBaseName",value:function(){return"Water Speck"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A small blue gem. Full of water elemental power."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function sl(e){switch(e.primaryElement){case"Fire":return nl;case"Earth":return el;case"Water":return cl;case"Air":return Xs;case"Nature":return al;case"Lightning":return ol;case"Darkness":return Ks;default:return nl}}function ll(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var fl=new(function(e){gn()(r,e);var t=ll(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"slime"}},{key:"getName",value:function(){return"Slime"}},{key:"getPicture",value:function(){return n(572)}},{key:"getBaseStats",value:function(){return{maxHP:200,defense:5,attack:14,attackDelay:2.5,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;if(Math.random()<.1)return{name:"Flee",delay:3*this.getAttackDelay(e),transform:Qo};return Math.random()<.3?{name:"Fast Attack",delay:.25*this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 90}},{key:"getMonstiumAwarded",value:function(e){return 12}},{key:"getItemsAwarded",value:function(e){return[{itemId:"medicinalHerb",chance:.2,amount:1},{itemId:sl(e).getId(),chance:.005,amount:1},{itemId:"goldNugget",chance:.001,amount:1}]}}]),r}(Ts));function Al(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var dl=function(e){gn()(r,e);var t=Al(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"ancientHeadmaster"}},{key:"getName",value:function(){return"Ancient Headmaster"}},{key:"getPicture",value:function(){return n(573)}},{key:"getBaseStats",value:function(){return{maxHP:2200,defense:8,attack:24,attackDelay:4,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;if(Jo(e)<550)return{name:"Rock Tomb",delay:12,transform:function(e){return ti(e,1,105)}};if(!Hr(e,"SilencePlayer")){if(Math.random()<.5)return{name:"Silence!",delay:5,transform:Jr("SilencePlayer","Silence",20,{isBeneficial:!1,mode:"add"})}}return Math.random()<.4?{name:"Stalagmite",delay:5,transform:function(e){return ti(e,1,56)}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 1200}},{key:"getMonstiumAwarded",value:function(e){return 99}},{key:"getItemsAwarded",value:function(){return[]}},{key:"onDeath",value:function(e,t){return pr(e=Dr(e=ac()(vn()(r.prototype),"onDeath",this).call(this,e,t),"schoolBasementB3"),"headmaster_event_2_triggered")||(e=ge(yl)(e)),!Or(e,"headmaster_under_15_minutes")&&ne(e)<900&&(e=ge(gl)(e)),Qe.isDemo()&&(e=ge(hl)(e)),e}}]),r}(Ts),hl=Ru("demo_finished","Thanks for playing the Demo").createMessage().setSimpleDescription("You have beaten the Ancient Headmaster! This is the end of the Demo of Magic Research. **Thank you for playing!**\n  \nIn the full game, you can expect much more content: many new dungeons, new items and features, and countless new secrets... Your save from the Demo can be easily transferred to the full game.\n\nAre you talented enough to lead your school to win the Tournament of Magic?").build(),gl=Ru("ancient_headmaster_15_minutes_event","(Storyline) Swift Start").setOnTrigger(wr("headmaster_under_15_minutes")).createMessage().setSimpleDescription("You felled the Ancient Headmaster, but it doesn't feel like the first time. How many times has this happened? It is so familiar, it is like you are able to do it in nearly no time at all - it hasn't even been 15 minutes since you opened your institution!\n  \nYou do notice, however, a page that is shining purple on the book you brought back with you. This is new! You quickly copy it, before it disappears into thin air.\n\nYou don't understand much yet, but you can tell it has instructions on how to build more efficiently. Perhaps future generations could benefit from this.\n\n**You have defeated the Ancient Headmaster in under 15 minutes and completed the \"Swift Start\" Storyline! In future runs, cost for all buildings will scale 25% slower, enabling you to build much more with the same storage!**").build();Iu.register(new Pu("Swift Start",(function(e){return Or(e,"headmaster_under_15_minutes")}),(function(e){return Rr(e,"headmaster_under_15_minutes")}),"Defeat the Ancient Headmaster within 15 minutes of beginning a run...","Cost for buildings scales 25% slower",(function(e){return!0}))),_([[Y.CostScale,"Category:Buildings"]],"swift_start",r.Multiplier,(function(e,t){return Rr(e,"headmaster_under_15_minutes")?.75:1}));var yl=yu("ancient_headmaster_event_2",Ou("ancient_headmaster_event_2","History of a Magical School").setSimpleDescription("As you strike the final blow, the old body of the Ancient Headmaster shakes violently, falls to its knees, and finally disintegrates into dark particles. You emerge victorious! You wipe the sweat off your face; that was a difficult battle.").addOption("Continue",Ou("ancient_headmaster_event_3","History of a Magical School").setSimpleDescription('You examine the room. Several bookshelves line up the walls, with a desk in the middle of the room. It feels like this could have been the study of the being you have just felled, back when they were still alive.\n\nOn top of the desk lies a single book: "School Improvement for Novice Headmasters". You are surprised something like this would be the one thing on the desk of the Ancient Headmaster. You decide to take it with you.').addOption("Continue",Ou("ancient_headmaster_event_4","History of a Magical School").setSimpleDescription('Back in campus, you find your researcher and your apprentice chatting with each other. You show them the book and relate what happened at the basement.\n          \nWith a sigh of relief that you made it back out in one piece, the researcher takes the book from your hands and starts skimming it. Her eyes go wide open.\n\n"Th-this is...", she begins saying. "This is incredible! This book describes a ton of ideas and plans we could use to improve the school, in a way we haven\'t thought of before!"').addOption("Continue",Ou("ancient_headmaster_event_5","History of a Magical School").setSimpleDescription('"The one catch, is that all of these require a strange material, the substance we call Monstium." She stops and looks at you. "You have been saving it, haven\'t you?"\n              \nYou nod, and ask for the book back. She gives it to you. "I\'m looking forward to see what we can do next!", she exclaims.\n\n**You have unlocked the "Upgrades" feature! Spend accumulated :monstium: to improve various aspects of the game. You can access this feature from the left-side menu.**').build(),vr("upgrades_unlocked")).build()).build()).build(),vr("headmaster_event_2_triggered")),pl=new dl;function ml(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var vl=new(function(e){gn()(r,e);var t=ml(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"redSlime"}},{key:"getName",value:function(){return"Red Slime"}},{key:"getPicture",value:function(){return n(574)}},{key:"getBaseStats",value:function(){return{maxHP:250,defense:6,attack:20,attackDelay:2.25,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;if(Math.random()<.05)return{name:"Flee",delay:3*this.getAttackDelay(e),transform:Qo};return Math.random()<.35?{name:"Fast Attack",delay:.25*this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 160}},{key:"getMonstiumAwarded",value:function(e){return 18}},{key:"getItemsAwarded",value:function(e){return[{itemId:"medicinalHerb",chance:.3,amount:1},{itemId:sl(e).getId(),chance:.015,amount:1},{itemId:"goldNugget",chance:.001,amount:1}]}}]),r}(Ts));function bl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var kl=new(function(e){gn()(r,e);var t=bl(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"zombie"}},{key:"getName",value:function(){return"Zombie"}},{key:"getPicture",value:function(){return n(575)}},{key:"getBaseStats",value:function(){return{maxHP:330,defense:0,attack:34,attackDelay:5,dodgeChance:0,critChance:0}}},{key:"getCoinsAwarded",value:function(e){return 130}},{key:"getMonstiumAwarded",value:function(e){return 18}},{key:"getItemsAwarded",value:function(e){return[{itemId:sl(e).getId(),chance:.01,amount:1},{itemId:"goldNugget",chance:.002,amount:1}]}}]),r}(Ts));function jl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var wl=new(function(e){gn()(n,e);var t=jl(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"schoolBasementB3"}},{key:"getFloorName",value:function(){return"School Basement B3"}},{key:"getBoss",value:function(){return pl}},{key:"isUnlocked",value:function(e){return pr(e,"school_basement_b3_unlocked")}},{key:"getBreedingLevel",value:function(){return 11}},{key:"getExplorationPossibilities",value:function(e){return[{weight:60,transforms:Us(Ws)},{weight:80,transforms:Us(kl)},{weight:40,transforms:Us(vl)}]}}]),n}(Gs)),xl=yu("ancient_headmaster_event_1",Ou("ancient_headmaster_event_1","The End of the Basement").setSimpleDescription("You have been going deeper and deeper into the basement and it has become more dangerous as you delve into it.\n    \nThere is one last room you haven't checked. It's very well decorated, with golden patterns lining the door. You have a terrible feeling that something powerful lies beyond that door.\n\n**You have unlocked the boss fight for School Basement B3!**").build(),vr("headmaster_event_1_triggered"));me("HeadmasterB3SchoolBasementUnlocker",(function(e,t){if(!pr(t,"headmaster_event_1_triggered")&&wl.canFightBoss(t))return ge(xl)}));var Cl=wl;function Rl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ol=new(function(e){gn()(n,e);var t=Rl(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"schoolBasementB2"}},{key:"getFloorName",value:function(){return"School Basement B2"}},{key:"getBoss",value:function(){return Zs}},{key:"isUnlocked",value:function(e){return pr(e,"school_basement_b2_unlocked")}},{key:"getBreedingLevel",value:function(){return 7}},{key:"getNextFloor",value:function(){return Cl}},{key:"getExplorationPossibilities",value:function(e){return[{weight:20,transforms:Us(Vs)},{weight:80,transforms:Us(Ys)},{weight:60,transforms:Us(fl)},{weight:60,transforms:Us(Ws)}]}}]),n}(Gs));function El(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Bl=new(function(e){gn()(n,e);var t=El(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"schoolBasementB1"}},{key:"getFloorName",value:function(){return"School Basement B1"}},{key:"getBoss",value:function(){return Ns}},{key:"isUnlocked",value:function(e){return!0}},{key:"getBreedingLevel",value:function(){return 2}},{key:"getExplorationPossibilities",value:function(e){return[{weight:100,transforms:Us(Vs)},{weight:40,transforms:Us(Ys)}]}},{key:"getNextFloor",value:function(){return Ol}}]),n}(Gs)),Ml=yu("evocation_intro",Ou("evocation_intro_1","(Storyline) Evocation").setSimpleDescription('As you continue fighting the animals that infest the school basement, you get a sudden realization. What if you actually used magic to fight back? You give it a try, and are easily able to fell one of those mice that pester you as you look around the basement.\n    \nThat was definitely powerful! You can\'t wait to go back and ask your researcher to start studying this. This is an entirely new school of magic of its own.\n\n**You have completed the "Evocation" storyline and have permanently unlocked the Evocation school! You may now do research on Evocation, which will let you learn damaging combat spells. This will persist even after restarting the game!**').build(),Dt(ft.Evocation));me("EvocationIntro",(function(e,t){if(!Pt(t).includes(ft.Evocation)&&oi(t,Bl.getId())>=10)return ge(Ml)})),Iu.register(new Pu("Evocation",(function(e){return Pt(e).includes(ft.Evocation)}),(function(e){return Pt(e).includes(ft.Evocation)}),"Defeat 10 monsters in School Basement B1","Evocation school unlocked",(function(e){return!0})));var Sl=Ml,Dl=yu("headmasters_staff",Ou("headmasters_staff_1","(Storyline) The Headmaster's Staff").setSimpleDescription('The researcher and the apprentice approach you. "We\'ve been thinking", starts saying the researcher. "You are the renowned headmaster of this institution, but you certainly don\'t look the part. You are missing a staff!", she exclaims. The apprentice nods in agreement.\n    \n"We can craft now. We should try our best to build an emblematic item for you. You deserve this!", she continues.\n\n"...Actually," interrupts the apprentice, "we cannot craft this on our own. It seems ironic, but you should definitely craft yourself a staff. I-it is painful for me to say, but a headmaster without a staff... is... somewhat uninspiring."').addOption("Craft a Headmaster's Staff (1500 Mana, 3500 Wood, Requires Conjuration Lv8)",Ou("headmasters_staff_2","(Storyline) The Headmaster's Staff").setSimpleDescription('You put together the staff and infuse it with a lot of mana. The apprentice and researcher watch you in awe. You produce a Headmaster\'s Staff!\n\n...Or is it? It still looks just like a normal magic staff.\n\nYour researcher cheers you on. "You should enchant it!", she says. "I\'m sure it will be great once you do!"').addOption("Enchant the Headmaster's Staff (1700 Mana, Requires Enchantment Lv9)",Ou("headmasters_staff_3","(Storyline) The Headmaster's Staff").setSimpleDescription('You pool together even more mana. The staff begins to shine! You feel the magical energies starting to roar. The apprentice jumps back as you cast the spell.\n            \nThe researcher keeps cheering. "This is working!", she screams with excitement. "Just a little more!"').addOption("Enchant the Headmaster's Staff (1900 Mana, Requires Enchantment Lv10)",Ou("headmasters_staff_4","(Storyline) The Headmaster's Staff").setSimpleDescription("This time, you focus deeply. You pool a ton of magical energy, and with one swift movement, you enchant the staff.\n\nA flash of light emanates from the staff for a split second and brightens the room! The staff glows brightly, starts rattling, then it gently begins floating towards you! The researcher and apprentice both look at it, with their mouths wide open.\n\nYou grip the staff... and somehow the power vanishes, without a trace?").addOption("Continue",Ou("headmasters_staff_5","(Storyline) The Headmaster's Staff").setSimpleDescription("You are confused. You leave the room, without saying anything to the researcher and the apprentice, and go back to your personal chamber. You put away the staff and look at it...\n                    \n*You are not worthy. You will never be worthy.* The voice resonates through your insides, but you don't know where it's coming from... Somehow, you got the feeling the staff *is* magically enchanted, but why can't you unlock its powers?\n\nYou decide to store it. Maybe a successor would be able to use it...\n\n**You have completed \"The Headmaster's Staff\" storyline! You will permanently be four times more efficient when gathering in future runs (after restarting the game).**").build()).build(),(function(e){return e=Tn(dn.Mana,-1900)(e),e=wr("headmasters_staff_completed")(e)}),void 0,(function(e){return Pn(e,dn.Mana)>=1900&&xt(e,ft.Enchantment)>=10})).addOption("Maybe later").build(),(function(e){return e=Tn(dn.Mana,-1700)(e)}),void 0,(function(e){return Pn(e,dn.Mana)>=1700&&xt(e,ft.Enchantment)>=9})).addOption("Maybe later").build(),(function(e){return e=Tn(dn.Mana,-1500)(e),e=Tn(dn.Wood,-3500)(e)}),void 0,(function(e){return Pn(e,dn.Mana)>=1500&&Pn(e,dn.Wood)>=3500&&xt(e,ft.Conjuration)>=8})).addOption("Maybe later").build(),vr("headmasters_staff_triggered"));Kr(Dl,20,(function(e){return pr(e,"inventory_unlocked")&&!pr(e,"headmasters_staff_triggered")&&!Rr(e,"headmasters_staff_completed")})),_([[Y.ManualGathering]],"HeadmastersStaff",r.Multiplier,(function(e){return Rr(e,"headmasters_staff_completed")?4:1})),Iu.register(new Pu("The Headmaster's Staff",(function(e){return Or(e,"headmasters_staff_completed")}),(function(e){return Rr(e,"headmasters_staff_completed")}),"There's a chance of this happening randomly if you have unlocked your inventory...","Manual gathering 4x more effective",(function(e){return!0})));var Pl=Dl;function Il(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Tl=new(function(e){gn()(r,e);var t=Il(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"batWing"}},{key:"getPicture",value:function(){return n(576)}},{key:"getBaseName",value:function(){return"Bat Wing"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"The clipped wing of a bat that you felled."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 36}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function _l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Yl=new(function(e){gn()(r,e);var t=_l(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"ratTail"}},{key:"getPicture",value:function(){return n(577)}},{key:"getBaseName",value:function(){return"Rat Tail"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"The tail of a mouse that you have slayed. Useful in Alchemy."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 24}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma)),Ql=Ou("magic_library_final","(Storyline) The Magic Library").setSimpleDescription('You follow the librarian to one of the furthest shelves in the room. He points to a section of the bookshelf.\n\n"These are my most valuable books. Choose one. Choose carefully - the old headmaster enchanted those books, so that the rest will vanish if you take one."').addOption("Take the Blue Tome",Ou("magic_library_f1","(Storyline) The Magic Library").setSimpleDescription('You take the Blue Tome from the shelf. The librarian bows at you deeply. "It was a pleasure to meet you, and to know that my library is now alive again." With a swoosh, he vanishes. You look back at the shelf where the tome was at and notice it is now empty.\n      \nYou pass the tome to your researcher, who opens it and looks at it for a while, but she seems troubled.\n\n"This book is way too advanced", she says. "It would probably take us a *lifetime* to understand what it says!"\n\nYou try to argue back with her, but you quickly realize she\'s being genuine.').addOption("Continue",Ou("magic_library_f1_2","(Storyline) The Magic Library").setSimpleDescription("You sigh, disappointed by the turn of events. However, you still ask her to look into the matter. You are hopeful that even if it doesn't benefit you, it'll serve a good purpose for someone else in the future...\n          \n**You have completed \"The Magic Library\" storyline by selecting the Blue Tome! In future runs, the knowledge from the tome will let you start the game with the Inventory, Crafting and Exploration features unlocked from the beginning!**").build(),wr("magic_library_blue_tome_taken")).build(),void 0,(function(e,t){return!Rr(e,"magic_library_blue_tome_taken")})).addOption("Take the Yellow Tome",Ou("magic_library_f2","(Storyline) The Magic Library").setSimpleDescription('You take the Yellow Tome from the shelf. The librarian bows at you deeply. "It was a pleasure to meet you, and to know that my library is now alive again." With a swoosh, he vanishes. You look back at the shelf where the tome was at and notice it is now empty.\n      \nYou pass the tome to your researcher, who opens it and looks at it for a while, but she seems troubled.\n\n"This book is way too advanced", she says. "It would probably take us a *lifetime* to understand what it says!"\n\nYou try to argue back with her, but you quickly realize she\'s being genuine.').addOption("Continue",Ou("magic_library_f2_2","(Storyline) The Magic Library").setSimpleDescription("You sigh, disappointed by the turn of events. However, you still ask her to look into the matter. You are hopeful that even if it doesn't benefit you, it'll serve a good purpose for someone else in the future...\n          \n**You have completed \"The Magic Library\" storyline by selecting the Yellow Tome! In future runs, the knowledge from the tome will let you be more efficient with storage, allowing you to store 20% more of every resource except :mana:Mana!**").build(),wr("magic_library_yellow_tome_taken")).build(),void 0,(function(e,t){return!Rr(e,"magic_library_yellow_tome_taken")})).addOption("Take the Green Tome",Ou("magic_library_f3","(Storyline) The Magic Library").setSimpleDescription('You take the Green Tome from the shelf. The librarian bows at you deeply. "It was a pleasure to meet you, and to know that my library is now alive again." With a swoosh, he vanishes. You look back at the shelf where the tome was at and notice it is now empty.\n      \nYou pass the tome to your researcher, who opens it and looks at it for a while, but she seems troubled.\n\n"This book is way too advanced", she says. "It would probably take us a *lifetime* to understand what it says!"\n\nYou try to argue back with her, but you quickly realize she\'s being genuine.').addOption("Continue",Ou("magic_library_f3_2","(Storyline) The Magic Library").setSimpleDescription("You sigh, disappointed by the turn of events. However, you still ask her to look into the matter. You are hopeful that even if it doesn't benefit you, it'll serve a good purpose for someone else in the future...\n          \n**You have completed \"The Magic Library\" storyline by selecting the Green Tome! In future runs, the knowledge from the tome will let you explore twice as fast!**").build(),wr("magic_library_green_tome_taken")).build(),void 0,(function(e,t){return!Rr(e,"magic_library_green_tome_taken")})).addOption("Take the Red Tome",Ou("magic_library_f4","(Storyline) The Magic Library").setSimpleDescription('You take the Red Tome from the shelf. The librarian bows at you deeply. "It was a pleasure to meet you, and to know that my library is now alive again." With a swoosh, he vanishes. You look back at the shelf where the tome was at and notice it is now empty.\n      \nYou pass the tome to your researcher, who opens it and looks at it for a while, but she seems troubled.\n\n"This book is way too advanced", she says. "It would probably take us a *lifetime* to understand what it says!"\n\nYou try to argue back with her, but you quickly realize she\'s being genuine.').addOption("Continue",Ou("magic_library_f4_2","(Storyline) The Magic Library").setSimpleDescription("You sigh, disappointed by the turn of events. However, you still ask her to look into the matter. You are hopeful that even if it doesn't benefit you, it'll serve a good purpose for someone else in the future...\n          \n**You have completed \"The Magic Library\" storyline by selecting the Red Tome! In future runs, the knowledge from the tome will grant you a permanent +100 Max:hp: and +0.1:hpRegen:/sec boost!**").build(),wr("magic_library_red_tome_taken")).build(),void 0,(function(e,t){return!Rr(e,"magic_library_red_tome_taken")})).build(),Vl=yu("magic_library",Ou("magic_library_1","(Storyline) The Magic Library").setSimpleDescription("As you delve through the corridors of the school basement, you encounter a large room, full of old books. Shelves and shelves of books are assembled in rows across the room.\n    \nYou walk between the shelves. The dust is thick. You take a peek at one of the books, but can't immediately deduce what it's about.\n\nYou decide to fetch your researcher and come back; you quickly head out of the basement, interrupt her, and ask her to come see the room.").addOption("Continue",Ou("magic_library_2","(Storyline) The Magic Library").setSimpleDescription('The researcher looks around the room, with clear interest.\n      \n"This looks like it used to be the library of the school, a very long time ago", she says. "There could be a ton of knowledge here, but we need to fix this place. There is just too much dust for this to be any useful."\n\nYou ready yourself to clear the dust with magic...').addOption("Conjure a breeze to clear the dust (2400 Mana)",Ou("magic_library_3","(Storyline) The Magic Library").setSimpleDescription('"A lot better!", you hear as you finish the spell, although it sounded quite odd. You turn to face your researcher and see her expression, but you don\'t find her looking at you. She is instead looking directly at a corner. You follow her gaze...\n          \n...and you find *a ghost, staring right back at you and moving towards you and your researcher!*').addOption("Continue",Ou("magic_library_4","(Storyline) The Magic Library").setSimpleDescription('You instinctively spring into a defensive position and ready yourself for combat. The ghost, however, stops in its tracks.\n              \nThe ghastly figure in front of you looks like the white silhouette of an old man, with a top hat, a mustache and a coat. It (he?) looks at you curiously.\n\n"Please, I mean no harm!", he begins to say. You realize the voice you had heard was actually from this ghost. You try to calm yourself down.').addOption("Continue",Ou("magic_library_5","(Storyline) The Magic Library").setSimpleDescription('"Let me introduce myself", he says. "I am the librarian of this magic school. Or at least, I *used to be,* back when I still had a body..." He sighs, with a sad expression on his ghastly face.\n                  \n"After the headmaster passed away, the place fell into disrepair. The students left. There was nobody left. But I couldn\'t bring myself to leave. I spent more than half of my life taking care of this very room. And now... this place is so full of monsters."').addOption("Continue",Ou("magic_library_6","(Storyline) The Magic Library").setSimpleDescription('"Can you do me a favor?", he asks you. "It would make me feel at peace to be able to see this place restored to how it was supposed to be. If you can exterminate the mice and bats around here, and bring me their tails and wings as proof, I can show you where some of the most powerful books are in this room."\n                        \n"100 Rat Tails and 100 Bat Wings should do the trick."').addOption("Hand over the tails and wings",Ou("magic_library_7","(Storyline) The Magic Library").setSimpleDescription('You hand over the materials. It sure took you a while to accumulate those...\n                          \nThe librarian ghost seems quite happy.\n\n"This is... I feel I can finally rest in peace now", he exclaims. You hear his voice breaking a bit as he says that.\n\n"Very well. Follow me."').addOption("Continue",Ql).build(),(function(e){return e=On(Yl,100,e),e=On(Tl,100,e)}),void 0,(function(e,t){return Rn(Yl,e)>=100&&Rn(Tl,e)>=100})).addOption("Maybe later").build()).build()).build()).build(),Tn(dn.Mana,-2400),void 0,(function(e,t){return Pn(e,dn.Mana)>=2400})).addOption("Maybe later").build()).build(),vr("magic_library_event_triggered"));for(var Fl in me("magic_library_blue_tome",(function(e,t){if(Rr(t,"magic_library_blue_tome_taken")&&(!pr(t,"exploration_unlocked")||!pr(t,"inventory_unlocked")))return function(e){return e=vr("exploration_unlocked")(e),e=vr("inventory_unlocked")(e)}})),Iu.register(new Pu("The Magic Library (Blue Tome)",(function(e){return Or(e,"magic_library_blue_tome_taken")}),(function(e){return Rr(e,"magic_library_blue_tome_taken")}),"There's a chance of this happening randomly if you are exploring the School Basement...","Start game with Inventory, Crafting and Exploration unlocked",(function(e){return!0}))),dn)Fl!=dn.Mana&&_([[Fl,Y.Cap]],Fl+"MagicLibraryYellowTome",r.Multiplier,(function(e){return Rr(e,"magic_library_yellow_tome_taken")?1.2:1}));Iu.register(new Pu("The Magic Library (Yellow Tome)",(function(e){return Or(e,"magic_library_yellow_tome_taken")}),(function(e){return Rr(e,"magic_library_yellow_tome_taken")}),"There's a chance of this happening randomly if you are exploring the School Basement...","+20% max of every resource except :mana:Mana",(function(e){return!0}))),_([[Y.ExplorationDelay]],"MagicLibraryGreenTomeExplorationDelay",r.Multiplier,(function(e){return Rr(e,"magic_library_green_tome_taken")?.5:1})),Iu.register(new Pu("The Magic Library (Green Tome)",(function(e){return Or(e,"magic_library_green_tome_taken")}),(function(e){return Rr(e,"magic_library_green_tome_taken")}),"There's a chance of this happening randomly if you are exploring the School Basement...","-50% Exploration delay",(function(e){return!0}))),_([[ko.Player,jo.MaxHP]],"MagicLibraryRedTomeMaxHP",r.Addition,(function(e){return Rr(e,"magic_library_red_tome_taken")?100:0})),_([[ko.Player,jo.MaxHP]],"MagicLibraryRedTomeHPRegen",r.Addition,(function(e){return Rr(e,"magic_library_red_tome_taken")?.1:0})),Iu.register(new Pu("The Magic Library (Red Tome)",(function(e){return Or(e,"magic_library_red_tome_taken")}),(function(e){return Rr(e,"magic_library_red_tome_taken")}),"There's a chance of this happening randomly if you are exploring the School Basement...","+100 Max:hp:, +0.1:hpRegen:",(function(e){return!0}))),Kr(Vl,30,(function(e){return!pr(e,"magic_library_event_triggered")&&Uo(e)!=W.None&&[Bl.getId(),Ol.getId(),Cl.getId()].includes(No(e).getId())&&(!Rr(e,"magic_library_blue_tome_taken")||!Rr(e,"magic_library_yellow_tome_taken")||!Rr(e,"magic_library_green_tome_taken")||!Rr(e,"magic_library_red_tome_taken"))}));var Nl=Vl,Ul=yu("statue",Ou("statue_1","(Storyline) The Statue").setSimpleDescription('You hear footsteps and turn around to see the researcher and the apprentice walking towards you.\n    \n"Good morning!", exclaims the researcher. "We were thinking", she continues, "that we should build a statue in campus. It would serve as a landmark and a way to make our institution unique."\n\nYou think it could be a great idea, but you know you will need a lot of materials...').addOption("Build a statue (Requires Lv11 Conjuration, 7200 Stone, 800 Iron)",Ou("statue_2","(Storyline) The Statue").setSimpleDescription("You put together all the stones and the iron and ready yourself to cast a spell to shape the new statue. You decide to...").addOption("Build a statue of the researcher (2000 Mana)",Ou("statue_3_researcher","(Storyline) The Statue").setSimpleDescription('You shape the materials creating a splitting image of the researcher. She gasps, surprised, and blushes in embarrassment.\n          \n"A statue of *myself*? Why?!", she pouts. You explain to her that magical research is the cornerstone to any respectable school, and by building a statue of her, you honor and highlight this fact. She is unconvinced by your argument, but you know better.\n\n**You have completed "The Statue" storyline by building a statue of the researcher! In future runs, your researchers will be inspired by this statue and work 50% faster!**').build(),(function(e){return e=Tn(dn.Mana,-2e3)(e),e=wr("researcher_statue_built")(e)}),(function(e){return!Rr(e,"researcher_statue_built")}),(function(e){return Pn(e,dn.Mana)>=2e3})).addOption("Build a statue of the apprentice (2000 Mana)",Ou("statue_3_apprentice","(Storyline) The Statue").setSimpleDescription('You shape the materials creating a splitting image of the apprentice. He stares at it with his mouth open; thankfully his newly built statue looks a lot more determined!\n          \n"W-Wow", he begins to say, but you can tell he is at a loss of words. Your decision, however, was very clear. Students are the soul of any school, and he was the very first one.\n\n**You have completed "The Statue" storyline by building a statue of the apprentice! In future runs, you will have an extra 2 apprentices right from when you unlock the feature, without the need to build housing!**').build(),(function(e){return e=Tn(dn.Mana,-2e3)(e),e=wr("apprentice_statue_built")(e)}),(function(e){return!Rr(e,"apprentice_statue_built")}),(function(e){return Pn(e,dn.Mana)>=2e3})).addOption("Build a statue of yourself (2000 Mana)",Ou("statue_3_headmaster","(Storyline) The Statue").setSimpleDescription('You shape the materials creating a splitting image of yourself. You stare at it: it looks glorious and you feel proud of it.\n          \n"Amazing", says the researcher. "This is the best way to honor our school - what can be better than a statue of our very leader?" The apprentice bows deeply as a show of respect.\n\n**You have completed "The Statue" storyline by building a statue of yourself! In future runs, the statue\'s presence will grant you an extra +2:mana:/sec and +200 Max:mana:!**').build(),(function(e){return e=Tn(dn.Mana,-2e3)(e),e=wr("headmaster_statue_built")(e)}),(function(e){return!Rr(e,"headmaster_statue_built")}),(function(e){return Pn(e,dn.Mana)>=2e3})).build(),(function(e){return e=Tn(dn.Stone,-7200)(e),e=Tn(dn.Iron,-800)(e)}),void 0,(function(e){return xt(e,ft.Conjuration)>=11&&Pn(e,dn.Stone)>=7200&&Pn(e,dn.Iron)>=800})).build(),vr("statue_event_triggered"));_([[Y.Research]],"ResearcherStatueResearch",r.Multiplier,(function(e){return Rr(e,"researcher_statue_built")?1.5:1})),Iu.register(new Pu("The Statue (Researcher)",(function(e){return Or(e,"researcher_statue_built")}),(function(e){return Rr(e,"researcher_statue_built")}),"There's a chance of this happening randomly if your inventory is unlocked...","+50% Research speed",(function(e){return!0}))),_([[Y.Apprentice]],"ApprenticeStatue",r.Addition,(function(e){return Rr(e,"apprentice_statue_built")?2:0})),Iu.register(new Pu("The Statue (Apprentice)",(function(e){return Or(e,"apprentice_statue_built")}),(function(e){return Rr(e,"apprentice_statue_built")}),"There's a chance of this happening randomly if your inventory is unlocked...","Start runs with 2 extra apprentices",(function(e){return!0}))),_([[dn.Mana,Y.Cap]],"HeadmasterStatue",r.Addition,(function(e){return Rr(e,"headmaster_statue_built")?200:0})),H("headmaster_statue",(function(e,t){if(Rr(e,"headmaster_statue_built")){var n=V([dn.Mana,Y.Production],e,2);e=Tn(dn.Mana,t*n)(e)}return e})),Iu.register(new Pu("The Statue (Headmaster)",(function(e){return Or(e,"headmaster_statue_built")}),(function(e){return Rr(e,"headmaster_statue_built")}),"There's a chance of this happening randomly if your inventory is unlocked...","+200 Max:mana:, +2:mana:/sec",(function(e){return!0}))),Kr(Ul,20,(function(e){return!pr(e,"statue_event_triggered")&&pr(e,"inventory_unlocked")&&(!Rr(e,"researcher_statue_built")||!Rr(e,"apprentice_statue_built")||!Rr(e,"headmaster_statue_built"))}));var Gl=Ul,Hl=n(57),Wl=n.n(Hl);function Ll(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Jl=function(e){gn()(n,e);var t=Ll(n);function n(){var e;return C()(this,n),e=t.call(this),Nt(Wl()(e)),An(Wl()(e)),e}return O()(n,[{key:"getElement",value:function(){}},{key:"getTags",value:function(){var e=[].concat(D()(ac()(vn()(n.prototype),"getTags",this).call(this)),[Y.Spell],D()(Object.keys(this.getSchoolLevelRequirements()))),t=this.getElement();return t&&e.push(t),e}},{key:"getName",value:function(){return this.getSpellName()}},{key:"getCost",value:function(e){return{resources:{Mana:V([].concat(D()(this.getTags()),[Y.Cost,dn.Mana]),e,this.getManaCost(e))},items:{}}}},{key:"getDisplayName",value:function(e){var t,r=(null==e||null==(t=e.lastSpellCastTimes)?void 0:t[this.getSpellName()])||0;if(r>0){var o=r+this.getCooldown(e)-ne(e);if(o>0)return this.getName()+" ("+rn(o,{showDecimals:!0})+" sec)"}return ac()(vn()(n.prototype),"getDisplayName",this).call(this,e)}},{key:"getCategory",value:function(){return"Spells"}},{key:"getBaseCooldown",value:function(){return 0}},{key:"getCooldown",value:function(e){return V([].concat(D()(this.getTags()),[Y.SpellCooldown]),e,this.getBaseCooldown())}},{key:"isVisible",value:function(e){return Vt(e,this.getSchoolLevelRequirements())}},{key:"isEnabled",value:function(e){var t,r=(null==e||null==(t=e.lastSpellCastTimes)?void 0:t[this.getSpellName()])||0;return!(r>0&&ne(e)<r+this.getCooldown(e))&&(!Hr(e,"SilencePlayer")&&!Hr(e,"PlayerStun")&&(!(V([].concat(D()(this.getTags()),[Y.CanCastSpell]),e,1)<=0)&&ac()(vn()(n.prototype),"isEnabled",this).call(this,e)))}},{key:"doAction",value:function(e,t){if(!this.canAfford(t))return t;var n=this.getCost(t);Object.keys(n.resources).forEach((function(e){var r,o;t=Tn(e,-(null!=(r=null==n||null==(o=n.resources)?void 0:o[e])?r:0))(t)}));var r=this.getSchoolLevelRequirements();return Object.keys(r).forEach((function(e){t=Rt(e,3*(r[e]||-4)+12)(t)})),e.isAutomatic||(t=function(e){return Wt.bind(this,e)}(this)(t)),t=Jt(this)(t),this.doSpellAction(t)}}]),n}(_n);function Zl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var zl=new(function(e){gn()(n,e);var t=Zl(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Time Dilation"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Slow down the passage of time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:30,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"Time moves at "+rn(1/t.magnitude,{showDecimals:!0})+"x speed for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 510}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:14}}}]),n}(Jl));_([[Y.GameSpeed]],"TimeDilationGameSpeed",r.Multiplier,(function(e){return Hr(e,"Time Dilation")?1/zl.getActionEffects(e).magnitude:1}));var Xl=zl,ql=Ru("time_ritual","(Storyline) The Time Ritual");ql.setOnTrigger(vr("time_ritual_triggered")).createMessage().setSimpleDescription('As you look at the :timepiece:Time Pieces you have accumulated, your researcher and apprentice surprise you, holding a large scroll.\n  \n"Those t-time pieces... they are the same, aren\'t they." The apprentice is looking at the scroll, pointing at a drawing of something on it.').addOption("Continue",ql.createMessage().setSimpleDescription('"Headmaster, we have found instructions for a strange ritual," says your researcher, looking at you intently. "With enough mana and time pieces, it should be possible to bend time to our will."\n\nThe prospect is tempting. You lean over and look at the scroll - and you see there is not just one set of instructions, but three.\n\nYou glance at your apprentice. You are going to need help with the ritual.').addOption("Do the ritual to hoard more time (2500 Mana, 25K Time Pieces)",{transform:function(e){return e=Tn(dn.Mana,-2500)(e),e=Tn(dn.TimePieces,-25e3)(e)},isEnabled:function(e){return Pn(e,dn.Mana)>=2500&&Pn(e,dn.TimePieces)>=25e3},isVisible:function(e){return!Or(e,"hoard_time_ritual_finished")}},ql.createMessage().setSimpleDescription("You move to a large room while carrying a lot of Time Pieces, together with your apprentice and researcher. You place the Time Pieces in the middle of the room, and together with your apprentice, you start chanting.\n\nImages of an empty room fill your vision. Then a time piece appears and falls into the room. Then another one. Then two more. Then ten more. And more, and more. So many time pieces. They pile up in the center, reach the ceiling, but they continue to grow until the walls of the room. And they keep coming. You are trapped in between time pieces, and there is no escape. You feel your consciousness fading...").addOption("Continue",{transform:wr("hoard_time_ritual_finished")},ql.createMessage().setSimpleDescription('When you come to, you are where you started, looking at your Time Pieces. Except there are no time pieces. You feel odd. You hear the researcher calling for you from behind, and turn around to see her and the apprentice calling you for supper, as if nothing had happened.\n\nDid the ritual work? You aren\'t sure, but something does seem different...\n\n**You have completed the "The Time Ritual" storyline! In future runs, you will be able to store 70K more :timepiece:Time Pieces!**'))).addOption("Do the ritual to make time pass faster (3500 Mana, 25K Time Pieces)",{transform:function(e){return e=Tn(dn.Mana,-3500)(e),e=Tn(dn.TimePieces,-25e3)(e)},isEnabled:function(e){return Pn(e,dn.Mana)>=3500&&Pn(e,dn.TimePieces)>=25e3},isVisible:function(e){return!Or(e,"speed_up_time_ritual_finished")}},ql.createMessage().setSimpleDescription("You move to a large room while carrying a lot of Time Pieces, together with your apprentice and researcher. You place the Time Pieces in the middle of the room, and together with your apprentice, you start chanting.\n\nImages of all the time you have spent at the campus flash before your eyes. They seem unnaturally sped up. They get more vivid, until you can no longer see anything else except them. They continue getting faster and faster and you start feeling overwhelmed. You feel your consciousness fading...").addOption("Continue",{transform:wr("speed_up_time_ritual_finished")},ql.createMessage().setSimpleDescription('When you come to, you are where you started, looking at your Time Pieces. Except there are no time pieces. You feel odd. You hear the researcher calling for you from behind, and turn around to see her and the apprentice calling you for supper, as if nothing had happened.\n\nDid the ritual work? You aren\'t sure, but something does seem different...\n\n**You have completed the "The Time Ritual" storyline! In future runs, consuming :timepiece:Time Pieces will speed up the time by four times instead of by two times!**'))).addOption("Do the ritual to make time pass slower (4500 Mana, 25K Time Pieces)",{transform:function(e){return e=Tn(dn.Mana,-4500)(e),e=Tn(dn.TimePieces,-25e3)(e)},isEnabled:function(e){return Pn(e,dn.Mana)>=4500&&Pn(e,dn.TimePieces)>=25e3},isVisible:function(e){return Xl.isVisible(e)&&!Or(e,"time_dilation_time_ritual_finished")}},ql.createMessage().setSimpleDescription("You move to a large room while carrying a lot of Time Pieces, together with your apprentice and researcher. You place the Time Pieces in the middle of the room, and together with your apprentice, you start chanting.\n\nImages of all the time you have spent at the campus flash before your eyes. Or at least, that's what it seems, because movement seems to be in comically slow motion. You stare at your researcher in those images, who is introducing herself when you first met her, but her mouth moves ever so slow, and it becomes slower and slower. Unbearably slow. You feel your consciousness fading...").addOption("Continue",{transform:wr("time_dilation_time_ritual_finished")},ql.createMessage().setSimpleDescription('When you come to, you are where you started, looking at your Time Pieces. Except there are no time pieces. You feel odd. You hear the researcher calling for you from behind, and turn around to see her and the apprentice calling you for supper, as if nothing had happened.\n\nDid the ritual work? You aren\'t sure, but something does seem different...\n\n**You have completed the "The Time Ritual" storyline! In future runs, the "Time Dilation" spell will cost 0:mana:!**'))).addOption("Do the ritual to convert into more research (5500 Mana, 25K Time Pieces)",{transform:function(e){return e=Tn(dn.Mana,-5500)(e),e=Tn(dn.TimePieces,-25e3)(e)},isEnabled:function(e){return Pn(e,dn.Mana)>=5500&&Pn(e,dn.TimePieces)>=25e3},isVisible:function(e){return Xl.isVisible(e)&&!Or(e,"research_time_ritual_finished")}},ql.createMessage().setSimpleDescription("You move to a large room while carrying a lot of Time Pieces, together with your apprentice and researcher. You place the Time Pieces in the middle of the room, and together with your apprentice, you start chanting.\n\nA room full of books. You spot your researcher. She seems to be frantically doing a lot of work. Faster and faster. The books pile up in front of her as she moves and reads in impossible speeds. It continues to get faster and the books continue to pile up until you can no longer see. You feel your consciousness fading...").addOption("Continue",{transform:wr("research_time_ritual_finished")},ql.createMessage().setSimpleDescription('When you come to, you are where you started, looking at your Time Pieces. Except there are no time pieces. You feel odd. You hear the researcher calling for you from behind, and turn around to see her and the apprentice calling you for supper, as if nothing had happened.\n\nDid the ritual work? You aren\'t sure, but something does seem different...\n\n**You have completed the "The Time Ritual" storyline! In future runs, the "Use Time Pieces" button under "Research" will give 2.5x more experience!**')))),Iu.register(new Pu("The Time Ritual (Hoard Time)",(function(e){return Or(e,"hoard_time_ritual_finished")}),(function(e){return Rr(e,"hoard_time_ritual_finished")}),"There's a chance of this happening randomly if you have unlocked Research, Apprentices, and you have 10K:timepiece:...","+70K Max:timepiece:",(function(e){return!0}))),Iu.register(new Pu("The Time Ritual (Speed Up)",(function(e){return Or(e,"speed_up_time_ritual_finished")}),(function(e){return Rr(e,"speed_up_time_ritual_finished")}),"There's a chance of this happening randomly if you have unlocked Research, Apprentices, and you have 10K:timepiece:...","2x Time Piece speedup",(function(e){return!0}))),Iu.register(new Pu("The Time Ritual (Slow Down)",(function(e){return Or(e,"time_dilation_time_ritual_finished")}),(function(e){return Rr(e,"time_dilation_time_ritual_finished")}),"There's a chance of this happening randomly if you have unlocked Research, Apprentices, and you have 10K:timepiece:...",'"Time Dilation" spell costs 0:mana:',(function(e){return!0}))),Iu.register(new Pu("The Time Ritual (Research)",(function(e){return Or(e,"research_time_ritual_finished")}),(function(e){return Rr(e,"research_time_ritual_finished")}),"There's a chance of this happening randomly if you have unlocked Research, Apprentices, and you have 10K:timepiece:...",'"Use Time Pieces" inside "Research" gives 2.5x Exp',(function(e){return!0}))),_([[dn.TimePieces,Y.Cap]],"TimeRitualCap",r.Addition,(function(e){return Rr(e,"hoard_time_ritual_finished")?7e4:0})),_([[Y.GameSpeed]],"TimeRitualGameSpeed",r.Multiplier,(function(e){return Rr(e,"speed_up_time_ritual_finished")&&pr(e,"time_piece_speedup_enabled")?2:1})),_([[Xl.getName(),Y.Cost]],"TimeRitualDilationCost",r.Multiplier,(function(e){return Rr(e,"time_dilation_time_ritual_finished")?0:1})),_([[Y.TimePiecePerResearch]],"TimeRitualResearchCost",r.Multiplier,(function(e){return Rr(e,"research_time_ritual_finished")?.5:1}));var Kl=ql.build();Kr(Kl,15,(function(e){return!pr(e,"time_ritual_triggered")&&Pn(e,dn.TimePieces)>1e4&&pr(e,"research_unlocked")&&pr(e,"autocast_unlocked")&&(!Rr(e,"hoard_time_ritual_finished")||!Rr(e,"speed_up_time_ritual_finished")||!Rr(e,"research_time_ritual_finished")||!Rr(e,"time_dilation_time_ritual_finished")&&Xl.isVisible(e))}));var $l=Kl;function ef(){ue(Es),ue(js),ue(xs),ue(Ds),ue(Rs),ue(Pl),ue(Is),ue(Gl),ue(Sl),ue(Nl),ue($l),Mu(),eo(),function(){var e=Ru("RandomSpoutEvents_Staff","Found a staff!");e.createMessage().setSimpleDescription("A staff was found on the ground.").addOption("Pick up",{transform:Tn(dn.Mana,-100)},e.createMessage().setSimpleDescription("You pick up the staff. It's cursed! You feel your mana getting drained.")).addOption("Destroy",e.createMessage().setSimpleDescription("You destroy the staff. Wonder what it could have been...")),Kr(e.build(),10),Kr(yu("RandomSpoutEvents_2",Ou("RandomSpoutEvents_2","The Mana Spouts are Bursting!").setSimpleDescription("It looks like our mana spouts are suddenly bursting with activity and producing Mana twice as fast!").build(),Jr("Mana Spouts bursting with activity!","Mana Spouts bursting with activity!",180,{})),100,(function(e){return Vn(e,Xc)>0})),_([[Xc.getName(),Y.Production]],"ManaSpoutsBurstingWithActivity",r.Multiplier,(function(e){return Hr(e,"Mana Spouts bursting with activity!")?2:1})),Kr(yu("RandomSpoutEvents_3",Ou("RandomSpoutEvents_3","Bandits!").setSimpleDescription("*Oh no!* It looks like bandits have looted one of your vaults! You notice a significant amount of coins missing. Frustrated, you hope to catch them next time...\n        \n**You lose {coins}:coins:!**").build(),(function(e,t){return Tn(dn.Coins,-t.coins)(e)})),100,(function(e){return Vn(e,ys)>0}),(function(e){return{coins:Math.floor(Pn(e,dn.Coins)*(.15+.2*Math.random()))}}));var t=function(e){Kr(yu("RandomSpoutEvents_8_"+e,Ou("RandomSpoutEvents_8_"+e,"Old Book of "+e).setSimpleDescription("One of your researchers seems to have come across a dusty book. The book seems to contain knowledge about "+e+". Thrilled, your researchers get back to work with the new knowledge.\n  \n  **You gain {exp} "+e+" experience!**").build(),(function(t,n){return Rt(e,n.exp)(t)})),30,(function(t){return pr(t,"research_unlocked")&&Pt(t).includes(e)}),(function(t){return{exp:Math.floor(100*(.9+.2*Math.random())*Math.pow(1.35,xt(t,e)))}}))};for(var n in ft)t(n);Kr(yu("RandomSpoutEvents_9",Ou("RandomSpoutEvents_9","A Pile of Wood").setSimpleDescription("You stumble upon a pile of wood as you walk through campus. You are not sure why it's there, but it seems misplaced. You decide to take it.\n        \n**You obtain {amount}:wood:!**").build(),(function(e,t){return Tn(dn.Wood,t.amount)(e)})),100,(function(e){return pr(e,"gather_wood_unlocked")&&Vn(e,Vc)>0}),(function(e){return{amount:Math.floor(350+(Sn(e,dn.Wood)-350)*Math.random())}})),Kr(yu("RandomSpoutEvents_10",Ou("RandomSpoutEvents_10","A Pile of Stone").setSimpleDescription("You find a pile of stone as you walk through campus. You are not sure why it's there, but it seems misplaced. You decide to take it.\n        \n**You obtain {amount}:stone:!**").build(),(function(e,t){return Tn(dn.Stone,t.amount)(e)})),100,(function(e){return Vn(e,Vc)>0}),(function(e){return{amount:Math.floor(350+(Sn(e,dn.Stone)-350)*Math.random())}})),Kr(yu("RandomSpoutEvents_11",Ou("RandomSpoutEvents_11","A traveling merchant appeared").setSimpleDescription('A traveling merchant crosses the campus doors and waves at you.\n\n"Hello!", he exclaims. "I\'m interested in buying {stoneCost} stones. I\'m willing to pay {coinCost} coins for them. Would you like to sell me some?"').addOption("Sell an illusion of {stoneCost} stones (150 Mana)",Ou("RandomSpoutEvents_11_1","A traveling merchant appeared").setSimpleDescription('You use your Illusion knowledge to trick the merchant and give him {stoneCost} fake stones. The merchant falls for it!\n          \n"Here are your coins", he says. "Nice doing business with you!". He walks away afterwards.\n\nHe will be in for a surprise later, but you are happy you got the coins!').build(),(function(e,t){return e=Tn(dn.Mana,-150)(e),e=Tn(dn.Coins,t.coinCost)(e)}),(function(e){return xt(e,ft.Illusion)>=3}),(function(e){return Pn(e,dn.Mana)>=150})).addOption("Sell {stoneCost} stones",Ou("RandomSpoutEvents_11_2","A traveling merchant appeared").setSimpleDescription('You give the merchant the {stoneCost} stones. He happily takes them.\n          \n"Here are your coins", he says. "Nice doing business with you!". He walks away afterwards.').build(),(function(e,t){return e=Tn(dn.Stone,-t.stoneCost)(e),e=Tn(dn.Coins,t.coinCost)(e)}),void 0,(function(e,t){return Pn(e,dn.Stone)>=t.stoneCost})).addOption("Decline",Ou("RandomSpoutEvents_11_3","A traveling merchant appeared").setSimpleDescription("You decline the transaction. These stones seem more valuable to you. The traveling merchant acknowledges you, and decides to leave.").build()).build()),50,(function(e){return Sn(e,dn.Stone)>=600}),(function(e){var t=300+Math.floor((Sn(e,dn.Stone)-300)*Math.random());return{stoneCost:t,coinCost:Math.floor(1250*t/300)}})),Kr(yu("RandomSpoutEvents_12",Ou("RandomSpoutEvents_12","Your Researchers are Inspired!").setSimpleDescription("Your researchers seem to have a burst of inspiration! They will be studying twice as hard for a short time.").build(),Jr("Your researchers are inspired!","Your researchers are inspired!",300,{})),100,(function(e){return pr(e,"research_unlocked")})),_([[Y.Research]],"ResearcherInspiration",r.Multiplier,(function(e){return Hr(e,"Your researchers are inspired!")?2:1}))}(),function(){var e=yu("RandomOneTimeCampusEvents_1",Ou("RandomOneTimeCampusEvents_1","Divine my Future").setSimpleDescription('A young woman, dressed as a wizarding apprentice shows up on campus with a crystal ball.\n    \n"Headmaster, your magical prowess is known far and wide", she says. "Crystal balls are important magical artifacts that can be used to know the future. I would like to know my own destiny, but my skill is not strong enough. Perhaps you can help me...?" she asks, looking at you.').addOption("Pretend to read the future (300 Mana)",Ou("RandomOneTimeCampusEvents_1_1","Divine my Future").setSimpleDescription('You utilize your Illusion prowess to create a fuzzy image inside the crystal ball. You pretend to be focused in divining the future as the apprentice watches in awe.\n          \nAs the illusion runs its course, you appear to exit your trance. You tell the woman that she is destined to learn magic and refine her powers at your institution. As much of a lie as it was, she falls for it.\n\n"Wow... so that\'s really my destiny", she says, while lost in thought. "Then I should comply. ...I-I know that if you go against destiny, you will never be able to be successful... ...Can I stay here and study magic?", she asks. You nod.\n\n**You have obtained an extra apprentice!**').build(),(function(e){return e=Tn(dn.Mana,-300)(e),e=vr("RandomOneTimeCampusEvents_1_ResearcherJoined")(e)}),(function(e){return xt(e,ft.Illusion)>=3}),(function(e){return Pn(e,dn.Mana)>=300})).addOption("Decline",Ou("RandomOneTimeCampusEvents_1_2","Divine my Future").setSimpleDescription("You decline her request. Sad, she thanks you, and leaves.").build()).build(),vr("RandomOneTimeCampusEvents_1_triggered"));_([[Y.Apprentice]],"RandomOneTimeCampusEvents_1_ApprenticeJoined",r.Addition,(function(e){return pr(e,"RandomOneTimeCampusEvents_1_ResearcherJoined")?1:0})),Kr(e,80,(function(e){return!pr(e,"RandomOneTimeCampusEvents_1_triggered")}));var t=Ou("RandomOneTimeCampusEvents_1_x_1","A traveling merchant appeared").setSimpleDescription('"Great doing business with you!", he exclaims, taking your coins. Placing the pebble back inside the bag, he hands over the bag to you.\n      \n  This magical stone will come in handy!').build(),n=Ou("RandomOneTimeCampusEvents_1_x_2","A traveling merchant appeared").setSimpleDescription('"That\'s too bad", he says, putting the stone back in the bag. "Have a good day!", he exclaims while turning back and leaving the campus.').build();Kr(yu("RandomOneTimeCampusEvents_2",Ou("RandomOneTimeCampusEvents_2","A traveling merchant appeared").setSimpleDescription('A traveling merchant appears at the campus gates and approaches you. "Look at this", he says, while getting a moist bag out from his pockets. He opens the bag, and shows you a small stone. You notice the stone seems to be emanating water.\n      \n"This pebble magically produces water", he says. "This might be useful to you. It can be yours for 1500 coins. Would you like to purchase it?"').addOption("Charm the merchant (400 Mana)",Ou("RandomOneTimeCampusEvents_1_2","A traveling merchant appeared").setSimpleDescription("You use your Illusion prowess to charm the merchant into thinking positively about you. Without noticing, he says: \"Actually... 1500 coins is quite a high price. I'd be happy to give you a *very* good deal. I can't go lower than 150 coins, though. Are you interested?").addOption("Buy the pebble",t,(function(e){return e=Tn(dn.Coins,-150)(e),e=vr("RandomOneTimeCampusEvents_2_bought")(e)}),void 0,(function(e){return Pn(e,dn.Coins)>=150})).addOption("Decline",n,kr("RandomOneTimeCampusEvents_2_bought")).build(),Tn(dn.Mana,-400),(function(e){return xt(e,ft.Illusion)>=3}),(function(e){return Pn(e,dn.Mana)>=400})).addOption("Buy the pebble",t,(function(e){return e=Tn(dn.Coins,-1500)(e),e=vr("RandomOneTimeCampusEvents_2_bought")(e)}),void 0,(function(e){return Pn(e,dn.Coins)>=1500})).addOption("Decline",n,kr("RandomOneTimeCampusEvents_2_bought")).build(),vr("RandomOneTimeCampusEvents_2_triggered")),80,(function(e){return!pr(e,"RandomOneTimeCampusEvents_2_triggered")})),H("RandomOneTimeCampusEvents_2_bought",(function(e,t){return pr(e,"RandomOneTimeCampusEvents_2_bought")&&(e=Tn(dn.Water,t)(e)),e}))}()}function tf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var nf=new(function(e){gn()(n,e);var t=tf(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Wool Farm"}},{key:"getMonstiumCost",value:function(){return 600}},{key:"getDisplayDescription",value:function(e){return"Adds a section of the school dedicated to raising sheep for wool."}},{key:"getDisplayEffect",value:function(e){return'Unlocks "Wool Farm" exploration area'}},{key:"getUpgradeRequirements",value:function(){return[]}}]),n}(Tc));function rf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var of=new(function(e){gn()(n,e);var t=rf(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Wool Farm Expansion"}},{key:"getMonstiumCost",value:function(){return 17500}},{key:"getDisplayDescription",value:function(e){return"Expands the Wool Farm to be able to find and fight Enchanted Sheep."}},{key:"getDisplayEffect",value:function(e){return'Unlocks "Magical Pen" exploration area inside "Wool Farm"'}},{key:"getUpgradeRequirements",value:function(){return[nf]}}]),n}(Tc));function af(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var uf=new(function(e){gn()(r,e);var t=af(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"enchantedSheep"}},{key:"getName",value:function(){return"Enchanted Sheep"}},{key:"getPicture",value:function(){return n(578)}},{key:"getBaseStats",value:function(){return{maxHP:1600,defense:48,attack:73,attackDelay:1.5,dodgeChance:.1,critChance:.02}}},{key:"getNextAction",value:function(e){var t=this;if(Math.random()<.01)return{name:"Hop Around",delay:this.getAttackDelay(e),transform:function(e){return e}};return Math.random()<.1?{name:"Charge!",delay:2*this.getAttackDelay(e),transform:function(e){return ti(e,1,2*t.getAttack(e))}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 1660}},{key:"getMonstiumAwarded",value:function(e){return 136}},{key:"getItemsAwarded",value:function(e){return[{itemId:"manaRegenerationPotion",chance:.02,amount:1},{itemId:"magicWool",chance:1,amount:1}]}}]),r}(Ts));function cf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var sf=function(e){gn()(r,e);var t=cf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"blackSheep"}},{key:"getName",value:function(){return"Black Sheep"}},{key:"getPicture",value:function(){return n(579)}},{key:"getBaseStats",value:function(){return{maxHP:6e4,defense:350,attack:320,attackDelay:1.2,dodgeChance:.1,critChance:.02}}},{key:"getNextAction",value:function(e){var t=this;if(Math.random()<.01)return{name:"Hop Around",delay:this.getAttackDelay(e),transform:function(e){return e}};return Math.random()<.3?{name:"Charge!",delay:2*this.getAttackDelay(e),transform:function(e){return ti(e,1.2,3*t.getAttack(e))}}:{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1.2,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 99999}},{key:"getMonstiumAwarded",value:function(e){return 3500}},{key:"getItemsAwarded",value:function(e){return[{itemId:"blackWool",chance:1,amount:1},{itemId:"bookOfDivineKnowledge",chance:.5,amount:1}]}}]),r}(Ts);me("blackSheepEncountered",(function(e,t){if(Uo(e)!=W.Combat&&Uo(t)==W.Combat&&"blackSheep"===bo(t).getId())return Jr("EnemyStunPrevention","Stun Protection",600,{combatOnly:!0,isEnemyTemporaryEffect:!0})}));var lf=new sf;function ff(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Af=new(function(e){gn()(n,e);var t=ff(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"theSpecialStockade"}},{key:"getFloorName",value:function(){return"Wool Farm - The Special Stockade"}},{key:"getExplorationRequiredTimeSec",value:function(){return 20}},{key:"_getExplorationSuccessesForBoss",value:function(){return 0}},{key:"getBoss",value:function(){}},{key:"getBreedingLevel",value:function(){return 49}},{key:"isUnlocked",value:function(e){return of.isPurchased(e)}},{key:"getExplorationPossibilities",value:function(e){return[{weight:100,transforms:Us(lf)}]}},{key:"getNextFloor",value:function(){}}]),n}(Gs));function df(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var hf=new(function(e){gn()(n,e);var t=df(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"theMagicalPen"}},{key:"getFloorName",value:function(){return"Wool Farm - The Magical Pen"}},{key:"getExplorationRequiredTimeSec",value:function(){return 10}},{key:"_getExplorationSuccessesForBoss",value:function(){return 0}},{key:"getBoss",value:function(){}},{key:"getBreedingLevel",value:function(){return 28}},{key:"isUnlocked",value:function(e){return of.isPurchased(e)}},{key:"getExplorationPossibilities",value:function(e){return[{weight:100,transforms:Us(uf)}]}},{key:"getNextFloor",value:function(){return Af}}]),n}(Gs));function gf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var yf=new(function(e){gn()(n,e);var t=gf(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"theCorral"}},{key:"getFloorName",value:function(){return"Wool Farm - The Corral"}},{key:"getExplorationRequiredTimeSec",value:function(){return 6}},{key:"_getExplorationSuccessesForBoss",value:function(){return 0}},{key:"getBoss",value:function(){}},{key:"getBreedingLevel",value:function(){return 8}},{key:"isUnlocked",value:function(e){return!0}},{key:"getExplorationPossibilities",value:function(e){return[{weight:100,transforms:Us(Ws)}]}},{key:"getNextFloor",value:function(){return hf}}]),n}(Gs)),pf=O()((function e(){C()(this,e)}));function mf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var vf=new(function(e){gn()(n,e);var t=mf(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"woolFarm"}},{key:"getName",value:function(){return"Wool Farm"}},{key:"getDungeonFloors",value:function(){return[yf,hf,Af]}},{key:"isUnlocked",value:function(e){return nf.isPurchased(e)}}]),n}(pf));function bf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var kf=new(function(e){gn()(n,e);var t=bf(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getId",value:function(){return"schoolBasement"}},{key:"getName",value:function(){return"School Basement"}},{key:"getDungeonFloors",value:function(){return[Bl,Ol,Cl]}},{key:"isUnlocked",value:function(e){return!0}}]),n}(pf));function jf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var wf=new(function(e){gn()(r,e);var t=jf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"mimic"}},{key:"getName",value:function(){return"Mimic"}},{key:"getPicture",value:function(){return n(580)}},{key:"getBaseStats",value:function(){return{maxHP:1200,defense:40,attack:48,attackDelay:2.2,dodgeChance:0,critChance:0}}},{key:"getNextAction",value:function(e){var t=this;return{name:"Attack",delay:this.getAttackDelay(e),transform:function(e){return ti(e,1,t.getAttack(e))}}}},{key:"getCoinsAwarded",value:function(e){return 1e6}},{key:"getMonstiumAwarded",value:function(e){return 99}},{key:"getItemsAwarded",value:function(){return[]}},{key:"onDeath",value:function(e,t){e=ac()(vn()(r.prototype),"onDeath",this).call(this,e,t);var n=Object.values(e.eventOccurrences).find((function(e){return"mimic_event_1"==e.eventId}));return n&&(e.eventOccurrences[n.eventOccurrenceId].currentMessageId="mimic_event_2",e.eventOccurrences[n.eventOccurrenceId].timestamp=Date.now(),e=Ae(n.eventOccurrenceId)(e)),wr("mimic_defeated")(e)}}]),r}(Ts)),xf=Ou("mimic_event_1","(Storyline) The Mimic").setSimpleDescription("As you explore through the school basement, you find a peculiar treasure chest. You can see teeth coming out of the opening. It's a mimic!\n  \nYou know mimics are very dangerous monsters, but you are aware that they also hold amazing treasures inside...").addOption("Fight the Mimic",void 0,(function(e){return e.exploration||(e.exploration=z),e.exploration.currentDungeonFloorId=Ol.getId(),e=Ye(e,"goToExploration"),e=Ye(e,"closeAllMenus"),e=Ye(e,"closeEventOverlay"),e=Ho(wf)(e)})).addOption("Maybe later").build();Ou("mimic_event_2","(Storyline) The Mimic").setSimpleDescription("You defeat the mimic with your overwhelming strength! You inspect its corpse and manage to loot a vast amount of coins!\n  \nHowever, before you can finish, the mimic suddenly jumps back and flees at an amazing speed. Your eyes can barely follow where it went! You decide pursuing is fruitless...\n\nMaybe you will encounter it some other time?").build();Kr(yu("mimic_event_1",xf,vr("mimic_event_1_triggered")),20,(function(e){return!pr(e,"mimic_event_1_triggered")&&Uo(e)!=W.None&&(No(e).getId()==Ol.getId()||No(e).getId()==Cl.getId())&&!Rr(e,"mimic_defeated")}));var Cf=yu("mimic_event_2",Ou("mimic_event_3","(Storyline) The Mimic").setSimpleDescription('You enter the new campus building, only to find a toothed treasure chest right in the middle of the main hall! As you prepare to run or fight, the chest... starts speaking!\n  \n"M-M-Massssster", it says, with a hideous voice. "You are sssssstrong... pleassssse don\'t hurt me again. I can help you..." Then, it spits out a small amount of coins.\n\n"I will make coinssssss... for you..."\n\nIt\'s odd, but the mimic doesn\'t seem to be aggressive. You cautiously pick up the coins and nod to the mimic. A treasure chest that creates coins... this might be helpful!\n\n**You have completed "The Mimic" storyline! You will permanently gain +5:coins:/sec. This will persist even after restarting the game!**').build(),Cr("mimic_event_finished"));me("mimic_event_2",(function(e,t){if(!Rr(t,"mimic_event_finished")&&Rr(t,"mimic_defeated")&&Pn(t,dn.Mana)>0&&ne(t)>5)return ge(Cf)})),Iu.register(new Pu("The Mimic",(function(e){return Rr(e,"mimic_event_finished")}),(function(e){return Rr(e,"mimic_event_finished")}),"There's a chance of this happening randomly if you are exploring the School Basement B2 or B3...","+5:coins:/sec",(function(e){return!0}))),H("MimicGoldListener",(function(e,t){if(Rr(e,"mimic_event_finished")){var n=5*t;return Tn(dn.Coins,n)(e)}return e}));var Rf=wf;function Of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ef=function(e){gn()(n,e);var t=Of(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"has_gathered_at_least_10_mana")}},{key:"getSpellName",value:function(){return"Create Pebble"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Convert Mana into a few pebbles."}},{key:"getBaseActionEffects",value:function(){return{stone:{value:5,tags:[dn.Stone]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).stone)+":stone:"}},{key:"getManaCost",value:function(){return 10}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:1}}},{key:"doSpellAction",value:function(e){return Tn(dn.Stone,this.getActionEffects(e).stone)(e)}}]),n}(Jl),Bf=yu("has_gathered_at_least_10_mana",Ou("has_gathered_at_least_10_mana","You are a Wizard").setSimpleDescription("Gathering Mana is useful, but why would you do it if you had nothing to use it for?\n\nYou slowly recall how to cast spells and remember a basic Conjuration spell, *Create Pebble*. You think of trying it soon!\n\n**You have unlocked the ability to cast spells! You can cast spells by pressing the wand icon at the top right corner of the screen.**").build(),vr("has_gathered_at_least_10_mana"));me("create_stone_unlocked",(function(e,t){if(!pr(t,"has_gathered_at_least_10_mana")&&Pn(t,dn.Mana)>=10)return ge(Bf)}));var Mf=new Ef;function Sf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Df=function(e){gn()(n,e);var t=Sf(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"has_gathered_at_least_20_mana")}},{key:"getSpellName",value:function(){return"Create Water"}},{key:"getElement",value:function(){return lt.Water}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Convert Mana into some drops of water."}},{key:"getBaseActionEffects",value:function(){return{water:{value:2,tags:[dn.Water]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).water)+":water:"}},{key:"doSpellAction",value:function(e){return Tn(dn.Water,this.getActionEffects(e).water)(e)}},{key:"getManaCost",value:function(){return 20}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:1}}}]),n}(Jl);me("create_water_unlocked",(function(e,t){if(!pr(t,"has_gathered_at_least_20_mana")&&Pn(t,dn.Mana)>=20)return vr("has_gathered_at_least_20_mana")}));var Pf=new Df;function If(){io=[],ao({description:"Gather more Mana",isCompleted:function(e){return Mf.isVisible(e)&&Pf.isVisible(e)}}),ao({description:"Create more Stone and Water",isCompleted:function(e){return Xc.isVisible(e)}}),ao({description:"Gather more Mana",isCompleted:function(e){return pr(e,"has_gathered_at_least_50_mana")},progress:function(e){return Pn(e,dn.Mana)/50}}),ao({description:"Build a Mana Shard",isCompleted:function(e){return pr(e,"Research_Intro_Triggered")}}),ao({description:"Hire the Researcher",isCompleted:function(e){return pr(e,"research_unlocked")}}),ao({description:"Continue doing research",isCompleted:function(e){return pr(e,"apprentice_dorm_event_triggered")},progress:function(e){return Ot(e)/3e3}}),ao({description:"Build an Apprentice Dorm",isCompleted:function(e){return Vn(e,Cc)>=1}}),ao({description:"Gather 800 coins",isCompleted:function(e){return pr(e,"vault_unlocked")},progress:function(e){return Pn(e,dn.Coins)/800}}),ao({description:"Continue doing research",isCompleted:function(e){return pr(e,"crafting_intro")||pr(e,"inventory_unlocked")},progress:function(e){return Ot(e)/1e4}}),ao({description:"Build the crafting station",isCompleted:function(e){return pr(e,"inventory_unlocked")}}),ao({description:"Craft an item",isCompleted:function(e){return pr(e,"has_crafted")}}),ao({description:"Continue doing research",isCompleted:function(e){return pr(e,"shop_intro")},progress:function(e){return Ot(e)/16e3}}),ao({description:"Raise Conjuration and Enchantment to Lv3 or above",isCompleted:function(e){return xt(e,ft.Conjuration)>=3&&xt(e,ft.Enchantment)>=3}}),ao({description:"Appease the businessman",isCompleted:function(e){return pr(e,"selling_unlocked")}}),ao({description:"Continue doing research",isCompleted:function(e){return pr(e,"wizard_robe_triggered")},progress:function(e){return Ot(e)/24e3}}),ao({description:"Purchase the Wizard's Robe",isCompleted:function(e){return pr(e,"wizard_robe_bought")}}),ao({description:"Continue doing research",isCompleted:function(e){return Ot(e)>=33e3},progress:function(e){return Ot(e)/33e3}}),ao({description:"Equip a hand item and a body item",isCompleted:function(e){return pr(e,"exploration_unlocked")}}),ao({description:"Explore the School Basement",isCompleted:function(e){return pr(e,"upgrades_unlocked")}}),ao({description:"You have completed the demo! Please purchase the full game to continue, or retire to start again.",isCompleted:function(e){return!1}})}function Tf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var _f=Jn()((function(e,t,n,r,o){var i=e<=0&&t>0&&!n;return{description:i?"Use":"Use ("+rn(e,{showDecimals:!0})+" sec)",isEnabled:i,transform:function(e){return(e=xn({itemId:r,params:o},1,e)).lastItemUsedTimes[r]=ne(e),e=We(r).doConsumableItemEffect(e,o)}}}),{cacheKey:JSON.stringify}),Yf=function(e){gn()(n,e);var t=Tf(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getTags",value:function(e,t){return[{tag:"Consumable"}]}},{key:"getCooldownSec",value:function(e){return 10}},{key:"getCooldownLeftSec",value:function(e){var t=(e.lastItemUsedTimes[this.getId()]||0)+this.getCooldownSec(e)-ne(e);return Uo(e)!=W.Combat||t<=0?0:t}},{key:"getPrimaryAction",value:function(e,t){var n=this.getCooldownLeftSec(e),r=Cn({itemId:this.getId(),params:t},e),o=Hr(e,"PlayerStun");return _f(n,r,o,this.getId(),t)}}]),n}(ma);function Qf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}_([["Consumable",Y.ItemEffect]],"ConsumableItemQuality",r.Multiplier,(function(e,t){var n,r=(null==t||null==(n=t.params)?void 0:n.itemQuality)||0;return Math.pow(1.02,r)}));var Vf=new(function(e){gn()(r,e);var t=Qf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"defensePotion"}},{key:"getPicture",value:function(){return n(581)}},{key:"getBaseName",value:function(){return"Defense Potion"}},{key:"getDescription",value:function(){return"A potion that hardens your skin. Temporarily raises :defense:."}},{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t);return Jr("Defense Potion","Defense Potion",n.duration,{params:{commonBuff:{Player:{Defense:n.magnitude}}}})(e)}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:8,tags:[Y.TemporaryEffectMagnitude]},duration:{value:180,tags:[Y.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t);return"+"+rn(n.magnitude)+" :defense: for "+rn(n.duration)+" sec"}},{key:"getSalePrice",value:function(){return 300}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:6}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:700,Water:150,Stone:1200},items:{}}}}]),r}(Yf));function Ff(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Nf=new(function(e){gn()(r,e);var t=Ff(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"healthPotion"}},{key:"getPicture",value:function(){return n(582)}},{key:"getBaseName",value:function(){return"Health Potion"}},{key:"getDescription",value:function(){return"A small red potion. Restores:hp:."}},{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t).magnitude;e=Xo(e,n);var r={id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:ne(e),target:ko.Player,tags:[]};return e.exploration.lastEnemyActionResult=r,e.exploration.actionResultQueue.push(r),e}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:80,tags:[Y.ActionMagnitude]}}}},{key:"getEffect",value:function(e,t){return"+"+rn(this.getItemEffects(e,t).magnitude)+":hp:"}},{key:"getSalePrice",value:function(){return 96}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:3}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:500,Water:100},items:{medicinalHerb:1}}}}]),r}(Yf));function Uf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Gf=new(function(e){gn()(r,e);var t=Uf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"manaPotion"}},{key:"getPicture",value:function(){return n(583)}},{key:"getBaseName",value:function(){return"Mana Potion"}},{key:"getDescription",value:function(){return"A small blue potion. Restores:mana:."}},{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t).magnitude;return Tn(dn.Mana,n)(e)}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:200,tags:[Y.ActionMagnitude]}}}},{key:"getEffect",value:function(e,t){return"+"+rn(this.getItemEffects(e,t).magnitude)+":mana:"}},{key:"getSalePrice",value:function(){return 50}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:1}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:300,Water:50},items:{}}}}]),r}(Yf));function Hf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Wf=new(function(e){gn()(r,e);var t=Hf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t).magnitude;e=Xo(e,n);var r={id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:ne(e),target:ko.Player,tags:[]};return e.exploration.lastEnemyActionResult=r,e.exploration.actionResultQueue.push(r),e}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:12,tags:[Y.ActionMagnitude]}}}},{key:"getId",value:function(){return"medicinalHerb"}},{key:"getPicture",value:function(){return n(584)}},{key:"getBaseName",value:function(){return"Medicinal Herb"}},{key:"getDescription",value:function(){return"A bundle of herbs. Restores a little :hp:."}},{key:"getEffect",value:function(e,t){return"+"+rn(this.getItemEffects(e,t).magnitude)+":hp:"}},{key:"getTags",value:function(e,t){return ac()(vn()(r.prototype),"getTags",this).call(this,e,t).concat([{tag:"Material"}])}},{key:"getSalePrice",value:function(){return 25}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(Yf));function Lf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Jf=new(function(e){gn()(r,e);var t=Lf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"speedPotion"}},{key:"getPicture",value:function(){return n(585)}},{key:"getBaseName",value:function(){return"Speed Potion"}},{key:"getDescription",value:function(){return"A potion that makes you attack quicker. Reduces :attackDelay: temporarily."}},{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t);return Jr("Speed Potion","Speed Potion",n.duration,{params:{commonBuff:{Player:{AttackDelayMultiplier:1-n.magnitude}}}})(e)}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:.15,tags:[Y.TemporaryEffectMagnitude]},duration:{value:180,tags:[Y.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t);return"-"+rn(100*n.magnitude)+"%:attackDelay: for "+rn(n.duration)+" sec"}},{key:"getSalePrice",value:function(){return 300}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:7}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:700,Water:150},items:{batWing:3}}}}]),r}(Yf));function Zf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var zf=new(function(e){gn()(r,e);var t=Zf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"strengthPotion"}},{key:"getPicture",value:function(){return n(586)}},{key:"getBaseName",value:function(){return"Strength Potion"}},{key:"getDescription",value:function(){return"A potion that makes your attacks more damaging. Boosts :attack: temporarily."}},{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t);return Jr("Strength Potion","Strength Potion",n.duration,{params:{commonBuff:{Player:{Attack:n.magnitude}}}})(e)}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:10,tags:[Y.TemporaryEffectMagnitude]},duration:{value:180,tags:[Y.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t);return"+"+rn(n.magnitude)+" :attack: for "+rn(n.duration)+" sec"}},{key:"getSalePrice",value:function(){return 240}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:4}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:700,Water:150},items:{ratTail:3}}}}]),r}(Yf));function Xf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var qf=new(function(e){gn()(r,e);var t=Xf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"vitalityPotion"}},{key:"getPicture",value:function(){return n(587)}},{key:"getBaseName",value:function(){return"Vitality Potion"}},{key:"getDescription",value:function(){return"A potion that fills you with vigor. Temporarily raises Max:hp:."}},{key:"doConsumableItemEffect",value:function(e,t){var n=this.getItemEffects(e,t);return Jr("Vitality Potion","Vitality Potion",n.duration,{params:{commonBuff:{Player:{MaxHP:n.magnitude}}}})(e)}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:100,tags:[Y.TemporaryEffectMagnitude]},duration:{value:180,tags:[Y.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t);return"+"+rn(n.magnitude)+" Max:hp: for "+rn(n.duration)+" sec"}},{key:"getSalePrice",value:function(){return 300}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:5}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:700,Water:200,Monstium:50},items:{medicinalHerb:1}}}}]),r}(Yf));function Kf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var $f=new(function(e){gn()(r,e);var t=Kf(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"cloak"}},{key:"getPicture",value:function(){return n(588)}},{key:"getBaseName",value:function(){return"Cloak"}},{key:"getDescription",value:function(){return"A basic cloak made out of cloth."}},{key:"getDefenseBonus",value:function(e,t){return 4}},{key:"getSlot",value:function(){return ca.Accessory}},{key:"getSalePrice",value:function(){return 1200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:7}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{cloth:8}}}}]),r}(ja));function eA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var tA=new(function(e){gn()(r,e);var t=eA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"cloakOfRegeneration"}},{key:"getPicture",value:function(){return n(589)}},{key:"getBaseName",value:function(){return"Cloak of Regeneration"}},{key:"getDescription",value:function(){return"A special cloak that slowly restores the wielder's life when worn."}},{key:"getDefenseBonus",value:function(e,t){return 4}},{key:"getHPRegenBonus",value:function(e,t){return.3}},{key:"getSlot",value:function(){return ca.Accessory}},{key:"getSalePrice",value:function(){return 3600}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Enchantment:11}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:2800},items:{cloak:1,cloth:20}}}}]),r}(ja));function nA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var rA=new(function(e){gn()(r,e);var t=nA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"clothShoes"}},{key:"getPicture",value:function(){return n(590)}},{key:"getBaseName",value:function(){return"Cloth Shoes"}},{key:"getDescription",value:function(){return"Basic shoes made out of cloth. Makes walking somewhat easier."}},{key:"getDefenseBonus",value:function(e,t){return 1}},{key:"getAttackDelayBonusPct",value:function(e,t){return-10}},{key:"getSlot",value:function(){return ca.Accessory}},{key:"getSalePrice",value:function(){return 1200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:7}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{cloth:8}}}}]),r}(ja));function oA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var iA=new(function(e){gn()(r,e);var t=oA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"crystallizedMana"}},{key:"getPicture",value:function(){return n(591)}},{key:"getBaseName",value:function(){return"Crystallized Mana"}},{key:"getDescription",value:function(){return"A small rock made out of condensed :mana:."}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,2)}},{key:"getSlot",value:function(){return ca.Accessory}},{key:"getSalePrice",value:function(){return 500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:3}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:1e3},items:{}}}}]),r}(ja));function aA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var uA=new(function(e){gn()(r,e);var t=aA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"enchantedCloak"}},{key:"getPicture",value:function(){return n(592)}},{key:"getBaseName",value:function(){return"Enchanted Cloak"}},{key:"getDescription",value:function(){return"A cloak that has been reformed and enhanced with magic."}},{key:"getDefenseBonus",value:function(e,t){return 8}},{key:"getSlot",value:function(){return ca.Accessory}},{key:"getSalePrice",value:function(){return 2400}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:2200},items:{cloak:1,cloth:8}}}}]),r}(ja));function cA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var sA=new(function(e){gn()(r,e);var t=cA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"woodenSandals"}},{key:"getPicture",value:function(){return n(593)}},{key:"getBaseName",value:function(){return"Wooden Sandals"}},{key:"getDescription",value:function(){return"A pair of uncomfortable, clunky sandals."}},{key:"getDefenseBonus",value:function(e,t){return 3}},{key:"getAttackDelayBonusPct",value:function(e,t){return 10}},{key:"getSlot",value:function(){return ca.Accessory}},{key:"getSalePrice",value:function(){return 160}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:4}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:750},items:{}}}}]),r}(ja));function lA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var fA=new(function(e){gn()(r,e);var t=lA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"elderWizardRobe"}},{key:"getPicture",value:function(){return n(594)}},{key:"getBaseName",value:function(){return"Elder Wizard's Robe"}},{key:"getDescription",value:function(){return"Strong magically infused clothing, to be worn by powerful spellcasters."}},{key:"getDefenseBonus",value:function(e,t){return 8}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,16)}},{key:"getMaxManaBonus",value:function(e,t){return 600}},{key:"getSlot",value:function(){return ca.Body}},{key:"getSalePrice",value:function(){return 4e3}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:7,Enchantment:9}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:2400},items:{cloth:24}}}}]),r}(ja));function AA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var dA=new(function(e){gn()(r,e);var t=AA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"ironArmor"}},{key:"getPicture",value:function(){return n(595)}},{key:"getBaseName",value:function(){return"Iron Mail"}},{key:"getDescription",value:function(){return"Heavy chest protection, to withstand tough blows."}},{key:"getDefenseBonus",value:function(e,t){return 16}},{key:"getSlot",value:function(){return ca.Body}},{key:"getSalePrice",value:function(){return 2500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:7}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:300,Temperature:1200},items:{}}}}]),r}(ja));function hA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var gA=function(e){gn()(r,e);var t=hA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"wizardRobe"}},{key:"getPicture",value:function(){return n(596)}},{key:"getBaseName",value:function(){return"Wizard's Robe"}},{key:"getDescription",value:function(){return"Magically infused clothing, for those who favor spellcasting."}},{key:"getDefenseBonus",value:function(e,t){return 6}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,8)}},{key:"getMaxManaBonus",value:function(e,t){return 400}},{key:"getSlot",value:function(){return ca.Body}},{key:"getSalePrice",value:function(){return 2e3}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:6,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Mana:1600},items:{cloth:12}}}}]),r}(ja),yA=new gA,pA=yu("Wizard_Robe",Ou("WizardRobe_Merchant","Clothing for a Wizard").setSimpleDescription('You hear a familiar voice. "You won\'t believe the deal I have for yoooooou."\n    \nYou turn around, only to see the familiar face of the businessman who has been buying your items.').addOption("Continue",Ou("WizardRobe_Merchant_1","Clothing for a Wizard").setSimpleDescription("He shows you a finely crafted :wizardRobe:Wizard's Robe. You inspect it and find no fault with it; it is magically infused and you can feel a faint power coming from it.\n        \n\"Would you want to buy it? It can be yooooours... for the *bargain* price of 30000 coins. And I'm sure it would look great on you...\"").addOption("Charm the Businessman (1400 Mana)",Ou("WizardRobe_Merchant_4","Clothing for a Wizard").setSimpleDescription('You use your Illusion prowess to charm the businessman; the price is too high. You attempt to barter for the robe...\n            \n"Hmm..." He observes you, top to bottom. "Ok. I will go lower. How about... 5000 coins?"\n\n*Now* you think the price is more fair.').addOption("Pay 5000 Coins",Ou("WizardRobe_Merchant_5","Clothing for a Wizard").setSimpleDescription('You hand over the coins and buy the robe. The businessman grins slightly. "Great doooooing business with you!", he exclaims, before handing the robe to you.\n                \n**You have obtained a :wizardRobe:Wizard\'s Robe!**').build(),(function(e){return e=Tn(dn.Coins,-5e3)(e),e=wn({itemId:yA.getId(),params:{}},1,e),e=vr("wizard_robe_bought")(e)}),void 0,(function(e){return Pn(e,dn.Coins)>=5e3})).addOption("Maybe later").build(),(function(e){return e=Tn(dn.Mana,-1400)(e)}),(function(e){return xt(e,ft.Illusion)>=6}),(function(e){return Pn(e,dn.Mana)>=1400})).addOption("Pay 30000 Coins",Ou("WizardRobe_Merchant_2","Clothing for a Wizard").setSimpleDescription('You hand over the coins and buy the robe. The businessman grins. "Great doooooing business with you!", he exclaims, before handing the robe to you.\n\n**You have obtained a :wizardRobe:Wizard\'s Robe!**').build(),(function(e){return e=Tn(dn.Coins,-3e4)(e),e=wn({itemId:yA.getId(),params:{}},1,e),e=vr("wizard_robe_bought")(e)}),void 0,(function(e){return Pn(e,dn.Coins)>=3e4})).addOption("Maybe later").build()).build(),vr("wizard_robe_triggered"));me("wizard_robe",(function(e,t){if(!pr(t,"wizard_robe_triggered")&&pr(t,"selling_unlocked")&&Ot(t)>=24e3)return ge(pA)}));var mA=new gA;function vA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var bA=new(function(e){gn()(r,e);var t=vA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"airWand"}},{key:"getPicture",value:function(){return n(597)}},{key:"getBaseName",value:function(){return"Air Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Air. It is very swift."}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,12)}},{key:"getAttackBonus",value:function(e,t){return 15}},{key:"getAttackDelayBonusPct",value:function(e,t){return-50}},{key:"getMaxManaBonus",value:function(e,t){return 200}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Air"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{airSpeck:1}}}}]),r}(ja));function kA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var jA=new(function(e){gn()(r,e);var t=kA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"assassinsDagger"}},{key:"getPicture",value:function(){return n(598)}},{key:"getBaseName",value:function(){return"Assassin's Dagger"}},{key:"getDescription",value:function(){return"A dagger that's particularly sharp and solid."}},{key:"getAttackBonus",value:function(e,t){return 30}},{key:"getAttackDelayBonusPct",value:function(e,t){return-55}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 5400}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:12}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:2500,Temperature:3e3},items:{}}}}]),r}(ja));function wA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var xA=new(function(e){gn()(r,e);var t=wA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"branch"}},{key:"getPicture",value:function(){return n(599)}},{key:"getBaseName",value:function(){return"Branch"}},{key:"getDescription",value:function(){return"A magically infused branch. Produces a small amount of :mana:."}},{key:"getAttackBonus",value:function(e,t){return 5}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,2)}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:4,Enchantment:4}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:300,Mana:1e3},items:{}}}}]),r}(ja));function CA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var RA=new(function(e){gn()(r,e);var t=CA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"club"}},{key:"getPicture",value:function(){return n(600)}},{key:"getBaseName",value:function(){return"Club"}},{key:"getDescription",value:function(){return"A wooden club. Slightly heavy."}},{key:"getAttackBonus",value:function(e,t){return 20}},{key:"getAttackDelayBonusPct",value:function(e,t){return 20}},{key:"getEffect",value:function(){return"+20:attack:, +20%:attackDelay:"}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:4}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:900},items:{}}}}]),r}(ja));function OA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var EA=new(function(e){gn()(r,e);var t=OA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"dagger"}},{key:"getPicture",value:function(){return n(601)}},{key:"getBaseName",value:function(){return"Dagger"}},{key:"getDescription",value:function(){return"An agile, lightweight weapon."}},{key:"getAttackBonus",value:function(e,t){return 10}},{key:"getAttackDelayBonusPct",value:function(e,t){return-50}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 600}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:4}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:60,Wood:40,Temperature:300},items:{}}}}]),r}(ja));function BA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var MA=new(function(e){gn()(r,e);var t=BA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"darknessWand"}},{key:"getPicture",value:function(){return n(602)}},{key:"getBaseName",value:function(){return"Darkness Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Darkness. Very powerful."}},{key:"getAttackBonus",value:function(e,t){return 35}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,24)}},{key:"getMaxManaBonus",value:function(e,t){return 400}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Darkness"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{darknessSpeck:1}}}}]),r}(ja));function SA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var DA=new(function(e){gn()(r,e);var t=SA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"earthWand"}},{key:"getPicture",value:function(){return n(603)}},{key:"getBaseName",value:function(){return"Earth Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Earth. Has defensive powers."}},{key:"getAttackBonus",value:function(e,t){return 15}},{key:"getDefenseBonus",value:function(e,t){return 15}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,12)}},{key:"getMaxManaBonus",value:function(e,t){return 200}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Earth"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{earthSpeck:1}}}}]),r}(ja));function PA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var IA=new(function(e){gn()(r,e);var t=PA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"fireWand"}},{key:"getPicture",value:function(){return n(604)}},{key:"getBaseName",value:function(){return"Fire Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Fire. Can be an effective weapon!"}},{key:"getAttackBonus",value:function(e,t){return 35}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,12)}},{key:"getMaxManaBonus",value:function(e,t){return 200}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Fire"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{fireSpeck:1}}}}]),r}(ja));function TA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var _A=new(function(e){gn()(r,e);var t=TA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"glaive"}},{key:"getPicture",value:function(){return n(605)}},{key:"getBaseName",value:function(){return"Glaive"}},{key:"getDescription",value:function(){return"An effective weapon, similar to a spear, for dealing large amounts of damage."}},{key:"getAttackBonus",value:function(e,t){return 50}},{key:"getAttackDelayBonusPct",value:function(e,t){return-15}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 4500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:11}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:1500,Wood:4500,Temperature:2400},items:{}}}}]),r}(ja));function YA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var QA=new(function(e){gn()(r,e);var t=YA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"handAxe"}},{key:"getPicture",value:function(){return n(606)}},{key:"getBaseName",value:function(){return"Hand Axe"}},{key:"getDescription",value:function(){return"An axe. Slow, but very damaging."}},{key:"getAttackBonus",value:function(e,t){return 50}},{key:"getAttackDelayBonusPct",value:function(e,t){return 50}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 1500}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:6}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:150,Wood:300,Temperature:600},items:{}}}}]),r}(ja));function VA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var FA=new(function(e){gn()(r,e);var t=VA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"lightningWand"}},{key:"getPicture",value:function(){return n(607)}},{key:"getBaseName",value:function(){return"Lightning Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Lightning. May stun."}},{key:"getAttackBonus",value:function(e,t){return 15}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,12)}},{key:"getMaxManaBonus",value:function(e,t){return 200}},{key:"getEffect",value:function(e,t){return"+15:attack:, +"+rn(this.getManaRegenBonus(e,t),{showDecimals:!0})+':mana:/sec, +200 Max:mana:, +10% chance to apply "Stunned"'}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Lightning"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{lightningSpeck:1}}}}]),r}(ja));wo.register((function(e,t){var n,r;null!=(n=ri(t))&&n.isHit&&"lightningWand"==(null==(r=ha(t,ca.Hand))?void 0:r.itemId)&&(Math.random()<.1&&(t=Jr("EnemyStun","Stunned!",1,{isBeneficial:!1,combatOnly:!0,isEnemyTemporaryEffect:!0})(t)));return t}));var NA=FA;function UA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var GA=new(function(e){gn()(r,e);var t=UA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"natureWand"}},{key:"getPicture",value:function(){return n(608)}},{key:"getBaseName",value:function(){return"Nature Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Nature. Drains enemy life."}},{key:"getAttackBonus",value:function(e,t){return 15}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,12)}},{key:"getMaxManaBonus",value:function(e,t){return 200}},{key:"getEffect",value:function(e,t){return"+15:attack:, -8 enemy:hp:/sec, +"+rn(this.getManaRegenBonus(e,t),{showDecimals:!0})+":mana:/sec, +200 Max:mana:"}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Nature"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{natureSpeck:1}}}}]),r}(ja));H("NatureWand",(function(e,t){var n;return(null==(n=ha(e,ca.Hand))?void 0:n.itemId)===GA.getId()&&(e=Ko(e,-8*t)),e}));var HA=GA;function WA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var LA=new(function(e){gn()(r,e);var t=WA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"scimitar"}},{key:"getPicture",value:function(){return n(609)}},{key:"getBaseName",value:function(){return"Scimitar"}},{key:"getDescription",value:function(){return"A defensive sword with a curved, wider blade."}},{key:"getAttackBonus",value:function(e,t){return 43}},{key:"getDefenseBonus",value:function(e,t){return 10}},{key:"getEffect",value:function(){return"+43:attack:, +10:defense:"}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 4200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:11}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:1600,Wood:2500,Temperature:2100},items:{}}}}]),r}(ja));function JA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ZA=new(function(e){gn()(r,e);var t=JA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"sickle"}},{key:"getPicture",value:function(){return n(610)}},{key:"getBaseName",value:function(){return"Sickle"}},{key:"getDescription",value:function(){return"A weapon often used by farmers... or by reapers."}},{key:"getAttackBonus",value:function(e,t){return 45}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 2400}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:9}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:1100,Wood:3e3,Temperature:1500},items:{}}}}]),r}(ja));function zA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var XA=new(function(e){gn()(r,e);var t=zA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"spear"}},{key:"getPicture",value:function(){return n(611)}},{key:"getBaseName",value:function(){return"Spear"}},{key:"getDescription",value:function(){return"A sharp, dangerous weapon for attacking at a distance."}},{key:"getAttackBonus",value:function(e,t){return 30}},{key:"getAttackDelayBonusPct",value:function(e,t){return-15}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 1200}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Air"==e.primaryElement}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:5}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:80,Wood:500,Temperature:500},items:{}}}}]),r}(ja));function qA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var KA=new(function(e){gn()(r,e);var t=qA(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"spikedClub"}},{key:"getPicture",value:function(){return n(612)}},{key:"getBaseName",value:function(){return"Spiked Club"}},{key:"getDescription",value:function(){return"A club with a wooden base, but reinforced with spikes for a more destructive punch."}},{key:"getAttackBonus",value:function(e,t){return 55}},{key:"getAttackDelayBonusPct",value:function(e,t){return 20}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 3600}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:10}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:6500,Iron:600,Temperature:1800},items:{}}}}]),r}(ja));function $A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ed=new(function(e){gn()(r,e);var t=$A(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"sword"}},{key:"getPicture",value:function(){return n(613)}},{key:"getBaseName",value:function(){return"Sword"}},{key:"getDescription",value:function(){return"A sword: a mighty weapon in the hands of an expert."}},{key:"getAttackBonus",value:function(e,t){return 30}},{key:"getSlot",value:function(){return ca.Hand}},{key:"getSalePrice",value:function(){return 1200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:5}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:120,Wood:200,Temperature:600},items:{}}}}]),r}(ja));function td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var nd=new(function(e){gn()(r,e);var t=td(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"waterWand"}},{key:"getPicture",value:function(){return n(614)}},{key:"getBaseName",value:function(){return"Water Wand"}},{key:"getDescription",value:function(){return"A wizard's magical wand with the power of Water. Boosts vitality."}},{key:"getAttackBonus",value:function(e,t){return 15}},{key:"getMaxHPBonus",value:function(e,t){return 80}},{key:"getMaxManaBonus",value:function(e,t){return 200}},{key:"getManaRegenBonus",value:function(e,t){return V([this.getId(),dn.Mana,Y.Production],e,12)}},{key:"getSlot",value:function(){return ca.Hand}},{key:"isCraftable",value:function(e){return ac()(vn()(r.prototype),"isCraftable",this).call(this,e)&&"Water"==e.primaryElement}},{key:"getSalePrice",value:function(){return 1800}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:8,Enchantment:8}}},{key:"getCraftingMaterials",value:function(){return{resources:{Wood:3e3,Mana:2500},items:{waterSpeck:1}}}}]),r}(ja));function rd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var od=new(function(e){gn()(r,e);var t=rd(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"cloth"}},{key:"getPicture",value:function(){return n(615)}},{key:"getBaseName",value:function(){return"Cloth"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A basic material for a lot of equipment, especially for spellcasters."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 200}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Conjuration:1}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{wool:4}}}}]),r}(ma));function id(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ad=new(function(e){gn()(r,e);var t=id(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"goldNugget"}},{key:"getPicture",value:function(){return n(616)}},{key:"getBaseName",value:function(){return"Gold Nugget"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"A tiny piece of solid gold. Very valuable, and might be useful for certain crafting."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 1e3}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{Alchemy:20}}},{key:"getCraftingMaterials",value:function(){return{resources:{Iron:5e3,Mana:3500},items:{}}}}]),r}(ma));function ud(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var cd=new(function(e){gn()(r,e);var t=ud(r);function r(){return C()(this,r),t.apply(this,arguments)}return O()(r,[{key:"getId",value:function(){return"wool"}},{key:"getPicture",value:function(){return n(617)}},{key:"getBaseName",value:function(){return"Wool"}},{key:"getTags",value:function(){return[{tag:"Material"}]}},{key:"getDescription",value:function(){return"Wool. Can be used to make cloth."}},{key:"getEffect",value:function(){}},{key:"getSalePrice",value:function(){return 16}},{key:"getCraftingSchoolLevelRequirements",value:function(){return{}}},{key:"getCraftingMaterials",value:function(){return{resources:{},items:{}}}}]),r}(ma));function sd(){me("PlayerDoom",(function(e,t){if(Hr(e,"PlayerDoom")&&!Hr(t,"PlayerDoom")&&!(Gr(n=t,"PlayerDoom")<ne(n)-1e10+5e9))return function(e){return Xo(e,-1/0)};var n}))}function ld(){_([[ko.Player,jo.AttackDelay]],"PlayerStunAttackDelay",r.Addition,(function(e){return Hr(e,"PlayerStun")?1/0:0})),_([[ko.Enemy,jo.AttackDelay]],"EnemyStunAttackDelay",r.Addition,(function(e){return Hr(e,"EnemyStun")?1/0:0})),me("PlayerStunning",(function(e,t){if(Hr(t,"PlayerStun")&&!Hr(e,"PlayerStun"))return Hr(t,"PlayerStunPrevention")?Zr("PlayerStun"):function(e){return e.exploration.playerActionProgress=0,e}})),me("PlayerStunningRecovery",(function(e,t){if(!Hr(t,"PlayerStun")&&Hr(e,"PlayerStun")&&!Hr(t,"PlayerStunPrevention"))return function(e){return e.exploration.playerActionProgress=0,e=Jr("PlayerStunPrevention","Stun Protection",V([ko.Player,Y.PostStunProtectionDuration],t,6),{combatOnly:!0})(e)}})),me("EnemyStunning",(function(e,t){if(Hr(t,"EnemyStun")&&!Hr(e,"EnemyStun"))return Hr(t,"EnemyStunPrevention")?Zr("EnemyStun"):function(e){return e.exploration.enemyActionProgress=0,e}})),me("EnemyStunningRecovery",(function(e,t){if(!Hr(t,"EnemyStun")&&Hr(e,"EnemyStun")&&!Hr(t,"EnemyStunPrevention"))return function(e){return To=void 0,e.exploration.enemyActionProgress=0,e=Jr("EnemyStunPrevention","Stun Protection",V([ko.Enemy,Y.PostStunProtectionDuration],t,6),{combatOnly:!0,isEnemyTemporaryEffect:!0})(e)}}))}var fd=yu("TimePieceEvent",Ou("TimePieceEvent","Offline Progress").setSimpleDescription("Welcome back to Magic Research!\n      \n**You obtained {amount}:timepiece: Time Pieces!**").build(),(function(e,t){return e})),Ad=yu("TimePieceEventFirstTime",Ou("TimePieceEventFirstTime","Offline Progress").setSimpleDescription("Welcome back to Magic Research!\n      \n**You obtained {amount}:timepiece: Time Pieces! Time Pieces allow you to make time pass faster for a duration. You can do so from the left side menu!**").build(),Cr("has_seen_offline_progress")),dd=new N("TimePieceGranter",(function(e){return function(t){var n=Pn(t,dn.TimePieces),r=Pn(t=Tn(dn.TimePieces,e)(t),dn.TimePieces)-n;return r>0&&(t=Rr(t,"has_seen_offline_progress")?ge(fd,{amount:rn(r)})(t):ge(Ad,{amount:rn(r)})(t)),t}}));function hd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}_([[Y.GameSpeed]],"TimePieceGameSpeed",r.Multiplier,(function(e){return pr(e,"time_piece_speedup_enabled")?2:1})),_([[Y.GameSpeed]],"Debug2xGameSpeed",r.Multiplier,(function(e){return pr(e,"debug_2x_speed")?2:1})),H("TimePieceConsumer",(function(e,t){return pr(e,"time_piece_speedup_enabled")&&Pn(e=Tn(dn.TimePieces,5*-t)(e),dn.TimePieces)<=0&&(e=kr("time_piece_speedup_enabled")(e)),e}));var gd=new(function(e){gn()(n,e);var t=hd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Create Boulder"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create a giant rock and boost your Stone reserves."}},{key:"getBaseActionEffects",value:function(){return{stone:{value:1200,tags:[dn.Stone]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).stone)+":stone:"}},{key:"getManaCost",value:function(){return 440}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:5}}},{key:"doSpellAction",value:function(e){return Tn(dn.Stone,this.getActionEffects(e).stone)(e)}}]),n}(Jl));function yd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var pd=new(function(e){gn()(n,e);var t=yd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"gather_iron_unlocked")}},{key:"getSpellName",value:function(){return"Create Iron Bar"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Materialize an iron bar."}},{key:"getBaseActionEffects",value:function(){return{iron:{value:80,tags:[dn.Iron]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).iron)+":iron:"}},{key:"doSpellAction",value:function(e){return Tn(dn.Iron,this.getActionEffects(e).iron)(e)}},{key:"getManaCost",value:function(){return 320}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:7}}}]),n}(Jl));function md(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var vd=new(function(e){gn()(n,e);var t=md(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"gather_iron_unlocked")}},{key:"getSpellName",value:function(){return"Create Iron Ore"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Materialize a piece of iron ore."}},{key:"getBaseActionEffects",value:function(){return{iron:{value:5,tags:[dn.Iron]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).iron)+":iron:"}},{key:"doSpellAction",value:function(e){return Tn(dn.Iron,this.getActionEffects(e).iron)(e)}},{key:"getManaCost",value:function(){return 40}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:4}}}]),n}(Jl));function bd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var kd=new(function(e){gn()(n,e);var t=bd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Create Rock"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create a larger rock to get plenty of Stone."}},{key:"getBaseActionEffects",value:function(){return{stone:{value:90,tags:[dn.Stone]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).stone)+":stone:"}},{key:"getManaCost",value:function(){return 80}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:2}}},{key:"doSpellAction",value:function(e){return Tn(dn.Stone,this.getActionEffects(e).stone)(e)}}]),n}(Jl));function jd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var wd=new(function(e){gn()(n,e);var t=jd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Create Water II"}},{key:"getElement",value:function(){return lt.Water}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Convert Mana into a larger chunk of water."}},{key:"getBaseActionEffects",value:function(){return{water:{value:35,tags:[dn.Water]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).water)+":water:"}},{key:"doSpellAction",value:function(e){return Tn(dn.Water,this.getActionEffects(e).water)(e)}},{key:"getManaCost",value:function(){return 180}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:3}}}]),n}(Jl));function xd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Cd=new(function(e){gn()(n,e);var t=xd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Create Water III"}},{key:"getElement",value:function(){return lt.Water}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Convert Mana into a large amount of water."}},{key:"getBaseActionEffects",value:function(){return{water:{value:420,tags:[dn.Water]}}}},{key:"getDisplayEffect",value:function(e){return"+"+rn(this.getActionEffects(e).water)+":water:"}},{key:"doSpellAction",value:function(e){return Tn(dn.Water,this.getActionEffects(e).water)(e)}},{key:"getManaCost",value:function(){return 1060}},{key:"getSchoolLevelRequirements",value:function(){return{Conjuration:6}}}]),n}(Jl));function Rd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Od=new(function(e){gn()(n,e);var t=Rd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&Vn(e,Bc)>0}},{key:"getSpellName",value:function(){return"Enchant Furnaces"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Magically alter your Furnaces to produce (and consume) faster for a limited time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:30,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return rn(t.magnitude,{showDecimals:!0})+"x:temperature: production and "+rn(t.magnitude,{showDecimals:!0})+"x:wood: consumption by Furnaces for "+rn(t.duration)+" sec."}},{key:"getManaCost",value:function(){return 90}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:3}}}]),n}(Jl));_([[Bc.getName(),Y.Production],[Bc.getName(),Y.Consumption]],"EnchantFurnaces",r.Multiplier,(function(e){return Hr(e,"Enchant Furnaces")?Od.getActionEffects(e).magnitude:1}));var Ed=Od;function Bd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Md=new(function(e){gn()(n,e);var t=Bd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&Vn(e,Pc)>0}},{key:"getSpellName",value:function(){return"Enchant Lumber Yards"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Magically alter your Lumber Yards to work faster for a limited time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:30,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return rn(t.magnitude,{showDecimals:!0})+"x:wood: produced by Lumber Yards for "+rn(t.duration)+" sec."}},{key:"getManaCost",value:function(){return 80}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:2}}}]),n}(Jl));_([[Pc.getName(),Y.Production]],"EnchantLumberYards",r.Multiplier,(function(e){return Hr(e,"Enchant Lumber Yards")?Md.getActionEffects(e).magnitude:1}));var Sd=Md;function Dd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Pd=function(e){gn()(n,e);var t=Dd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&Vn(e,es)>0}},{key:"getSpellName",value:function(){return"Enchant Mana Geysers"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Magically alter your Mana Geysers to produce more mana for a limited time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:20,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return rn(t.magnitude,{showDecimals:!0})+"x:mana: produced by Mana Geysers for "+rn(t.duration)+" sec."}},{key:"getManaCost",value:function(){return 160}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:9}}}]),n}(Jl),Id=new Pd;_([[es.getName(),Y.Production]],"EnchantManaGeysers",r.Multiplier,(function(e){return Hr(e,"Enchant Mana Geysers")?Id.getActionEffects(e).magnitude:1}));var Td=new Pd;function _d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Yd=new(function(e){gn()(n,e);var t=_d(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&Vn(e,Xc)>0}},{key:"getSpellName",value:function(){return"Enchant Mana Spouts"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Magically alter your Mana Spouts to produce more mana for a limited time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:30,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return rn(t.magnitude,{showDecimals:!0})+"x:mana: produced by Mana Spouts for "+rn(t.duration)+" sec."}},{key:"getManaCost",value:function(){return 80}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:1}}}]),n}(Jl));_([[Xc.getName(),Y.Production]],"EnchantManaSpouts",r.Multiplier,(function(e){return Hr(e,"Enchant Mana Spouts")?Yd.getActionEffects(e).magnitude:1}));var Qd=Yd;function Vd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Fd=new(function(e){gn()(n,e);var t=Vd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return pr(e,"mine_unlocked")}},{key:"getBuildingName",value:function(){return"Mine"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"A structured specially designed to harvest stone and ores from the ground."}},{key:"getBaseActionEffects",value:function(){return{stone:{value:27,tags:[dn.Stone,Y.Production]},iron:{value:1,tags:[dn.Iron,Y.Production]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(t.stone,{showDecimals:!0})+":stone:/sec, +"+rn(t.iron,{showDecimals:!0})+":iron:/sec"}},{key:"getBaseResourceCost",value:function(){return{Mana:1e3,Coins:12e3,Wood:8e3,Iron:2e3}}},{key:"getBaseResourceScale",value:function(){return{Mana:1,Coins:1.3,Wood:1.3,Iron:1.3}}}]),n}(Wn));H("Mine",(function(e,t){var n=Vn(e,Fd);if(0===n)return e;var r=Fd.getActionEffects(e);return e=Tn(dn.Stone,n*r.stone*t)(e),e=Tn(dn.Iron,n*r.iron*t)(e)}));var Nd=yu("mine_unlocked",Ou("mine_unlocked","Mining").setSimpleDescription("In one of your trips to the rocky cliff with iron, you start thinking that it would be a lot easier if there was a building that could extract the minerals on its own. You suddenly get an idea for a new building - a way in which you could get stones and iron without the need to manually gather them!\n\nYou can't wait to try it out.\n\n**You can now build Mines!**").build(),vr("mine_unlocked"));me("mine_unlocked",(function(e,t){if(!pr(t,"mine_unlocked")&&pr(t,"gather_iron_unlocked")&&Ot(t)>6e5)return ge(Nd)}));var Ud=Fd;function Gd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Hd=function(e){gn()(n,e);var t=Gd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&Vn(e,Ud)>0}},{key:"getSpellName",value:function(){return"Enchant Mines"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Magically alter your Mines to work faster for a limited time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:30,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return rn(t.magnitude,{showDecimals:!0})+"x:stone: and :iron: produced by Mines for "+rn(t.duration)+" sec."}},{key:"getManaCost",value:function(){return 300}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:12}}}]),n}(Jl),Wd=new Hd;_([[Ud.getName(),Y.Production]],"EnchantMines",r.Multiplier,(function(e){return Hr(e,"Enchant Mines")?Wd.getActionEffects(e).magnitude:1}));var Ld=new Hd;function Jd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Zd=new(function(e){gn()(n,e);var t=Jd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Levitation"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Allows you to float a short distance from the ground. Makes you more efficient at exploration."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"-"+rn(100*(1-1/t.magnitude))+"% exploration time for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 1300}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:13}}}]),n}(Jl));_([[Y.ExplorationDelay]],"Levitation",r.Multiplier,(function(e){return Hr(e,"Levitation")?1/Zd.getActionEffects(e).magnitude:1}));var zd=Zd;function Xd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var qd=new(function(e){gn()(n,e);var t=Xd(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Quickness"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Make yourself move and attack faster."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.15,tags:[Y.TemporaryEffectMagnitude]},duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"-"+rn(100*t.magnitude)+"%:attackDelay: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 580}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:7}}}]),n}(Jl));_([[ko.Player,jo.AttackDelay]],"Quickness",r.Multiplier,(function(e){return Hr(e,"Quickness")?1-qd.getActionEffects(e).magnitude:1}));var Kd=qd;function $d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var eh=new(function(e){gn()(n,e);var t=$d(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Stoneskin"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Harden your skin to render yourself stronger against attacks."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:10,tags:[Y.TemporaryEffectMagnitude]},duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(t.magnitude)+":defense: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 480}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:6}}}]),n}(Jl));_([[ko.Player,jo.Defense]],"Stoneskin",r.Addition,(function(e){return Hr(e,"Stoneskin")?eh.getActionEffects(e).magnitude:0}));var th=eh;function nh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var rh=new(function(e){gn()(n,e);var t=nh(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Strength"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Fill yourself with magical strength and increase your damage."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:9,tags:[Y.TemporaryEffectMagnitude]},duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(t.magnitude)+":attack: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 640}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:8}}}]),n}(Jl));_([[ko.Player,jo.Attack]],"Strength",r.Addition,(function(e){return Hr(e,"Strength")?rh.getActionEffects(e).magnitude:0}));var oh=rh;function ih(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ah=new(function(e){gn()(n,e);var t=ih(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Vigor of Health"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Increase your maximum:hp: by enchanting yourself."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:80,tags:[Y.TemporaryEffectMagnitude]},duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(t.magnitude)+" Max:hp: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 120}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:5}}}]),n}(Jl));_([[ko.Player,jo.MaxHP]],"VigorOfHealth",r.Addition,(function(e){return Hr(e,"Vigor of Health")?ah.getActionEffects(e).magnitude:0}));var uh=ah;function ch(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var sh=new(function(e){gn()(n,e);var t=ch(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Physical Augment"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Equivalent to Vigor of Health, Stoneskin, Quickness and Strength all at once."}},{key:"getBaseActionEffects",value:function(){return{duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=uh.getActionEffects(e),n=th.getActionEffects(e),r=Kd.getActionEffects(e),o=oh.getActionEffects(e),i=this.getActionEffects(e);return"+"+rn(t.magnitude)+" Max:hp:, +"+rn(n.magnitude)+":defense:, -"+rn(100*r.magnitude)+"%:attackDelay: and +"+rn(o.magnitude)+":attack: for "+rn(i.duration)+" sec"}},{key:"getManaCost",value:function(){return 1820}},{key:"getSchoolLevelRequirements",value:function(){return{Enchantment:14}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e).duration;return e=Jr("Vigor of Health","Vigor of Health",t,{})(e),e=Jr("Stoneskin","Stoneskin",t,{})(e),e=Jr("Quickness","Quickness",t,{})(e),e=Jr("Strength","Strength",t,{})(e)}}]),n}(Jl));function lh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var fh=function(e){gn()(n,e);var t=lh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getArea",value:function(){return"Exploration"}},{key:"isEnabled",value:function(e){return ac()(vn()(n.prototype),"isEnabled",this).call(this,e)&&Uo(e)==W.Combat}}]),n}(Jl);function Ah(e,t){var n=e+t;return rn(e-t)+"~"+rn(n)}function dh(e,t){return Ah(e,t)+":attack:"}function hh(e,t){var n=t.getActionEffects(e);return ni(e,n.average+(Math.random()-.5)*n.variance*2,Rr(e,"advanced_evocation_unlocked")?4:1,void 0,t.getTags())}function gh(e,t){var n=t.getActionEffects(e);return Rr(e=ni(e,n.average+(Math.random()-.5)*n.variance*2,void 0,void 0,t.getTags()),"advanced_evocation_unlocked")&&(e=Jr("Slow","Slow",n.slowDuration,{isEnemyTemporaryEffect:!0,combatOnly:!0,isBeneficial:!1})(e)),e}function yh(e,t){var n=t.getActionEffects(e);return Rr(e=ni(e,n.average+(Math.random()-.5)*n.variance*2,void 0,void 0,t.getTags()),"advanced_evocation_unlocked")&&(e=Jr(t.getSpellName()+"_dot",t.getSpellName(),n.dotDuration,{mode:"add",isBeneficial:!1,combatOnly:!0,isEnemyTemporaryEffect:!0,params:{commonDoTAmount:n.dotStrength}})(e)),e}function ph(e,t){var n=t.getActionEffects(e);return e=ni(e,n.average+(Math.random()-.5)*n.variance*2,void 0,void 0,t.getTags())}function mh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var vh=new(function(e){gn()(n,e);var t=mh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Air Cutter"}},{key:"getElement",value:function(){return lt.Air}},{key:"getDisplayDescription",value:function(){return"Slice an enemy with small blades of condensed wind."}},{key:"getBaseActionEffects",value:function(){return{average:{value:33,tags:[Y.ActionMagnitude]},variance:{value:3,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=Rr(e,"advanced_evocation_unlocked")?", extra accurate":"";return dh(t.average,t.variance)+n}},{key:"doSpellAction",value:function(e){return hh(e,this)}},{key:"getBaseCooldown",value:function(){return 1}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Air"==e.primaryElement}},{key:"getManaCost",value:function(){return 75}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:3}}}]),n}(fh));function bh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var kh=new(function(e){gn()(n,e);var t=bh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Blizzard"}},{key:"getElement",value:function(){return lt.Water}},{key:"getDisplayDescription",value:function(){return"Materialize a bitter cold blizzard to damage your enemy."}},{key:"getBaseActionEffects",value:function(){return{average:{value:175,tags:[Y.ActionMagnitude]},variance:{value:15,tags:[Y.ActionVariance]},slowDuration:{value:2.5,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return Rr(e,"advanced_evocation_unlocked")?dh(t.average,t.variance)+", +20:attackDelay: for "+rn(t.slowDuration,{showDecimals:!0})+" sec":dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return gh(e,this)}},{key:"getBaseCooldown",value:function(){return 4.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Water"==e.primaryElement}},{key:"getManaCost",value:function(){return 550}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:13}}}]),n}(fh));function jh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var wh=new(function(e){gn()(n,e);var t=jh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Cone of Fire"}},{key:"getElement",value:function(){return lt.Fire}},{key:"getDisplayDescription",value:function(){return"Hit an enemy with a cone-shaped burst of flames."}},{key:"getBaseActionEffects",value:function(){return{average:{value:240,tags:[Y.ActionMagnitude]},variance:{value:10,tags:[Y.ActionVariance]},dotStrength:{value:10,tags:[Y.TemporaryEffectMagnitude]},dotDuration:{value:3,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return Rr(e,"advanced_evocation_unlocked")?dh(t.average,t.variance)+", -"+rn(t.dotStrength)+":hp:/sec for "+rn(t.dotDuration,{showDecimals:!0})+" sec":dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return yh(e,this)}},{key:"getBaseCooldown",value:function(){return 3.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Fire"==e.primaryElement}},{key:"getManaCost",value:function(){return 1400}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:8}}}]),n}(fh));function xh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ch=new(function(e){gn()(n,e);var t=xh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Fire Ball"}},{key:"getElement",value:function(){return lt.Fire}},{key:"getDisplayDescription",value:function(){return"Create a ball of pure hot flames and hurl it at an enemy."}},{key:"getBaseActionEffects",value:function(){return{average:{value:115,tags:[Y.ActionMagnitude]},variance:{value:5,tags:[Y.ActionVariance]},dotStrength:{value:5,tags:[Y.TemporaryEffectMagnitude]},dotDuration:{value:3,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return Rr(e,"advanced_evocation_unlocked")?dh(t.average,t.variance)+", -"+rn(t.dotStrength)+":hp:/sec for "+rn(t.dotDuration,{showDecimals:!0})+" sec":dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return yh(e,this)}},{key:"getBaseCooldown",value:function(){return 2.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Fire"==e.primaryElement}},{key:"getManaCost",value:function(){return 500}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:3}}}]),n}(fh));function Rh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Oh=new(function(e){gn()(n,e);var t=Rh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Gale"}},{key:"getElement",value:function(){return lt.Air}},{key:"getDisplayDescription",value:function(){return"Blast an enemy with a strong gust of wind."}},{key:"getBaseActionEffects",value:function(){return{average:{value:75,tags:[Y.ActionMagnitude]},variance:{value:5,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=Rr(e,"advanced_evocation_unlocked")?", extra accurate":"";return dh(t.average,t.variance)+n}},{key:"doSpellAction",value:function(e){return hh(e,this)}},{key:"getBaseCooldown",value:function(){return 1}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Air"==e.primaryElement}},{key:"getManaCost",value:function(){return 200}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:8}}}]),n}(fh));function Eh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Bh=new(function(e){gn()(n,e);var t=Eh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Ice Needle"}},{key:"getElement",value:function(){return lt.Water}},{key:"getDisplayDescription",value:function(){return"Create a needle out of solid ice and launch it at an enemy."}},{key:"getBaseActionEffects",value:function(){return{average:{value:55,tags:[Y.ActionMagnitude]},variance:{value:5,tags:[Y.ActionVariance]},slowDuration:{value:1.5,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return Rr(e,"advanced_evocation_unlocked")?dh(t.average,t.variance)+", +20:attackDelay: for "+rn(t.slowDuration,{showDecimals:!0})+" sec":dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return gh(e,this)}},{key:"getBaseCooldown",value:function(){return 2.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Water"==e.primaryElement}},{key:"getManaCost",value:function(){return 150}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:3}}}]),n}(fh));function Mh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Sh=new(function(e){gn()(n,e);var t=Mh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Infernal Blaze"}},{key:"getElement",value:function(){return lt.Fire}},{key:"getDisplayDescription",value:function(){return"Sear an enemy with powerful flames."}},{key:"getBaseActionEffects",value:function(){return{average:{value:400,tags:[Y.ActionMagnitude]},variance:{value:20,tags:[Y.ActionVariance]},dotStrength:{value:20,tags:[Y.TemporaryEffectMagnitude]},dotDuration:{value:3,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return Rr(e,"advanced_evocation_unlocked")?dh(t.average,t.variance)+", -"+rn(t.dotStrength)+":hp:/sec for "+rn(t.dotDuration,{showDecimals:!0})+" sec":dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return yh(e,this)}},{key:"getBaseCooldown",value:function(){return 4.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Fire"==e.primaryElement}},{key:"getManaCost",value:function(){return 2300}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:13}}}]),n}(fh));function Dh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ph=new(function(e){gn()(n,e);var t=Dh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Landslide"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getDisplayDescription",value:function(){return"Crush an enemy with the power of a landslide."}},{key:"getBaseActionEffects",value:function(){return{average:{value:180,tags:[Y.ActionMagnitude]},variance:{value:80,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return ph(e,this)}},{key:"getBaseCooldown",value:function(){return 4.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Earth"==e.primaryElement}},{key:"getManaCost",value:function(){return 1500}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:13}}}]),n}(fh));function Ih(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Th=new(function(e){gn()(n,e);var t=Ih(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Mana Spike"}},{key:"getDisplayDescription",value:function(){return"Condense :mana: into a sharp spike, then thrust it at an enemy."}},{key:"getBaseActionEffects",value:function(){return{average:{value:42.5,tags:[Y.ActionMagnitude]},variance:{value:2.5,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return ph(e,this)}},{key:"getBaseCooldown",value:function(){return 1}},{key:"getManaCost",value:function(){return 250}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:1}}}]),n}(fh));function _h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Yh=new(function(e){gn()(n,e);var t=_h(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Rock Tomb"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getDisplayDescription",value:function(){return"Bury an enemy below a pile of heavy stones."}},{key:"getBaseActionEffects",value:function(){return{average:{value:170,tags:[Y.ActionMagnitude]},variance:{value:50,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return ph(e,this)}},{key:"getBaseCooldown",value:function(){return 3.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Earth"==e.primaryElement}},{key:"getManaCost",value:function(){return 800}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:8}}}]),n}(fh));function Qh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Vh=new(function(e){gn()(n,e);var t=Qh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Stalagmite"}},{key:"getElement",value:function(){return lt.Earth}},{key:"getDisplayDescription",value:function(){return"Impale an enemy with a spike appearing right below them."}},{key:"getBaseActionEffects",value:function(){return{average:{value:85,tags:[Y.ActionMagnitude]},variance:{value:25,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return ph(e,this)}},{key:"getBaseCooldown",value:function(){return 2.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Earth"==e.primaryElement}},{key:"getManaCost",value:function(){return 300}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:3}}}]),n}(fh));function Fh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Nh=new(function(e){gn()(n,e);var t=Fh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Twister"}},{key:"getElement",value:function(){return lt.Air}},{key:"getDisplayDescription",value:function(){return"Create a small tornado to rip through the enemy."}},{key:"getBaseActionEffects",value:function(){return{average:{value:130,tags:[Y.ActionMagnitude]},variance:{value:10,tags:[Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=Rr(e,"advanced_evocation_unlocked")?", extra accurate":"";return dh(t.average,t.variance)+n}},{key:"doSpellAction",value:function(e){return hh(e,this)}},{key:"getBaseCooldown",value:function(){return 1}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Air"==e.primaryElement}},{key:"getManaCost",value:function(){return 340}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:13}}}]),n}(fh));function Uh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Gh=new(function(e){gn()(n,e);var t=Uh(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Water Bomb"}},{key:"getElement",value:function(){return lt.Water}},{key:"getDisplayDescription",value:function(){return"Put a large ball of water together, then strike an enemy with it."}},{key:"getBaseActionEffects",value:function(){return{average:{value:110,tags:[Y.ActionMagnitude]},variance:{value:10,tags:[Y.ActionVariance]},slowDuration:{value:2,tags:[Y.TemporaryEffectDuration]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return Rr(e,"advanced_evocation_unlocked")?dh(t.average,t.variance)+", +20:attackDelay: for "+rn(t.slowDuration,{showDecimals:!0})+" sec":dh(t.average,t.variance)}},{key:"doSpellAction",value:function(e){return gh(e,this)}},{key:"getBaseCooldown",value:function(){return 3.5}},{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&"Water"==e.primaryElement}},{key:"getManaCost",value:function(){return 350}},{key:"getSchoolLevelRequirements",value:function(){return{Evocation:8}}}]),n}(fh));function Hh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Wh=new(function(e){gn()(n,e);var t=Hh(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Blur"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Alter your physical appearance to make yourself more blurry, increasing your dodge chance."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.15,tags:[Y.TemporaryEffectMagnitude]},duration:{value:40,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(100*t.magnitude)+":dodge: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 850}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:9}}}]),n}(Jl));_([[ko.Player,jo.Dodge]],"Blur",r.Addition,(function(e){return Hr(e,"Blur")?Wh.getActionEffects(e).magnitude:0}));var Lh=Wh;function Jh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Zh=new(function(e){gn()(n,e);var t=Jh(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getElement",value:function(){return lt.Water}},{key:"getSpellName",value:function(){return"Bubble Show"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create a fun entertainment show based on bubbles."}},{key:"getBaseActionEffects",value:function(){return{average:{value:400,tags:[dn.Coins,Y.ActionMagnitude]},variance:{value:50,tags:[dn.Coins,Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+Ah(t.average,t.variance)+":coins:"}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Tn(dn.Coins,t.average+(Math.random()-.5)*t.variance)(e)}},{key:"getManaCost",value:function(){return 150}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:3}}}]),n}(Jl));function zh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Xh=new(function(e){gn()(n,e);var t=zh(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Dazzle"}},{key:"getBaseCooldown",value:function(){return 8}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Temporarily confuse an enemy's senses, reducing their :accuracy: for a short time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:1.66666,tags:[Y.TemporaryEffectMagnitude]},duration:{value:5,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{isEnemyTemporaryEffect:!0,combatOnly:!0,isBeneficial:!1})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"-"+rn(100-1/t.magnitude*100)+"%:accuracy: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 1100}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:11}}}]),n}(Jl));_([[ko.Enemy,jo.Accuracy]],"Dazzle",r.Multiplier,(function(e){return Hr(e,"Dazzle")?1/Xh.getActionEffects(e).magnitude:1}));var qh=Xh;function Kh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var $h=new(function(e){gn()(n,e);var t=Kh(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Flame Show"}},{key:"getElement",value:function(){return lt.Fire}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create an impressive entertainment show based on fire."}},{key:"getBaseActionEffects",value:function(){return{average:{value:2400,tags:[dn.Coins,Y.ActionMagnitude]},variance:{value:400,tags:[dn.Coins,Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+Ah(t.average,t.variance)+":coins:"}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Tn(dn.Coins,t.average+(Math.random()-.5)*t.variance)(e)}},{key:"getManaCost",value:function(){return 580}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:4}}}]),n}(Jl));function eg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var tg=new(function(e){gn()(n,e);var t=eg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Getaway"}},{key:"getDisplayDescription",value:function(){return"Create an illusion of yourself to trick the enemy."}},{key:"getDisplayEffect",value:function(){return"Immediately exit combat and explore again."}},{key:"getManaCost",value:function(){return 320}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:6}}},{key:"doSpellAction",value:function(e){return e.exploration||(e.exploration=z),e.exploration.explorationStatus=W.Exploring,e}}]),n}(fh));function ng(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var rg=function(e){gn()(n,e);var t=ng(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"has_gathered_at_least_30_mana")}},{key:"getSpellName",value:function(){return"Magic Show"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create a basic entertainment show based on petty illusions."}},{key:"getBaseActionEffects",value:function(){return{average:{value:33,tags:[dn.Coins,Y.ActionMagnitude]},variance:{value:3,tags:[dn.Coins,Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+Ah(t.average,t.variance)+":coins:"}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Tn(dn.Coins,t.average+(Math.random()-.5)*t.variance)(e)}},{key:"getManaCost",value:function(){return 30}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:1}}}]),n}(Jl);me("magic_show_unlocked",(function(e,t){if(!pr(t,"has_gathered_at_least_30_mana")&&Pn(t,dn.Mana)>=30)return vr("has_gathered_at_least_30_mana")}));var og=new rg;function ig(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var ag=new(function(e){gn()(n,e);var t=ig(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Rainbow Show"}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create an astounding entertainment show with rainbows."}},{key:"getBaseActionEffects",value:function(){return{average:{value:16e3,tags:[dn.Coins,Y.ActionMagnitude]},variance:{value:2e3,tags:[dn.Coins,Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+Ah(t.average,t.variance)+":coins:"}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Tn(dn.Coins,t.average+(Math.random()-.5)*t.variance)(e)}},{key:"getManaCost",value:function(){return 2450}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:10}}}]),n}(Jl));function ug(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var cg=new(function(e){gn()(n,e);var t=ug(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"isVisible",value:function(e){return ac()(vn()(n.prototype),"isVisible",this).call(this,e)&&pr(e,"exploration_unlocked")}},{key:"getSpellName",value:function(){return"Slow"}},{key:"getBaseCooldown",value:function(){return 8}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Make an enemy move more sluggishly for a period of time."}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.2,tags:[Y.TemporaryEffectMagnitude]},duration:{value:15,tags:[Y.TemporaryEffectDuration]}}}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Jr(this.getId(),this.getSpellName(),t.duration,{isEnemyTemporaryEffect:!0,combatOnly:!0,isBeneficial:!1})(e)}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+rn(100*t.magnitude)+"%:attackDelay: for "+rn(t.duration)+" sec"}},{key:"getManaCost",value:function(){return 1350}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:12}}}]),n}(Jl));_([[ko.Enemy,jo.AttackDelay]],"Slow",r.Multiplier,(function(e){return Hr(e,"Slow")?1+cg.getActionEffects(e).magnitude:1}));var sg=cg;function lg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var fg=new(function(e){gn()(n,e);var t=lg(n);function n(){return C()(this,n),t.call(this)}return O()(n,[{key:"getSpellName",value:function(){return"Wind Show"}},{key:"getElement",value:function(){return lt.Air}},{key:"getArea",value:function(){return"Campus"}},{key:"getDisplayDescription",value:function(){return"Create an entertainment show based on wind gusts."}},{key:"getBaseActionEffects",value:function(){return{average:{value:125,tags:[dn.Coins,Y.ActionMagnitude]},variance:{value:25,tags:[dn.Coins,Y.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return"+"+Ah(t.average,t.variance)+":coins:"}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Tn(dn.Coins,t.average+(Math.random()-.5)*t.variance)(e)}},{key:"getManaCost",value:function(){return 70}},{key:"getSchoolLevelRequirements",value:function(){return{Illusion:2}}}]),n}(Jl));function Ag(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var dg=new(function(e){gn()(n,e);var t=Ag(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getSpellName",value:function(){return"Dispel Self"}},{key:"getArea",value:function(){return"Exploration"}},{key:"getDisplayDescription",value:function(){return"Get rid of any negative status effects affecting you."}},{key:"getDisplayEffect",value:function(){return"Heals all :debuff:debuffs"}},{key:"getManaCost",value:function(){return 4700}},{key:"getSchoolLevelRequirements",value:function(){return{Protection:19}}},{key:"doSpellAction",value:function(e){return Wr(e).forEach((function(t){t.isBeneficial||t.isEnemyTemporaryEffect||(e=Zr(t.id)(e))})),e}}]),n}(Jl));function hg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var gg=new(function(e){gn()(n,e);var t=hg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Health Boost"}},{key:"getMonstiumCost",value:function(){return 450}},{key:"getDisplayDescription",value:function(e){return"Condition your body in order to be able to withstand more blows."}},{key:"getDisplayEffect",value:function(e){return"+40 Max:hp:"}}]),n}(Tc));_([[ko.Player,jo.MaxHP]],"HealthBoost",r.Addition,(function(e){return gg.isPurchased(e)?40:0}));var yg=gg;function pg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var mg=new(function(e){gn()(n,e);var t=pg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Exploration Training"}},{key:"getMonstiumCost",value:function(){return 1500}},{key:"getDisplayDescription",value:function(e){return"Train yourself on techniques that can make exploration more effective."}},{key:"getDisplayEffect",value:function(e){return"-20% Exploration time"}},{key:"getUpgradeRequirements",value:function(){return[yg]}}]),n}(Tc));_([[Y.ExplorationDelay]],"ExplorationTraining",r.Multiplier,(function(e){return mg.isPurchased(e)?.8:1}));var vg=mg;function bg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var kg=new(function(e){gn()(n,e);var t=bg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Innate Regeneration"}},{key:"getMonstiumCost",value:function(){return 1800}},{key:"getDisplayDescription",value:function(e){return"Alter your body so that it's slightly more effective at healing itself."}},{key:"getDisplayEffect",value:function(e){return"+0.1:hpRegen:"}},{key:"getUpgradeRequirements",value:function(){return[yg]}}]),n}(Tc));_([[ko.Player,jo.HPRegen]],"InnateRegeneration",r.Addition,(function(e){return kg.isPurchased(e)?.1:0}));var jg=kg;function wg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var xg=new(function(e){gn()(n,e);var t=wg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Larger Health Boost"}},{key:"getMonstiumCost",value:function(){return 3e3}},{key:"getDisplayDescription",value:function(e){return"Further condition your body in order to be able to withstand more blows."}},{key:"getDisplayEffect",value:function(e){return"+60 Max:hp:"}},{key:"getUpgradeRequirements",value:function(){return[yg]}}]),n}(Tc));_([[ko.Player,jo.MaxHP]],"LargerHealthBoost",r.Addition,(function(e){return xg.isPurchased(e)?60:0}));var Cg=xg;function Rg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Og=new(function(e){gn()(n,e);var t=Rg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Large Pouch"}},{key:"getMonstiumCost",value:function(){return 600}},{key:"getDisplayDescription",value:function(e){return"Increases the size of the pouch you use to store items, allowing you to store more items."}},{key:"getDisplayEffect",value:function(e){return"+4 Inventory slots"}}]),n}(Tc));_([[Y.InventorySlot]],"LargePouch",r.Addition,(function(e){return Og.isPurchased(e)?4:0}));var Eg=Og;function Bg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Mg=new(function(e){gn()(n,e);var t=Bg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Enchanted Pouch"}},{key:"getMonstiumCost",value:function(){return 2e3}},{key:"getDisplayDescription",value:function(e){return"Further increases the size of the pouch you use to store items, allowing you to store even more items."}},{key:"getDisplayEffect",value:function(e){return"+4 Inventory slots"}},{key:"getUpgradeRequirements",value:function(){return[Eg]}}]),n}(Tc));_([[Y.InventorySlot]],"EnchantedPouch",r.Addition,(function(e){return Mg.isPurchased(e)?4:0}));var Sg=Mg;function Dg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Pg=new(function(e){gn()(n,e);var t=Dg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Research Fair"}},{key:"getMonstiumCost",value:function(){return 750}},{key:"getDisplayDescription",value:function(e){return"Host a research fair in campus, to advertise the magical research the school is doing."}},{key:"getDisplayEffect",value:function(e){return"Reduces the cost to hire researchers."}}]),n}(Tc));_([[mc.getName(),Y.CostScale]],"ResearchFairCostScale",r.Multiplier,(function(e){return Pg.isPurchased(e)?2/3:1}));var Ig=Pg;function Tg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var _g=new(function(e){gn()(n,e);var t=Tg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Researcher Focus"}},{key:"getMonstiumCost",value:function(){return 2e3}},{key:"getDisplayDescription",value:function(e){return"Train your researchers so that they can focus better, to increase their effectivity."}},{key:"getDisplayEffect",value:function(e){return"+50% Research speed"}},{key:"getUpgradeRequirements",value:function(){return[Ig]}}]),n}(Tc));_([[Y.Research]],"ResearcherFocus",r.Multiplier,(function(e){return _g.isPurchased(e)?1.5:1}));var Yg=_g;function Qg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Vg=new(function(e){gn()(n,e);var t=Qg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Research Publication"}},{key:"getMonstiumCost",value:function(){return 4250}},{key:"getDisplayDescription",value:function(e){return"Publish the results of your research to increase the prestige of your institution."}},{key:"getDisplayEffect",value:function(e){return"Reduces the cost to hire researchers."}},{key:"getUpgradeRequirements",value:function(){return[Ig]}}]),n}(Tc));_([[mc.getName(),Y.CostScale]],"ResearchAwardsCostScale",r.Multiplier,(function(e){return Vg.isPurchased(e)?2/3:1}));var Fg=Vg;function Ng(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Ug=new(function(e){gn()(n,e);var t=Ng(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Reinforced Water Tanks"}},{key:"getMonstiumCost",value:function(){return 450}},{key:"getDisplayDescription",value:function(e){return"Renew your water tanks, allowing them to store plenty more water."}},{key:"getDisplayEffect",value:function(e){return"5x Water Tank storage"}},{key:"getUpgradeRequirements",value:function(){return[Uc]}}]),n}(Tc));_([[bs.getName(),Y.PerBuildingCap]],"ReinforcedWaterTanks",r.Multiplier,(function(e){return Ug.isPurchased(e)?5:1})),me("ReinforcedWaterTanksListener",(function(e,t){if(!Ug.isPurchased(e)&&Ug.isPurchased(t))return Dn}));var Gg=Ug;function Hg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn()(e);if(t){var o=vn()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn()(this,n)}}var Wg=new(function(e){gn()(n,e);var t=Hg(n);function n(){return C()(this,n),t.apply(this,arguments)}return O()(n,[{key:"getName",value:function(){return"Reinforced Vaults"}},{key:"getMonstiumCost",value:function(){return 2500}},{key:"getDisplayDescription",value:function(e){return"Add an extra layer of iron to your vaults, allowing you to store twice as much :coins:."}},{key:"getDisplayEffect",value:function(e){return"2x Vault storage"}},{key:"getUpgradeRequirements",value:function(){return[Gg]}}]),n}(Tc));_([[ys.getName(),Y.PerBuildingCap,dn.Coins]],"Reinforced Vaults",r.Multiplier,(function(e){return Wg.isPurchased(e)?2:1})),me("ReinforcedVaultsListener",(function(e,t){if(!Wg.isPurchased(e)&&Wg.isPurchased(t))return Dn}));var Lg=Wg;An(Ac),An(yc),An(lc),An(mc),An(bc),H("Autocast",Zt),Qn(Xc),Qn(es),Qn(Pc),Qn(os),Qn(Jc),Qn(Vc),Qn(cs),Qn(bs),Qn(ys),Qn(Bc),Qn(As),Qn(Cc),Nt(Mf),Nt(kd),Nt(gd),Nt(Pf),Nt(wd),Nt(Cd),Nt(vd),Nt(pd),Nt(Qd),Nt(Sd),Nt(Ed),Nt(Td),Nt(Ld),Nt(uh),Nt(th),Nt(Kd),Nt(oh),Nt(zd),Nt(sh),Nt(og),Nt(fg),Nt(Zh),Nt($h),Nt(tg),Nt(Lh),Nt(ag),Nt(qh),Nt(sg),Nt(Xl),Nt(Th),Nt(Ch),Nt(wh),Nt(Sh),Nt(Vh),Nt(Yh),Nt(Ph),Nt(Bh),Nt(Gh),Nt(kh),Nt(vh),Nt(Oh),Nt(Nh),ef(),H("Researchers",eu),H("TotalTimePlayed",(function(e,t){return e.global||(e.global=q),e.thisRun||(e.thisRun=K),e.global.secondsPlayed+=t,e.thisRun.secondsPlayed+=t,e})),He(Gf),He(iA),He(RA),He(Ms),He(xA),He(EA),He(QA),He(dA),He(XA),He(ed),He(mA),He(fA),He(Wf),He(Yl),He(Nf),He(Tl),He(zf),He(Jf),He(cd),He(od),He($f),He(uA),He(tA),He(sA),He(rA),He(ad),He(nl),He(el),He(cl),He(Xs),He(al),He(ol),He(Ks),He(ZA),He(KA),He(LA),He(_A),He(jA),He(IA),He(DA),He(nd),He(bA),He(HA),He(NA),He(MA),He(Vf),He(qf),Br.register(kf),Mr.register(Bl),Mr.register(Ol),Mr.register(Cl),Br.register(vf),Mr.register(yf),Mr.register(hf),vo.register(Vs),vo.register(Ys),vo.register(Ns),vo.register(Ws),vo.register(fl),vo.register(Zs),vo.register(Rf),vo.register(kl),vo.register(vl),vo.register(pl),si(),An(Ig),An(Fg),An(Yg),An(Eg),An(Sg),An(Uc),An(Gg),An(Hc),An(Lg),An(yg),An(Cg),An(jg),An(vg),An(nf),H("CommonDoT",(function(e,t){return Wr(e).filter((function(e){var t;return null!=(null==(t=e.params)?void 0:t.commonDoTAmount)})).forEach((function(n){e=n.isEnemyTemporaryEffect?Ko(e,-n.params.commonDoTAmount*t):Xo(e,-n.params.commonDoTAmount*t)})),e})),Object.keys(ko).forEach((function(e){Object.keys(jo).forEach((function(t){_([[e,t]],"CommonBuff"+e+t,r.Addition,(function(n){var r=Wr(n).filter((function(n){var r,o,i;return null!=(null==(r=n.params)||null==(o=r.commonBuff)||null==(i=o[e])?void 0:i[t])})),o=0;return r.forEach((function(n){var r,i,a,u;o+=null!=(r=null==(i=n.params)||null==(a=i.commonBuff)||null==(u=a[e])?void 0:u[t])?r:0})),o})),_([[e,t]],"CommonBuffMultiplication"+e+t,r.Multiplier,(function(n){var r=Wr(n).filter((function(n){var r,o,i;return null!=(null==(r=n.params)||null==(o=r.commonBuff)||null==(i=o[e])?void 0:i[t+"Multiplier"])})),o=1;return r.forEach((function(n){var r,i,a,u;o*=null!=(r=null==(i=n.params)||null==(a=i.commonBuff)||null==(u=a[e])?void 0:u[t+"Multiplier"])?r:1})),o}))}))})),Object.keys(ft).forEach((function(e){_([[e,Y.CanCastSpell],[dg.getId(),Y.CanCastSpell]],"SelectiveSilence"+e,r.Multiplier,(function(t,n){return Hr(t,"SelectiveSilence"+e)?0:1}))})),H("PlayerPoison",(function(e,t){return Hr(e,"PlayerPoison")&&(e=Xo(e,-e.temporaryEffects.PlayerPoison.params.amount*t)),e})),H("Enemy",(function(e,t){return Hr(e,"EnemyRegeneration")&&(e=Ko(e,e.temporaryEffects.EnemyRegeneration.params.amount*t)),Hr(e,"EnemyPoison")&&(e=Ko(e,-e.temporaryEffects.EnemyPoison.params.amount*t)),e})),H("Summon",(function(e,t){return Hr(e,"SummonRegeneration")&&Lo(e)>0&&(e=qo(e,e.temporaryEffects.SummonRegeneration.params.amount*t)),e})),wo.register((function(e,t){if(Hr(t,"CloakOfFlames")){var n,r=null==(n=ri(t))?void 0:n.damage;if(r&&r>0){t=Xo(t,.3*-r);var o={id:Math.random().toString(),damage:.3*r,isHit:!0,isCrit:!1,time:ne(t),target:ko.Player,tags:[]};t.exploration.lastEnemyActionResult=o,t.exploration.actionResultQueue.push(o)}}return t})),Co.register((function(e,t){if(Hr(t,"CloakOfFlames")){var n,r=null==(n=ri(t))?void 0:n.damage;if(r&&r>0){t=qo(t,.3*-r);var o={id:Math.random().toString(),damage:r,isHit:!0,isCrit:!1,time:ne(t),target:ko.Summon,tags:[]};t.exploration.lastEnemyActionResult=o,t.exploration.actionResultQueue.push(o)}}return t})),me("EnemyReflect",(function(e,t){var n,r,o,i,a,u,c,s,l;if(Hr(t,"EnemyReflect")&&(null==(n=t.exploration)||null==(r=n.lastPlayerActionResult)?void 0:r.id)!==(null==(o=e.exploration)||null==(i=o.lastPlayerActionResult)?void 0:i.id)){var f=null==(a=t.exploration)||null==(u=a.lastPlayerActionResult)||null==(c=u.tags)?void 0:c.includes(Y.Spell),A=(null==(s=t.exploration)||null==(l=s.lastPlayerActionResult)?void 0:l.damage)||0;return f&&A>0?function(e){e=Xo(e,-A);var t={id:Math.random().toString(),damage:A,isHit:!0,isCrit:!1,time:ne(e),target:ko.Player,tags:[]};return e.exploration.lastEnemyActionResult=t,e.exploration.actionResultQueue.push(t),e}:void 0}})),If(),Iu.getAll().forEach((function(e){Du.Storyline.register(new Su(e.name,ku.Storyline,e.hintDescription,e.isHintUnlockable,e.isCompleted))})),U.register(dd),ld(),sd(),Qe.setDemoMode(!0),Object(o.default)((function(){return Object(Je.jsx)(nc,{})}))}},[[381,1,2]]]);
//# sourceMappingURL=app.8af65025.chunk.js.map